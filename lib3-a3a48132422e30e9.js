(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7679],{29209:function(t,l,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/lib3",function(){return o(88195)}])},27422:function(t,l,o){"use strict";o.d(l,{C:function(){return A},P:function(){return D}});var n=o(94896);let d={userinfo:"liblibai_userinfo"};var c=o(69524);let u=(0,c.Yd)("@shakkerai/util-localstorage"),p=()=>(u.info("getUserinfoFromLocalStorage"),(0,n.ls)(d.userinfo)),v=t=>(u.info("setUserinfoToLocalStorage"),(0,n.ls)(d.userinfo,t));var h=o(2784),M=o(68411),N=o(35196),I=o(36827);let w=(0,c.Yd)("@liblibaix/business-userinfo"),A=async()=>{let t="getUserinfo";w.info(t);let l=p();if(l)return w.info(t,"from ls success"),l;let o=(0,M.FV)();if(!o){w.info(t,"from cookie fail, not login");return}let n=await (0,I.F1)(o);if(0!==n.code||!n.data){w.error(t,"get userinfo by token fail",n.msg);return}let d=n.data;return w.info(t,"from services success"),v(d),d},D=()=>{let[t,l]=(0,h.useState)(null),o=(0,h.useCallback)(async()=>{let t=(0,N.getCookie)("usertoken");if(!t)return null;{let o=await (0,I.F1)(t);return 0===o.code&&o.data?(l(o.data),o.data):null}},[]);return{userInfo:t,loadUserInfo:o}}},65858:function(t,l,o){"use strict";o.d(l,{aj:function(){return M}});var n=o(49833),d=o(11187),c=o(56804),u=o(1464);let p=t=>new Promise(l=>setTimeout(l,t)),v=c.tY();d.ZP.config({maxCount:1});let h=t=>u.Z.post((0,n.G)("/api/www/img/getDownloadUrl"),t),M=async function(t){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;d.ZP.info(v?"正在下载中...":"下载准备中，请稍后...");for(let c=1;c<=l;c++)try{var n;let u=await h(t);if((null===(n=u.data)||void 0===n?void 0:n.downloadUrl)&&""!==u.data.downloadUrl.trim())return v||d.ZP.success("下载准备完成，开始下载"),u.data;c<l&&await p(o)}catch(t){throw d.ZP.error("下载准备失败，请稍后重试"),Error("Failed to get download URL")}return{downloadUrl:t.fileUrl}}},82240:function(t,l,o){"use strict";var n=o(52322),d=o(2784),c=o(53625),u=o(31271),p=o(55205),v=o.n(p);let h=t=>{let{visible:l,x:o,y:p,onClose:h,onDownload:M,onShare:N,downloadText:I,shareText:w,downloadProps:A,onCopy:D,copyText:T}=t,z=(0,d.useRef)(null);if((0,d.useEffect)(()=>{let t=t=>{var l;let o=t.target;(null===(l=z.current)||void 0===l?void 0:l.contains(o))||o.closest(".ant-popover")||o.closest(".ant-modal")||o.closest(".download-button-popover")||o.closest('[class*="ant-popover"]')||h()},o=t=>{"Escape"===t.key&&h()};return l&&(document.addEventListener("click",t,!0),document.addEventListener("keydown",o)),()=>{document.removeEventListener("click",t,!0),document.removeEventListener("keydown",o)}},[l,h]),!l)return null;let C=t=>{var l,o;null===(o=A)||void 0===o||null===(l=o.onDownloadSuccess)||void 0===l||l.call(o,t),h()},S=t=>{var l,o;null===(o=A)||void 0===o||null===(l=o.onDownloadError)||void 0===l||l.call(o,t)};return(0,n.jsxs)("div",{ref:z,className:v().contextMenu,style:{position:"fixed",left:o,top:p,zIndex:9999},children:[A?(0,n.jsxs)(u.o,{fileUrl:A.fileUrl,originalImageUrl:A.originalImageUrl,mediaType:A.mediaType,fileName:A.fileName,detailUuid:A.detailUuid,reportData:A.reportData,onDownloadSuccess:C,onDownloadError:S,onClick:M,className:v().menuItem,stopPropagation:!0,showWatermarkOptions:!0,children:[(0,n.jsx)(c.J,{className:"icon-lib3-down",fontSize:16}),(0,n.jsx)("span",{children:I})]}):(0,n.jsxs)("div",{className:v().menuItem,onClick:M||void 0,children:[(0,n.jsx)(c.J,{className:"icon-lib3-down",fontSize:16}),(0,n.jsx)("span",{children:I})]}),w&&(0,n.jsxs)("div",{className:v().menuItem,onClick:N,children:[(0,n.jsx)(c.J,{className:"icon-border_share",fontSize:16}),(0,n.jsx)("span",{children:w})]}),T&&(0,n.jsxs)("div",{className:v().menuItem,onClick:D,children:[(0,n.jsx)(c.J,{className:"icon-border_copy",fontSize:16}),(0,n.jsx)("span",{children:T})]})]})};l.Z=h},47282:function(t,l,o){"use strict";o.d(l,{k:function(){return N}});var n=o(52322),d=o(11187),c=o(2784),u=o(64031),p=o(42640),v=o(30811);let h=(t,l,o)=>{var n;let c="image/jpg"===t.type||"image/jpeg"===t.type||"image/png"===t.type;return"number"==typeof l&&1!==l&&o>=l?(d.ZP.error("上传文件数量超过限制！"),!0):(null===(n=t)||void 0===n?void 0:n.size)&&t.size/1024/1024>20?(d.ZP.error("图片大于20M 不支持上传"),!0):!c&&(d.ZP.error("只能上传JPG、PNG、JPEG格式图片!"),!0)},M=(t,l,o)=>("video/mp4"===t.type||t.type,"number"==typeof l&&1!==l&&o>=l&&(d.ZP.error("上传文件数量超过限制！"),!0));function N(t){let{maxCount:l,value:o,onChange:d,isSD:N,isVideo:I}=t,w=(0,u.useCurrentUser)(),[A,D]=(0,c.useState)([]),T=(0,c.useRef)([]),[z,C]=(0,c.useState)(!1),S=(0,c.useRef)();(0,c.useEffect)(()=>{z&&(D([...T.current.map(t=>({rawFile:t,uploadProcess:p.X6.IMAGE_UPLOAD_INIT})),...A]),C(!1),T.current=[])},[z]);let k=(0,c.useCallback)((t,l)=>{var o;A[l]=t;let n=[...A];D(n),null===(o=d)||void 0===o||o(n)},[A]),L=(0,c.useMemo)(()=>A.map((t,l)=>{var o,d,c,u;let p=(null===(o=t.rawFile)||void 0===o?void 0:o.uid)||(null===(c=t)||void 0===c?void 0:null===(d=c.fileInfo)||void 0===d?void 0:d.uid)||"in"+l;return(0,n.jsx)(v.L,{file:t,itemKey:p,index:l,userUUID:(null===(u=w)||void 0===u?void 0:u.uuid)||"",onUpdataProcess:k,isSD:N},p)}),[A,w,k]),E=(0,c.useMemo)(()=>A.some(t=>![p.X6.IMAGE_VERIFY_FAILED,p.X6.IMAGE_UPLOAD_FINISH].includes(t.uploadProcess)),[A]),U=(0,c.useCallback)(async t=>{if(I){if(M(t,l,A.length))return!1}else if(h(t,l,A.length))return!1;return T.current.push(t),S.current&&clearTimeout(S.current),S.current=setTimeout(()=>{C(!0)},500),!1},[A,l]),O=t=>{let l=A.filter(l=>{var o,n;return(null===(n=l)||void 0===n?void 0:null===(o=n.fileInfo)||void 0===o?void 0:o.uid)!==t.uid});D(l),d&&d(l)};(0,c.useEffect)(()=>{o&&D(o)},[o]);let Q={beforeUpload:U,onRemove:O,maxCount:l,accept:I?"video/mp4,video/webm":"image/png, image/jpeg, image/png",multiple:!0,loading:E};return{uploadConfig:Q,uploadingFileNodes:L}}},7905:function(t,l,o){"use strict";function n(t){let l=[],o=[];return t.forEach(t=>{o.includes(t.uuid)||(l.push(t),o.push(t.uuid))}),l}o.d(l,{Nb:function(){return n},OG:function(){return c},fq:function(){return d}});let d=t=>{if(!t)return[];if(Array.isArray(t))return t;let l=null;try{l=JSON.parse(t)}catch(t){}return l&&Array.isArray(l)?l:[]},c=t=>t?"string"==typeof t?t:JSON.stringify(t):""},36008:function(t,l,o){"use strict";o.d(l,{H:function(){return M}});var n=o(52322),d=o(12524),c=o.n(d),u=o(27134),p=o(47944),v=o.n(p),h=o(52808);let M=t=>{let{text:l,className:o}=t,{colorScheme:d}=(0,u.X)(),p="dark"===d;return(0,n.jsxs)("div",{className:c()(v().empty,o),children:[(0,n.jsx)("img",{src:p?h.Lj:h.RW,className:v().emptyIcon,alt:""}),(0,n.jsx)("div",{className:v().emptyText,children:l||"暂无评论，快发表你的意见吧～"})]})}},52808:function(t,l,o){"use strict";o.d(l,{Lj:function(){return u.a},RW:function(){return d.a},sd:function(){return v.a}});var n=o(46977),d=o.n(n),c=o(95259),u=o.n(c);o(37024),o(66692);var p=o(85210),v=o.n(p)},15931:function(t,l,o){"use strict";o.d(l,{E:function(){return T}});var n=o(52322),d=o(56697),c=o(89947),u=o.n(c),p=o(51675),v=o(65829),h=o(25444),M=o(69527),N=o.n(M),I=o(42868),w=o.n(I);let A=async t=>{var l,o;let n=await h.x1.post("/img/add-lib-watermark",{imageUrl:t});return 0===n.code&&(null===(o=n.data)||void 0===o?void 0:null===(l=o.items)||void 0===l?void 0:l.length)?n.data.items[0].imageUrl:t},D=async t=>{var l,o;try{let o=(null===(l=t.split("/").pop())||void 0===l?void 0:l.split("?")[0])||"download.jpg",n=await fetch(t),d=await n.blob(),c=URL.createObjectURL(d),u=document.createElement("a");u.href=c,u.download=o,u.style.display="none",document.body.appendChild(u),u.click(),document.body.removeChild(u),setTimeout(()=>URL.revokeObjectURL(c),100)}catch(n){console.error("下载失败:",n);let l=document.createElement("a");l.href=t,l.download=(null===(o=t.split("/").pop())||void 0===o?void 0:o.split("?")[0])||"download.jpg",l.target="_blank",l.click()}},T=t=>{var l;let{showDialog:o,onCancel:c,downloadList:h,source:M="comfy"}=t,I=(0,p.T)(),T=t=>{let l=[],o=[];h.forEach((n,d)=>{l.push(n.url),n.id&&o.push(n.id),setTimeout(async()=>{var l;let o=null===(l=n.url)||void 0===l?void 0:l.split("/");o[o.length-1]&&o[o.length-1].split("?")[0];let d=document.createElement("iframe");d.style.display="none",d.style.height="0";let u=n.url;t&&(u=await A(n.url)),await D(u),d.src=u,document.body.appendChild(d),setTimeout(()=>{d.remove(),c(!1)},1e3)},600*d)}),I({t:2,e:"".concat(M,".generate.resp.download"),var:{"img-ids":o,"img-urls":l,"gen-img-type":"gallery"}})};return(0,n.jsx)(d.default,{open:o,onCancel:()=>{c(!1)},destroyOnHidden:!0,className:N().shareImgModal,closeIcon:(0,n.jsx)("img",{src:u()}),title:(0,n.jsx)("div",{className:N().header,children:(0,n.jsx)("span",{className:N().subtitle,children:"下载图片"})}),styles:{body:{width:"508px"}},footer:(0,n.jsxs)("div",{className:N()["dialog-footer"],children:[(0,n.jsx)("div",{onClick:()=>{T()},className:"".concat(N()["download-btn"]," ").concat(N()["download-common"]),children:"直接下载"}),(0,n.jsx)("div",{onClick:()=>{T("ai")},className:"".concat(N()["download-btn"]," ").concat(N()["download-ai"]),children:"生成品牌标识并下载"})]}),children:(null===(l=h[0])||void 0===l?void 0:l.url)&&(0,n.jsxs)("div",{className:N()["download-img-box"],children:[(0,n.jsx)("img",{src:(0,v.sz)(h[0].url,234),alt:"",className:N()["download-img"]}),(0,n.jsxs)("div",{className:N()["download-img-outbox"],children:[(0,n.jsx)("img",{src:(0,v.sz)(h[0].url,234),alt:"",className:N()["download-img"]}),(0,n.jsx)("div",{className:N()["waterMark-box"],children:(0,n.jsx)("div",{className:N().libwatermark,style:{backgroundImage:"url(".concat(w(),")")}})})]})]})})}},67894:function(t,l,o){"use strict";o.d(l,{I:function(){return d},b:function(){return n}});let n={closeTimeout:12e4,localKey:"AccelerationActivity",localData:{time:0,lastOpenTime:"2025-03-13T12:40:17.089Z"},maxTime:5,intervalTime:36e5},d={localKey:"AccelerationActivityAbtest",localData:{time:0,lastOpenTime:"2025-03-13T12:40:17.089Z"},maxTime:10,intervalTime:18e5,queueNum:30}},28973:function(t,l,o){"use strict";o.d(l,{JA:function(){return u},Mm:function(){return c},jT:function(){return n},v3:function(){return d}});let n={1200000136:1,1200000141:3,1200000146:5,1200000148:13,1200000149:14,1200000413:19,1200000170:32,1200000157:33,1200000158:37,1200000415:43,1200000416:44,1200000160:45,1200000417:58},d=Object.keys(n),c=1200000418,u=1200000419},31271:function(t,l,o){"use strict";o.d(l,{o:function(){return N}});var n=o(52322),d=o(2784),c=o(53625),u=o(65400),p=o.n(u);o(56697);var v=o(62443),h=o(63880),M=o(44930);o(35966);let N=t=>{let{fileUrl:l,originalImageUrl:o,mediaType:u,fileName:N,detailUuid:I,reportData:w,className:A="",icon:D,children:T,stopPropagation:z=!0,onDownloadStart:C,onDownloadSuccess:S,onDownloadError:k,onClick:L,disabled:E=!1,iconSize:U=16,showWatermarkOptions:O=!0,showPopover:Q=!1}=t,[Y,B]=(0,d.useState)(!1),[P,W]=(0,d.useState)(!1),[R,Z]=(0,d.useState)(!1);(0,d.useRef)(null);let F=(0,d.useRef)(null),G=(0,d.useRef)(null),{isVip:V}=(0,M.RR)();Array.isArray(l)&&l.length;let J=(0,d.useCallback)(async t=>{if(!E&&!Y&&(z&&t.stopPropagation(),L)){L(t);return}},[E,Y,z,L,O,o,V]),H=(0,d.useCallback)(()=>{let t=Array.isArray(o)?o.filter(t=>t).length>0:!!o;E||Y||!O||!t||V||(G.current&&(clearTimeout(G.current),G.current=null),W(!0))},[E,Y,O,o,V]),X=(0,d.useCallback)(()=>{G.current&&clearTimeout(G.current),G.current=setTimeout(()=>{W(!1),G.current=null},150)},[]),K=(0,d.useCallback)(()=>{G.current&&(clearTimeout(G.current),G.current=null),W(!0)},[]),q=(0,d.useCallback)(()=>{G.current&&clearTimeout(G.current),G.current=setTimeout(()=>{W(!1),G.current=null},150)},[]),$=(0,n.jsxs)("div",{onMouseEnter:K,onMouseLeave:q,onClick:t=>{t.stopPropagation()},children:[(0,n.jsx)("video",{src:"https://liblibai-online.liblib.cloud/web/a72cf0d036f9438f91487999d2db0e0b/71083039-f87d-4c96-8f43-3e3ca2b07b64.mp4",autoPlay:!0,muted:!0,loop:!0,preload:"none",disablePictureInPicture:!0,className:"w-[248px] h-full object-cover rounded-[8px]"}),(0,n.jsx)("div",{className:"text-[12px] text-[#0D0D0D] dark:text-[#F7F7F7] font-semibold pt-4",children:"无品牌水印直出"}),(0,n.jsx)("div",{className:"text-[12px] text-[#787878] dark:text-[#B0B0B0] font-normal py-2",children:"会员专享，图片/视频无品牌水印下载通道"}),(0,n.jsx)(p(),{type:"primary",onClick:()=>{(0,h.jU)({billingReferer:57,failurePrompt:["升级会员即可享无品牌水印纯净下载通道"]}),W(!1)},className:"w-full h-[32px] bg-[#0E1014] border-[#0E1014] hover:!bg-[#0E1014] hover:!border-[#0E1014] text-[#fff] text-[12px] font-medium dark:text-[#0D0D0D] dark:bg-[#fff] dark:border-[#fff] dark:hover:!bg-[#fff] dark:hover:!border-[#fff]",children:"开通会员"})]});if(void 0!==T){let t=(0,n.jsx)("div",{ref:F,className:A,onClick:J,onMouseEnter:H,onMouseLeave:X,style:{cursor:E||Y?"not-allowed":"pointer"},children:T});return(Array.isArray(o)&&o.filter(t=>t).length,!V&&Q)?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(v.default,{content:$,open:P,onOpenChange:t=>{t||(G.current&&(clearTimeout(G.current),G.current=null),W(!1))},trigger:[],zIndex:9999,arrow:!1,placement:"bottom",overlayClassName:"download-button-popover",overlayStyle:{borderRadius:"12px",padding:"4px",pointerEvents:"auto"},overlayInnerStyle:{padding:"16px",backgroundColor:"var(--model-pop-bg-hover)"},mouseEnterDelay:0,mouseLeaveDelay:150,children:t})}):t}let ee=(0,n.jsx)("div",{ref:F,className:A,onClick:J,onMouseEnter:H,onMouseLeave:X,style:{cursor:E||Y?"not-allowed":"pointer",opacity:E||Y?.6:1},children:D||(0,n.jsx)(c.J,{class:"icon-lib3-down",fontSize:U})});return(Array.isArray(o)&&o.filter(t=>t).length,!V&&Q)?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(v.default,{content:$,open:P,onOpenChange:t=>{t||(G.current&&(clearTimeout(G.current),G.current=null),W(!1))},trigger:[],zIndex:9999,arrow:!1,placement:"bottom",overlayClassName:"download-button-popover",overlayStyle:{borderRadius:"12px",padding:"4px",pointerEvents:"auto"},overlayInnerStyle:{padding:"16px",backgroundColor:"var(--model-pop-bg-hover)"},mouseEnterDelay:0,mouseLeaveDelay:150,children:ee})}):ee}},67170:function(t,l,o){"use strict";o.d(l,{Z:function(){return ed}});var n,d,c,u,p,v,h,M,N,I=o(52322),w=o(2784),A=o(53625),D=o(31929),T=o(6154),z=o(91633),C=o(56697),S=o(69843),k=o(64713),L=o(89552),E=o(75734);function U(){return(U=Object.assign?Object.assign.bind():function(t){for(var l=1;l<arguments.length;l++){var o=arguments[l];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t}).apply(this,arguments)}var O=function(t){return w.createElement("svg",U({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},t),n||(n=w.createElement("rect",{width:24,height:24,fill:"#fff",fillOpacity:.85,rx:4})),d||(d=w.createElement("path",{fill:"#0D0D0D",d:"M18.666 8.6h-1.4V16a2.6 2.6 0 0 1-2.6 2.6H9.333a2.6 2.6 0 0 1-2.6-2.6V8.6h-1.4V7.4h13.333zM7.934 16a1.4 1.4 0 0 0 1.4 1.4h5.332a1.4 1.4 0 0 0 1.4-1.4V8.6H7.935zm6.732-9.4H9.333V5.4h5.333z"})))};function Q(){return(Q=Object.assign?Object.assign.bind():function(t){for(var l=1;l<arguments.length;l++){var o=arguments[l];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t}).apply(this,arguments)}var Y=function(t){return w.createElement("svg",Q({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},t),c||(c=w.createElement("rect",{width:24,height:24,fill:"#fff",fillOpacity:.85,rx:4})),u||(u=w.createElement("path",{fill:"#0D0D0D",d:"M11.091 13.758 7.45 17.4H10v1.2H6.666c-.7 0-1.266-.567-1.266-1.267V14h1.2v2.551l3.643-3.642zM17.333 5.4c.7 0 1.267.567 1.267 1.266V10h-1.2V7.45l-3.642 3.641-.85-.848L16.552 6.6h-2.55V5.4z"})))},B=o(88916),P=o(23363),W=o(33524),R=o(65829),Z=o(35887),F=o(39533);function G(){return(G=Object.assign?Object.assign.bind():function(t){for(var l=1;l<arguments.length;l++){var o=arguments[l];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t}).apply(this,arguments)}var V=function(t){return w.createElement("svg",G({xmlns:"http://www.w3.org/2000/svg",width:20,height:21,fill:"none"},t),p||(p=w.createElement("rect",{width:19,height:19,x:.5,y:1.333,fill:"#1F6DFF",rx:9.5})),v||(v=w.createElement("rect",{width:19,height:19,x:.5,y:1.333,stroke:"#fff",rx:9.5})),h||(h=w.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M13.682 7.515a.45.45 0 0 1 .636.637l-5.5 5.5a.45.45 0 0 1-.636 0l-2.5-2.5a.45.45 0 0 1 .636-.637L8.5 12.697z",clipRule:"evenodd"})))};function J(){return(J=Object.assign?Object.assign.bind():function(t){for(var l=1;l<arguments.length;l++){var o=arguments[l];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t}).apply(this,arguments)}var H=function(t){return w.createElement("svg",J({xmlns:"http://www.w3.org/2000/svg",width:20,height:21,fill:"none"},t),M||(M=w.createElement("circle",{cx:10,cy:10.833,r:9.5,fill:"#0D0D0D",fillOpacity:.3,stroke:"#fff"})))},X=o(17236),K=o.n(X),q=o(28465),$=o(11187),ee=o(64031),et=o(42640);function ei(){return(ei=Object.assign?Object.assign.bind():function(t){for(var l=1;l<arguments.length;l++){var o=arguments[l];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t}).apply(this,arguments)}var ea=function(t){return w.createElement("svg",ei({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,fill:"none"},t),N||(N=w.createElement("path",{fill:"#929292",d:"M6.582 29.097c0 .63.094 1.26.318 2.01l.064.213c.948 2.828 3.558 4.728 6.493 4.728h26.615l-1.65 5.31c-.469 1.806-2.137 3.03-3.963 3.03a4.2 4.2 0 0 1-1.056-.136l-28.35-7.676c-2.187-.61-3.49-2.898-2.918-5.106l4.447-15.01zM41.416 3.61C43.943 3.61 46 5.69 46 8.245v20.389c0 2.554-2.057 4.634-4.584 4.634h-27.5c-2.527 0-4.584-2.08-4.584-4.634V8.245c0-2.554 2.057-4.634 4.583-4.634zm-27.5 3.707a.923.923 0 0 0-.917.927v17.496l5.06-5.115a3.194 3.194 0 0 1 4.547 0l2.218 2.237 6.81-8.262a3.2 3.2 0 0 1 2.45-1.17c.954.022 1.843.412 2.457 1.14l5.792 6.833V8.245a.923.923 0 0 0-.917-.927zm4.583 1.853c2.023 0 3.667 1.663 3.667 3.707 0 2.045-1.644 3.708-3.667 3.708s-3.667-1.663-3.667-3.708 1.645-3.707 3.667-3.707"})))};let{Dragger:eo}=q.default,en=(0,w.forwardRef)((t,l)=>{let{fileList:o=[],onUploadSuccess:n,videoSupport:d,videoOnly:c}=t,u=(0,ee.useCurrentUser)(),{isMobile:p}=(0,P.z9)(),[v,h]=(0,w.useState)(!1),M=(0,w.useRef)(null),N=async t=>{var l,o,d,c,p;h(!0);let{file:v,onSuccess:M,onError:N}=t;try{let t=await (0,et.$F)(v,(null===(l=u)||void 0===l?void 0:l.uuid)||""),{result:c,uploadFile:p,validation:N}=t,{isValid:I,url:w}=c,{width:A,height:D,duration:T,isVideo:z}=N;if(!I)throw Error("参考图审核未通过, 请重新上传");let{lastModified:C,size:S,name:k}=p,L={lastModified:C,size:S,originalName:k,width:A,height:D,path:c.file,url:w,...z?{duration:T,videoUrl:w}:{imageUrl:w,originalImageUrl:w}};return await (null===(o=M)||void 0===o?void 0:o(L)),await (null===(d=n)||void 0===d?void 0:d(L)),new Promise(t=>{setTimeout(()=>{h(!1),t(!0)},500)})}catch(t){h(!1),$.ZP.error((null===(c=t)||void 0===c?void 0:c.message)||"图片上传失败"),null===(p=N)||void 0===p||p(t)}},A=()=>c?"video/mp4,video/mov,video/avi,video/mkv,video/wmv,video/quicktime,.mov,.mkv,.avi,.mp4,.wmv":d?"image/jpeg,image/jpg,image/png,image/webp,video/mp4,video/mov,video/avi,video/mkv,video/wmv,.mov,.mkv,.avi,.mp4,.wmv":"image/jpeg,image/jpg,image/png,image/webp",D={name:"image",multiple:!0,fileList:o,customRequest:N,accept:A()},z=(0,w.useMemo)(()=>o.length>0,[o]);return(0,w.useImperativeHandle)(l,()=>({handleUpload:N,dragRef:M})),(0,I.jsx)(eo,{...D,fileList:[],className:"".concat(K().editorUploadDragger," ").concat(z?K().hasHistoryUploadDragger:""),ref:M,beforeUpload:(t,l)=>!0,children:v?(0,I.jsx)(L.default,{size:"large"}):(0,I.jsxs)("div",{className:"w-full flex flex-col items-center gap-2",children:[!z&&(0,I.jsx)(ea,{className:"mb-6"}),(0,I.jsxs)(T.Z,{className:"".concat(z?"flex-col items-center":"w-full"," font-medium"),justify:"center",gap:4,children:[(0,I.jsx)("div",{className:"text-[#1F6DFF] dark:text-[#4B7DFF] b768:border-b border-[#1F6DFF] dark:border-[#4B7DFF] w-[fit-content] text-center text-[12px] b768:text-[14px]",children:"点击上传"}),!p&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("span",{className:"text-[#929292] pr-1",children:" 或 "}),(0,I.jsxs)("div",{className:"text-[#303030] dark:text-[#929292]",children:["拖拽本地",c?"视频":d?"图片或视频":"图片","至此上传"]})]})]}),!z&&(0,I.jsx)("div",{className:"w-full text-cente text-[#787878] dark:text-[#B0B0B0]",children:"请勿上传裸露、暴力、血腥或其他包含非法信息图片"})]})})});var es=en;let er=t=>{let{isMobile:l}=(0,P.z9)(),{visible:o,onClose:n,tabNum:d=1,total:c,localImgData:u=[],loading:p=!1,title:v="仅可上传本次编辑的模型版本所生成的图片",options:h=["Custom","WebUI","ComfyUI"],checkLength:M=0,handleSelect:N,handleTab:U,maxLength:Q=0,changeTotal:G,addImg:J,locImgPage:X,locImgPageSize:q,type:$="img",withVideo:ee=!1,onChangeToVideo:et,onUploadLocalImgSuccess:ei,onDeleteLocalImg:ea,onConfirm:eo,videoSupport:en=!0,videoOnly:er=!1,imageOnly:ed=!1}=t,[ec,eu]=(0,w.useState)(!1),[em,eg]=(0,w.useState)(0),ep=(0,w.useRef)(null),ev={本地上传:0,WebUI:1,ComfyUI:3,Picpic:2,AI应用:4,图片生成器:5,视频生成器:6,模版创作:7},eh={0:"本地上传",1:"WebUI",3:"ComfyUI",2:"Picpic",4:"AI应用",5:"图片生成器",6:"视频生成器",7:"模版创作"},ef=(0,w.useMemo)(()=>{var t,l;let o=(null===(t=u[em])||void 0===t?void 0:t.imageUrl)||(null===(l=u[em])||void 0===l?void 0:l.videoUrl);return -1!==Z.v4.findIndex(t=>{var l;return null===(l=o)||void 0===l?void 0:l.includes(t)})||(0,W.e)(o)},[u,em]),eM=(0,w.useMemo)(()=>d===ev["本地上传"],[d]),ej=t=>{ei(t)};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(C.default,{open:o,closable:!1,centered:!0,width:l?"90dvw":"calc(100vw - 320px)",className:K().editorImageSelectModal,wrapClassName:K().editorImageSelectWrap,styles:{mask:{backgroundColor:"rgba(0, 0, 0, 0.8)"},content:{maxWidth:"1600px",margin:"0 auto"}},zIndex:1050,footer:(0,I.jsxs)(T.Z,{justify:"space-between",className:"".concat(K().footerUploadBtn," dark:!border-[rgba(255,255,255,0.20)]"),children:[(0,I.jsx)("div",{className:"h-[42px] flex items-center",children:c&&c>0&&!eM?(0,I.jsx)(S.default,{current:X,pageSize:q,total:c,pageSizeOptions:[15,30,45,60],onChange:(t,l)=>G(t,l),showTitle:!l,showQuickJumper:!l,showSizeChanger:!l,simple:l,responsive:!0}):null}),(0,I.jsx)("div",{className:"".concat(K().uploadBtn," dark:!bg-[#4B7DFF] hover:!bg-[#1957CC] dark:hover:!bg-[#4471E5]"),onClick:J,children:"确定"})]}),children:[(0,I.jsxs)("div",{className:"b768:pt-6 pt-4 b768:px-6 px-4 flex items-center justify-between",children:[(0,I.jsx)("div",{className:"text-[var(--sd-btn-sub-text)] text-[18px] font-medium",children:v}),(0,I.jsx)(A.J,{className:"icon-a-comfy_chooselora_close b768:-mt-4 b768:-mr-3 !text-[#787878] hover:!text-[#000] dark:hover:!text-[#f0f0f0] cursor-pointer hover:bg-[var(--color-editor-upload-drag-bg)] rounded-[8px] px-2 py-1",onClick:n,fontSize:16})]}),(0,I.jsxs)("div",{onDragOver:t=>{t.preventDefault(),t.stopPropagation()},onDrop:async t=>{var l,o,n;if(t.preventDefault(),t.stopPropagation(),null===(o=ep)||void 0===o?void 0:null===(l=o.current)||void 0===l?void 0:l.dragRef.current.upload.uploader.fileInput.parentElement.contains(t.target))return;let d=[];d=er?["video/mp4","video/mov","video/avi","video/mkv","video/wmv","video/quicktime"]:en?["image/jpeg","image/jpg","image/png","video/mp4","video/mov","video/avi","video/mkv","video/wmv","video/quicktime"]:["image/jpeg","image/jpg","image/png"];let c=t.dataTransfer.files,u=Array.from(c).filter(t=>!d.includes(t.type));if(u.length>0){C.default.warning({title:er?"仅允许上传视频文件":"仅允许上传JPG、JPEG、PNG格式的图片",content:er?"请检查您上传的文件格式，支持 MP4、MOV、AVI、MKV、WMV 格式。":"请检查您上传的文件格式。",centered:!0});return}for(let t of Array.from(c))null===(n=ep.current)||void 0===n||n.handleUpload({file:t})},className:"".concat(K().mod," b768:pt-4 pt-2 b768:px-6 px-4"),children:[(0,I.jsxs)("div",{className:"flex items-center justify-between relative mb-5 border-b border-[var(--color-editor-border)]",children:[(0,I.jsx)("div",{className:"flex-1 overflow-x-auto hide-scrollbar",children:(0,I.jsx)(B.Z,{tagList:h.map(t=>({id:t,tagLabel:t})),activeKey:eh[d],onChange:t=>{var l;return null===(l=U)||void 0===l?void 0:l(ev[t])}})}),(!eM||eM&&u.length>0)&&(0,I.jsxs)("div",{className:"relative flex-shrink-0 text-[var(--color-text-local-check)] text-[13px] px-2",children:[l&&(0,I.jsx)("div",{className:"absolute inset-y-0 left-0 w-2 bg-gradient-to-r from-transparent to-[var(--color-editor-background-input)] pointer-events-none -ml-2"}),eM&&!l&&(er?"以下是最近上传的30个视频，":"以下是最近上传的30张图片，"),"已选",(0,I.jsxs)("span",{className:"text-[#1f6dff] px-1",children:[M||0,"/",Q]}),er?"个":"张"]})]}),ee&&(0,I.jsx)("div",{className:"mb-2",children:(0,I.jsxs)(k.default.Group,{onChange:t=>et&&et(t.target.value),defaultValue:"image",children:[(0,I.jsx)(k.default.Button,{value:"image",children:"图片"}),(0,I.jsx)(k.default.Button,{value:"video",children:"视频"})]})}),(0,I.jsx)(L.default,{spinning:p,size:"large",children:(0,I.jsxs)("div",{className:"".concat(K().editorListScrollbar," ").concat(u.length>0||!eM?K().imgBox:""," ").concat(u.length>0?"pb-5":""),children:[eM&&(0,I.jsx)("div",{className:"".concat(u.length>0?K().imgWrap:"mr-[10px]"," !border-none"),children:(0,I.jsx)(es,{ref:ep,maxCount:Q,fileList:u,onUploadSuccess:ej,videoSupport:en,videoOnly:er})}),(eM&&u.length||!eM)&&!p&&(0,I.jsx)(I.Fragment,{children:(0,I.jsx)("div",{style:{display:"contents"},children:u&&u.length>0?u.map((t,o)=>{var n,c,u,p,v,h,w;let A=-1!==Z.v4.findIndex(l=>{var o,n;return null===(n=t)||void 0===n?void 0:null===(o=n.imageUrl)||void 0===o?void 0:o.includes(l)})||-1!==Z.v4.findIndex(l=>{var o,n;return null===(n=t)||void 0===n?void 0:null===(o=n.videoUrl)||void 0===o?void 0:o.includes(l)}),D=(0,W.e)(null===(n=t)||void 0===n?void 0:n.imageUrl)||(0,W.e)(null===(c=t)||void 0===c?void 0:c.videoUrl),T=er&&!A&&!D||ed&&(A||D),z=M>=Q&&!t.selected&&1!=Q,C=T||z;return(0,I.jsxs)("div",{className:"".concat(K().imgWrap," group dark:!bg-[#20242A] ").concat(T?"opacity-50":""),style:{cursor:C?"not-allowed":"pointer"},onClick:()=>{!C&&N&&N(t,A,o)},onDoubleClick:()=>{var l;T||null===(l=eo)||void 0===l||l(t)},children:[(0,I.jsxs)("div",{className:K().selectCover,children:[6===d?(0,I.jsx)("div",{className:"absolute top-[0] left-[0] right-0 bottom-0 flex items-center justify-center",children:(0,I.jsx)("div",{onClick:()=>{var l;return null===(l=eo)||void 0===l?void 0:l(t)},className:"w-[110px] opacity-0 group-hover:opacity-100 h-[32px] rounded-[8px] bg-[#0000004D] backdrop-blur-[20px] text-center leading-[32px] text-[#FFFFFF]",children:"选择视频"})}):(0,I.jsx)("span",{className:"opacity-100 b768:opacity-0 group-hover:opacity-100 ".concat(K().selectIcon," ").concat(t.selected?K().selectedIcon:""),children:t.selected?(0,I.jsx)(V,{}):C?(0,I.jsx)(H,{className:"opacity-50"}):(0,I.jsx)(H,{})}),(null===(u=t)||void 0===u?void 0:u.uploadFrom)==="example"&&(0,I.jsx)("div",{className:"absolute top-2 right-2 text-xs text-[#FFFFFF] bg-[#00000080] px-2 py-[3px] rounded-[11px]",children:"例图"}),!l&&(null===(p=t)||void 0===p?void 0:p.uploadFrom)!=="example"&&d===ev["本地上传"]&&(0,I.jsx)("div",{className:"opacity-100 b768:opacity-0 group-hover:opacity-100 ".concat(K().deleteIcon),onClick:l=>{l.stopPropagation(),ea(t)},children:(0,I.jsx)(O,{className:"text-[#0D0D0D]"})}),l?null:(0,I.jsx)("div",{className:"opacity-0 group-hover:opacity-100 ".concat(K().showFullIcon),onClick:t=>{t.stopPropagation(),eu(!0),eg(o)},children:(0,I.jsx)(Y,{className:"text-[#0D0D0D]"})})]}),6===d?(0,I.jsxs)("div",{style:{height:"292px"},children:[(0,I.jsx)("img",{src:(0,R.sz)(t.imageUrl||t.url||t.coverPathUrl||"",512),alt:"",className:K().customImage}),(0,I.jsx)("video",{preload:"none",disablePictureInPicture:!0,src:(null===(v=t)||void 0===v?void 0:v.videoUrl)||(null===(h=t)||void 0===h?void 0:h.url)||(null===(w=t)||void 0===w?void 0:w.imageUrl),className:K().videoContent,loop:!0,playsInline:!0,autoPlay:!0,muted:!0,...(0,F.SW)()})]}):A||D?D?(0,I.jsx)("img",{src:(0,R.sz)(t.url,512),alt:"",className:K().customImage}):(0,I.jsx)("video",{preload:"metadata",disablePictureInPicture:!0,src:t.ossId||t.videoUrl||t.imageUrl||t.url,autoPlay:!0,loop:!0,muted:!0,style:{pointerEvents:"none"},className:K().customImage,...(0,F.SW)()}):(0,I.jsx)("img",{src:(0,R.sz)(t.imageUrl||t.url,512),alt:"",className:K().customImage})]},o)}):(0,I.jsx)("div",{className:K().noneBox,children:"图库中无对应工具的生图，快去生图吧"})},"".concat(X,"-").concat(eh[d]))})]})})]})]}),(0,I.jsxs)(D.default,{theme:{components:{Image:{zIndexPopup:1300}},token:{zIndexPopupBase:1400}},children:[ec&&!ef&&(0,I.jsx)(z.Z.PreviewGroup,{preview:{current:em,visible:ec,onVisibleChange:t=>eu(t),onChange:t=>eg(t)},items:u.map(t=>t.imageUrl||"")}),ec&&ef&&(0,I.jsx)(E.default,{src:u[em].videoUrl||u[em].ossId,onClose:()=>eu(!1)})]})]})};var ed=er},88916:function(t,l,o){"use strict";var n=o(52322),d=o(2784),c=o(6154),u=o(5394),p=o(20334),v=o(77073),h=o.n(v);let M=t=>{var l;let{activeKey:o,tagList:v,onChange:M,type:N="other",className:I}=t,{isDark:w}=(0,p.f)(),A=(0,d.useMemo)(()=>v,[v]),D=(0,u.T4)(),T=(0,d.useCallback)(t=>{var l;null===(l=M)||void 0===l||l(t.id),"style-select"===N&&D({e:"lib.image.editor.style_square.witch",t:2,var:{tab_name:t.tagLabel}})},[M]);return(0,n.jsx)(c.Z,{className:"".concat(h().TabSelect," w-[fit-content] relative ").concat(w?h().TabSelectDark:""," ").concat(I),gap:8,justify:"start",align:"center",style:{position:"relative"},children:null===(l=A)||void 0===l?void 0:l.map(t=>{var l,d;return(0,n.jsx)("div",{className:"".concat(h().TabSelectItem," ").concat(o===(null===(l=t)||void 0===l?void 0:l.id)?h().activeTag:""," shrink-0"),onClick:()=>T(t),children:null===(d=t)||void 0===d?void 0:d.tagLabel},t.id)})})};l.Z=M},36728:function(t,l,o){"use strict";o.d(l,{Ag:function(){return N},Zh:function(){return M},f7:function(){return h}});var n=o(2784),d=o(65858),c=o(44930),u=o(64031),p=o(82170);o(25444);var v=o(35887);let h=(t,l)=>{let o=2===l?t.originalImageId:t.originalImageUrl||t.originImageUrl,n=2===l?t.imageId:t.imageUrl;return{originalImageUrl:o,fileUrl:n}},M=(t,l)=>{var o,n,d,c;let u=2===l?null===(o=t)||void 0===o?void 0:o.ossId:(null===(n=t)||void 0===n?void 0:n.originalVideoUrl)||t.videoUrl,p=2===l?null===(d=t)||void 0===d?void 0:d.ossId:null===(c=t)||void 0===c?void 0:c.videoUrl;return{originalImageUrl:u,fileUrl:p}},N=function(){let{isTeam:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{isVip:l}=(0,c.RR)(),o=(0,u.useWatermarkSettingState)("removeWatermark"),h=(0,u.useWatermarkSettingState)("showWatermarkSetting"),M=(0,n.useCallback)(async o=>{let{originalImageUrl:n,fileUrl:c,uuid:u,imageUrl:M}=o;if(t&&M){(0,p.ZP)(M);return}let N=localStorage.getItem("firstShowWatermarkSetting");if(N){let t;let o="true"===localStorage.getItem("removeWatermark");if(o&&l)t=n;else{let{downloadUrl:l}=await (0,d.aj)({fileUrl:n,mediaType:"video"===(0,v.V4)(n)?2:1,needAiWaterMark:!o,detailUuid:u});t=l||n}(0,p.ZP)(t)}else h(),localStorage.setItem("firstShowWatermarkSetting","true")},[t,l,o,h]),N=(0,n.useCallback)(async t=>{let o;let{originalImageUrl:n,fileUrl:c,uuid:u,imageUrl:h}=t,M="true"===localStorage.getItem("removeWatermark");if(M&&l)o=n;else{let{downloadUrl:t}=await (0,d.aj)({fileUrl:n,mediaType:"video"===(0,v.V4)(n)?2:1,needAiWaterMark:!M,detailUuid:u});o=t||n}return await (0,p.Ag)(o)},[t,l,o,h]);return{handleDownload:M,copyImageToClipboard:N}}},94443:function(t,l,o){"use strict";o.d(l,{Sr:function(){return w},Wi:function(){return N},bw:function(){return v},km:function(){return I},qQ:function(){return h},rz:function(){return M}});var n=o(3554),d=o(67894),c=o(63880),u=o(11187),p=o(64031);let v=(t,l,o,n)=>{var c;if(t||l.have)return!1;let u=((null===(c=o)||void 0===c?void 0:c.uuid)||"")+d.I.localKey,p=localStorage.getItem(u);if(p){let t=JSON.parse(p)||d.I.localData;if(t.time>=d.I.maxTime||Date.now()-new Date(t.lastOpenTime).getTime()<d.I.intervalTime)return!1}return!0},h=async()=>{try{let t=await n.DL.getExperienceCard({businessType:2,type:2});return t}catch(t){return null}},M=async()=>{try{var t;let l=2,o=await n.DL.getActivityCard({couponId:l});if((null===(t=o.couponList)||void 0===t?void 0:t.length)>0){let{lastAmount:t,id:l}=o.couponList[0];return p.commercialStore.getState().setAcceleratorCard({have:!0,time:t,id:l,showTime:o.isShow||!1}),(0,c.XK)({type:"refresh_vip_info",data:null}),u.ZP.success("领取成功"),!0}}catch(t){u.ZP.error("领取失败，请稍后再试"),console.error("领取加速卡失败:",t)}return!1},N=(t,l)=>{var o;let n=((null===(o=t)||void 0===o?void 0:o.uuid)||"")+d.I.localKey;localStorage.setItem(n,JSON.stringify({time:l,lastOpenTime:new Date().toISOString()}))},I=t=>{var l;let o=((null===(l=t)||void 0===l?void 0:l.uuid)||"")+d.I.localKey,n=localStorage.getItem(o);if(n){let t=JSON.parse(n)||d.I.localData;return t.time+1}return 1},w=async t=>{try{var l,o,n;let c=((null===(l=t)||void 0===l?void 0:l.uuid)||"")+d.I.localKey,u=localStorage.getItem(c);if(u){let t=JSON.parse(u)||d.I.localData;if(t.time>=d.I.maxTime||Date.now()-new Date(t.lastOpenTime).getTime()<d.I.intervalTime)return{card:null,abTestGroup:null}}let p=await h();if((null===(o=p)||void 0===o?void 0:o.id)&&(null===(n=p)||void 0===n?void 0:n.abtest)){let t=p.abtest.group;return{card:p,abTestGroup:t}}return{card:null,abTestGroup:null}}catch(t){return{card:null,abTestGroup:null}}}},68355:function(t,l,o){"use strict";o.d(l,{T:function(){return S},Z:function(){return k}});var n=o(52322),d=o(2784),c=o(64031),u=o(44930),p=o(94443),v=o(51675),h=o(37787),M=o.n(h);let N=t=>{let{show:l,onClose:o,className:u,getCard:p,queueNum:h}=t,{total:N}=(0,c.commercialStore)(),I=(0,v.T)(),{sence:w}=d.useContext(S),A=()=>{o(),I({e:"queue_jump_card_novice.close",var:{from:w}})};return((0,d.useEffect)(()=>{l&&I({e:"queue_jump_card_novice.show",var:{from:w}})},[l]),l)?(0,n.jsxs)("div",{className:"".concat(M().speedBoxWrap," ").concat(u||""),children:[(0,n.jsx)("div",{className:M().speedbg}),(0,n.jsxs)("div",{className:M().speedBoxAbtest,children:[(0,n.jsx)("div",{className:M().title,children:"开启生图加速"}),(0,n.jsxs)("div",{className:M().tips,children:[(0,n.jsx)("span",{className:M().tipsLeft}),(0,n.jsxs)("span",{className:M().tipsCenter,children:["当前生图排队人数 ",(0,n.jsx)("span",{className:M().tipn,children:h})]}),(0,n.jsx)("span",{className:M().tipsRight})]}),(0,n.jsxs)("div",{className:M().countWrap,children:[(0,n.jsx)("span",{className:M().conut,children:N}),(0,n.jsx)("span",{className:M().numt,children:"次"}),(0,n.jsx)("span",{className:M().countLine}),(0,n.jsxs)("div",{className:M().countTip,children:[(0,n.jsx)("div",{className:M().coTip,children:"生图加速特权"}),(0,n.jsx)("div",{className:M().conutTip,children:"告别排队等待"})]})]}),(0,n.jsx)("img",{className:M().closeBox,src:"https://liblibai-online.liblib.cloud/web/ef0097ae9da74189a0f5d604e98c77cd/26333927-fd9f-4886-a639-bd59caaeb946.png",width:"32",onClick:A}),(0,n.jsx)("div",{className:M().getBtn,onClick:p,children:"领取加速体验卡"})]})]}):null};var I=t=>{var l;let{className:o,queueNum:u}=t||{},[h,M]=(0,d.useState)(!1),I=(0,c.useCurrentUser)(),w=(0,v.T)(),{sence:A}=d.useContext(S),D=(0,d.useCallback)(async()=>{await (0,p.rz)(),w({e:"queue_jump_card_novice.receive",var:{from:A}}),M(!1)},[]),T=d.useRef(!0),z=(0,d.useCallback)(()=>{T.current&&(T.current=!1,M(!0))},[null===(l=I)||void 0===l?void 0:l.uuid]);return[{show:z},(0,n.jsx)(N,{show:h,queueNum:u,onClose:()=>M(!1),className:o,getCard:D})]},w=o(1111),A=o.n(w);let D=t=>{let{onClose:l,className:o,getCard:u,queueNum:p}=t,{total:h}=(0,c.commercialStore)(),M=(0,v.T)(),{sence:N}=d.useContext(S),I=()=>{l(),M({e:"accelerate_card_pop.close",var:{from:N}})};return(0,d.useEffect)(()=>{M({e:"accelerate_card_pop.show",var:{from:N}})},[]),(0,n.jsx)("div",{className:"".concat(A().speedBoxWrap," ").concat(o||""),children:(0,n.jsxs)("div",{className:A().speedBox,children:[(0,n.jsx)("div",{className:A().title,children:"免费体验插队加速"}),(0,n.jsx)("div",{className:A().tips,children:(0,n.jsxs)("span",{className:A().tipsCenter,children:["当前生图排队人数 ",(0,n.jsx)("span",{className:A().tipn,children:p||0})]})}),(0,n.jsxs)("div",{className:A().countWrap,children:[(0,n.jsxs)("div",{className:A().countTip,children:[(0,n.jsx)("div",{className:A().coTip,children:"生图加速特权"}),(0,n.jsx)("div",{className:A().conutTip,children:"告别排队等待"})]}),(0,n.jsx)("span",{className:A().countLine}),(0,n.jsx)("span",{className:A().conut,children:h||10}),(0,n.jsx)("span",{className:A().numt,children:"次"})]}),(0,n.jsx)("img",{className:A().closeBox,src:"https://liblibai-online.liblib.cloud/web/1656e2f1b3c74f1ba823b610f1b2cbdf/a6d3e935-e687-4079-a3d2-b7af9b324ed7.png",width:"24",onClick:I}),(0,n.jsx)("div",{className:A().getBtn,onClick:u,children:"开启加速"})]})})};var T=t=>{var l;let{queueNum:o,vipSpeedup:u}=t,[h,M]=(0,d.useState)(!1),N=(0,c.useCurrentUser)(),I=(0,v.T)(),{sence:w}=d.useContext(S),A=(0,d.useCallback)(async()=>{await (0,p.rz)()},[u]),T=(0,d.useCallback)(()=>{z.current&&(z.current=!1,A(),M(!0),I&&I({e:"accelerate_card_pop.receive",var:{from:w}}),setTimeout(()=>{M(!1)},1e4))},[null===(l=N)||void 0===l?void 0:l.uuid]),z=(0,d.useRef)(!0),C=h?(0,n.jsx)(D,{queueNum:o||0,onClose:()=>M(!1),getCard:()=>{u(),M(!1)}}):void 0,k={show:T};return{abtestB:k,abtestBComponent:C}},z=o(78323),C=o.n(z);let S=d.createContext({sence:""});function k(t){let{queueNum:l,vipSpeedup:v,sence:h}=t,{isVip:M}=(0,u.RR)(),{acceleratorCard:N,setTotal:w}=(0,c.commercialStore)(),A=(0,c.useCurrentUser)(),[D,z]=d.useState(null),k=(0,d.useRef)(!1),[L,E]=I({className:C().businessSpeedAbtest,queueNum:l}),{abtestB:U,abtestBComponent:O}=T({queueNum:l||0,vipSpeedup:v}),Q=d.useCallback(async()=>{var t;if(console.log("[SpeedAcceleration] AB测试检测开始:",{isDetected:k.current,isVip:M,hasAcceleratorCard:N.have,currentUserId:null===(t=A)||void 0===t?void 0:t.id,sence:h}),k.current||M||N.have){console.log("[SpeedAcceleration] AB测试检测跳过:",{reason:k.current?"已检测":M?"是VIP":"已有加速卡"});return}let{abTestGroup:l,card:o}=await (0,p.Sr)(A);if(console.log("[SpeedAcceleration] AB测试检测结果:",{group:l,card:o?{timesLimit:o.timesLimit}:null}),o&&w(o.timesLimit||0),l){console.log("[SpeedAcceleration] 设置AB测试组:",l),z(l),k.current=!0,"newuser_priority_pay_exp_1"===l?(console.log("[SpeedAcceleration] 显示A组测试"),L.show()):"newuser_priority_pay_exp_2"===l&&(console.log("[SpeedAcceleration] 显示B组测试"),U.show());let t=(0,p.km)(A);console.log("[SpeedAcceleration] 更新本地存储:",{times:t}),(0,p.Wi)(A,t)}},[M,N.have,A,L.show,U.show]);(0,d.useEffect)(()=>{console.log("[SpeedAcceleration] Queue监听:",{queueNum:l,queueLimit:o.g.QUEUE_NUM_LIMIT||10,shouldTrigger:l&&l>=(o.g.QUEUE_NUM_LIMIT||10),isVip:M,hasAcceleratorCard:N.have,sence:h}),l&&l>=(o.g.QUEUE_NUM_LIMIT||10)&&(console.log("[SpeedAcceleration] 触发AB测试检测"),Q())},[l,Q]);let Y=d.useCallback(()=>"newuser_priority_pay_exp_1"===D?E:"newuser_priority_pay_exp_2"===D?O:void 0,[D,E,O]);return{SpeedAccelerationComponent:()=>(0,n.jsx)(S.Provider,{value:{sence:h},children:(0,n.jsx)(Y,{})})}}},35179:function(t,l,o){"use strict";o.d(l,{Z:function(){return n}});let n={IMG:"img",VIDEO:"video",TEAM_IMAGE:"team_image"}},9383:function(t,l,o){"use strict";o.d(l,{K:function(){return W}});var n=o(52322),d=o(2784),c=o(53625),u=o(51024),p=o(56697),v=o(64713),h=o(64749),M=o(54514),N=o.n(M),I=o(8032),w=o(44930),A=o(3554),D=o(64031),T=o(65400),z=o.n(T),C=o(11187),S=o(45470),k=o.n(S),L=o(35887);let E=t=>{var l;let{className:o,onRemove:d,onSelected:u,item:p,index:v,onLike:h,current:M}=t,N=t=>{var l;t.stopPropagation(),t.preventDefault(),null===(l=h)||void 0===l||l(p,!p.isFavorite),p.isFavorite&&C.ZP.info("已取消收藏")},w=t=>{var l;t.stopPropagation(),t.preventDefault(),null===(l=d)||void 0===l||l(p)},A=t=>{t.stopPropagation(),t.preventDefault(),window.open("/modelinfo/".concat(p.modelUuid),"_blank")},D=t=>{var l;t.stopPropagation(),t.preventDefault(),null===(l=u)||void 0===l||l(p)},T=L.v4.some(t=>{var l;return null===(l=p.cover)||void 0===l?void 0:l.includes(t)}),S="".concat(p.cover||p.exampleImageUrl,"?image_process=format,webp&x-oss-process=image/resize,w_",480,",m_lfit/format,webp");return(0,n.jsxs)("div",{className:"".concat(o||""," w-[176px] ").concat((v+1)%4!=0?"mr-[12px]":""," cursor-pointer group mb-[12px] h-[245px] overflow-hidden relative rounded-[4px] text-[#fff]"),onClick:A,children:[(0,n.jsxs)("div",{className:"absolute z-[1] px-[8px] py-[8px] top-0 w-full flex justify-between items-center",children:[(0,n.jsx)("div",{className:"flex",children:(0,n.jsx)("span",{className:"block font-medium text-[#fff] rounded-[4px] px-[8px] bg-[rgb(0,0,0)]/50",children:p.isXingliu?"Star-3 大模型":I._L[p.baseType]})}),(0,n.jsxs)("div",{className:"flex group-hover:opacity-100 opacity-0",children:[(0,n.jsx)("span",{onClick:N,className:"font-medium cursor-pointer text-[#fff] rounded-[50%] flex w-[20px] h-[20px] justify-center items-center bg-[rgb(0,0,0)]/50",children:(0,n.jsx)(c.J,{class:"".concat((null===(l=p)||void 0===l?void 0:l.isFavorite)?"icon-comfy_star_s":"icon-comfy_star_n"),fontSize:12,color:p.isFavorite?"#FCD652":"#fff"})}),!p.defaultModel&&(0,n.jsx)("span",{onClick:w,className:"flex w-[20px] cursor-pointer ml-[8px] h-[20px] justify-center items-center font-medium text-[#fff] rounded-[50%]  bg-[rgb(0,0,0)]/50",children:(0,n.jsx)(c.J,{class:"icon-comfy_model_close",fontSize:10,color:"#fff"})})]})]}),T?(0,n.jsx)("video",{preload:"none",disablePictureInPicture:!0,src:p.cover,autoPlay:!0,loop:!0,muted:!0,className:"w-[100%] h-[100%] rounded-[4px] object-cover hover:scale-[1.1] transition-all"}):(0,n.jsx)("img",{src:S,alt:"",className:"w-[100%] h-[100%] rounded-[4px] object-cover hover:scale-[1.1] transition-all"}),(0,n.jsxs)("div",{className:"absolute bottom-0 w-full px-[8px] py-[12px] rounded-[4px] bg-black/50",children:[(0,n.jsxs)("div",{className:"flex items-center border-b border-b-white/15 pb-[4px]",children:[!!p.vipUsed&&(0,n.jsx)("img",{src:k(),className:" w-[16px] h-[16px]"}),(0,n.jsx)("div",{className:"text-ellipsis overflow-hidden whitespace-nowrap w-full flex-1 leading-[20px]",children:p.modelName||p.name})]}),(0,n.jsx)("div",{className:"mt-[4px] ",children:p.modelVersionName||p.indexNum}),(0,n.jsx)("div",{className:"mt-[8px] h-[26px] hidden group-hover:block",children:(0,n.jsx)(z(),{type:"primary",block:!0,onClick:D,children:"一键应用"})})]})]})};var U=E,O=o(9115),Q=o.n(O);let Y=66,B=5,{Search:P}=u.default,W=t=>{var l;let{id:o,visible:u,onClose:M,className:T,data:z,setVisible:C,onSelected:S}=t,{type:k,current:L}=z||{},E={padding:0},O=I.JQ[k],[W,R]=(0,d.useState)(1),[Z,F]=(0,d.useState)(1),[G,V]=(0,d.useState)(""),[J,H]=(0,d.useState)([]),[X,K]=(0,d.useState)(!1),[q,$]=p.default.useModal(),{vipInfo:ee}=(0,D.useUserVipInfo)(),{isTeamUser:et}=(0,w.RR)();(0,d.useEffect)(()=>{var t;(null===(t=L)||void 0===t?void 0:t.baseType)&&F(L.baseType)},[null===(l=L)||void 0===l?void 0:l.baseType]);let ei=t=>{V(t),3===W?en({keyword:t,baseType:Z}):eo({keyword:t,modelTypeId:I.Lb[k],subscribeType:W})},ea=()=>{var t,l;null===(t=M)||void 0===t||t(!1),null===(l=C)||void 0===l||l(!1)},eo=async t=>{if(X)return;K(!0);let l={keyword:t.keyword||"",modelTypeId:t.modelTypeId||1,subscribeType:t.subscribeType};if(t.subscribeType===B){var o;l.teamId=null===(o=ee)||void 0===o?void 0:o.teamId,l.subscribeType=3}let n=await A.BP.getSDModelList(l);H(n.map(t=>({...t,isFavorite:2===t.subscribeType}))),K(!1)},en=async function(){var t,l;let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(X)return;K(!0);let n={keyword:o.keyword||"",pageSize:200,pageNo:1};o.baseType&&(n.baseTypeId=o.baseType);let d=await A.BP.getTrainModellList(n);H((null===(l=d)||void 0===l?void 0:null===(t=l.models)||void 0===t?void 0:t.map(t=>({...t,isFavorite:2===t.subscribeType})))||[]),K(!1)},es=t=>{let l=+t.target.value;R(l),3===l?en({keyword:G,baseType:Z}):eo({keyword:G,modelTypeId:I.Lb[k],subscribeType:l})},er=t=>{let l=+t;F(l),3===W&&en({keyword:G,baseType:l})};(0,d.useEffect)(()=>{k&&ei(G)},[k]);let ed=(0,d.useMemo)(()=>{var t,l;return 3!==W&&Z?Z==Y?null===(l=J)||void 0===l?void 0:l.filter(t=>19===t.baseType&&t.isXingliu):null===(t=J)||void 0===t?void 0:t.filter(t=>t.baseType===Z&&!t.isXingliu):J},[J,W,Z]),ec=t=>{var l,o;(null===(l=t)||void 0===l?void 0:l.modelVersionId)&&q.confirm({title:"提示",content:(0,n.jsxs)("div",{children:["确定要将模型 ",(null===(o=t)||void 0===o?void 0:o.modelName)||""," 移除模型库吗？"]}),okText:"确定",cancelText:"取消",onOk(){A.BP.unsubModel({aiVersionId:t.modelVersionId}).then(()=>{H(l=>l.filter(l=>l.modelVersionId!==t.modelVersionId))})}})},eu=(t,l)=>{var o;(null===(o=t)||void 0===o?void 0:o.modelVersionId)&&A.BP[l?"addFavorite":"dropFavorite"]({aiVersionId:t.modelVersionId}).then(()=>{let o=J.map(o=>o.modelVersionId===t.modelVersionId?{...o,isFavorite:l}:o);H(o)})},em=t=>{var l,o;(null===(l=t)||void 0===l?void 0:l.modelVersionId)&&(!t.modelName&&t.name&&(t.modelName=t.name),!t.modelVersionName&&t.indexNum&&(t.modelVersionName=t.indexNum),null===(o=S)||void 0===o||o(t),ea())},eg=(0,d.useMemo)(()=>{var t;return(null===(t=ed)||void 0===t?void 0:t.length)<=0?(0,n.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("img",{src:N(),alt:"",className:"w-[50px] h-[48px]"}),(0,n.jsx)("p",{className:"mt-[16px] text-[14px] text-[#9CA1A9]",children:"暂无模型"})]})}):(0,n.jsx)(n.Fragment,{children:ed.map((t,l)=>(0,n.jsx)(U,{item:t,current:L,index:l,onLike:eu,onRemove:ec,onSelected:em},t.modelVersionUuid||t.uuid))})},[ed]);return(0,n.jsx)("div",{children:(0,n.jsx)(p.default,{open:u,footer:null,width:808,centered:!0,closable:!1,className:T,style:E,classNames:{content:"!bg-white"},children:(0,n.jsxs)("div",{className:"flex flex-col relative ".concat(Q().modelWrap),children:[(0,n.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,n.jsxs)("div",{className:"text-[20px] text-[#222531] font-medium",children:["选择",O]}),(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)(P,{placeholder:"搜索模型名称",allowClear:!0,onSearch:ei,style:{width:240},className:"bg-[#F3F5F9] rounded",classNames:{input:"!bg-transparent border-none !text-[#333333] placeholder:!text-[#9ca1a9]",affixWrapper:"!bg-transparent"}}),(0,n.jsx)("span",{className:"ml-[20px] cursor-pointer",onClick:ea,children:(0,n.jsx)(c.J,{class:"icon-border_close-1 !text-[#222]",fontSize:21})})]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between mt-[12px] pb-[8px] w-full relative border-b",children:[(0,n.jsx)("div",{className:"",children:(0,n.jsxs)(v.default.Group,{onChange:es,defaultValue:"1",children:[(0,n.jsx)(v.default.Button,{value:"1",children:"我的模型库"}),(0,n.jsx)(v.default.Button,{value:"2",children:"星标模型"}),"lora"===k&&(0,n.jsx)(v.default.Button,{value:"3",children:"我的训练"}),et&&(0,n.jsx)(v.default.Button,{value:B,children:"团队模型"})]})}),(0,n.jsx)("div",{children:(0,n.jsx)(h.default,{value:String(Z),style:{minWidth:136},onChange:er,dropdownStyle:{"--color-background-select-dropdown":"#fff","--color-background-select-dropdown-selected":"#3162ff1a","--color-text-select-dropdown":"#666","--color-background-select-dropdown-hover":"#f1f2f8"},options:[{value:"",label:"全部"},{value:"19",label:"基础算法F.1"},{value:"31",label:"Kontext"},{value:"52",label:"基础算法F2 dev"},{value:"53",label:"Z-Image-Turbo"},{value:"37",label:"Qwen-Image"},{value:"39",label:"Qwen Edit"},{value:"1",label:"基础算法 1.5"},{value:"2",label:"基础算法 2.1"},{value:"3",label:"基础算法 XL"},{value:"21",label:"基础算法 v3.5L"},{value:"20",label:"基础算法 v3.5M"},{value:"7",label:"基础算法 V3"},{value:"11",label:"Kolors"},{value:"22",label:"Illustrious"},{value:"23",label:"NoobAI"},{value:"10",label:"Pony"},{value:"25",label:"通义万相2.1"},{value:"35",label:"通义万相2.2"},{value:"36",label:"LTX-Video"},{value:"26",label:"HiDream"},{value:"27",label:"IMG1"},{value:"8",label:"混元DiT v1.2"},{value:"24",label:"混元视频"},{value:"9",label:"PixArt"},{value:"17",label:"SVD"},{value:"18",label:"SVD XT"},{value:"4",label:"Cascade a"},{value:"5",label:"Cascade b"},{value:"6",label:"Cascade c"}]})})]}),(0,n.jsx)("div",{className:"flex mt-[20px] w-full h-[540px] overflow-x-hidden overflow-y-auto flex-wrap",children:eg}),(0,n.jsx)("div",{children:$})]})})})}},87146:function(t,l,o){"use strict";o.d(l,{a:function(){return v},h:function(){return h}});var n=o(52322),d=o(2784),c=o(44930),u=o(49818),p=o(63880);let v=()=>{var t;let{workflowModelInfo:l,trialsNumber:o}=(0,u.B)(),n=null===(t=l)||void 0===t?void 0:t.vipUsed;return h(o,n||0)},h=(t,l)=>{let{isOrdinaryUser:o}=(0,c.RR)(),u=(0,d.useMemo)(()=>t>0&&1===l&&o,[t,o,l]),v=(0,d.useMemo)(()=>0===t&&1===l&&o,[t,o,l]),h=(0,d.useMemo)(()=>{if(u)return"限免".concat(t,"次")},[t,u]),M=(0,d.useMemo)(()=>{if(u)return(0,n.jsxs)("div",{children:["此功能为VIP专属，限免",t,"次"," ",(0,n.jsx)("span",{className:"text-[#FFC862] underline cursor-pointer",onClick:()=>(0,p.jU)({billingReferer:1}),children:"开通会员"})]})},[t,u]);return{trialLabel:h,hoverTipNode:M,trialTipDisable:v}}},54351:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(52322),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2784),next_router__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5632),next_router__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__),_mantine_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(27134),_components_layout_Sidebar_icons_new_create_svg_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(28600),_components_layout_Sidebar_icons_new_home_svg_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(11522),_services__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3554),_store__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(64031),_index_module_scss__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(88401),_index_module_scss__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_index_module_scss__WEBPACK_IMPORTED_MODULE_8__);let ToolNav=props=>{var _remoteConfig;let{activeType,setType}=props,router=(0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)(),[modelData,setModelData]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),[active,setActive]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(activeType),[remoteConfig,setRemoteConfig]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),{setUuid,setModelInfo,setIsShowBtn,setIsAiToolboxOpen}=(0,_store__WEBPACK_IMPORTED_MODULE_6__.AiInFo)(),{colorScheme}=(0,_mantine_core__WEBPACK_IMPORTED_MODULE_7__.X)(),isDark="dark"===colorScheme,loadHomeGuideConfig=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async()=>{let response=await _services__WEBPACK_IMPORTED_MODULE_5__.ll.getChannelConfig("132");if(response)try{let remoteConfig=response.data,jsonStr=eval(remoteConfig.linkUrl);setRemoteConfig(jsonStr)}catch(error){console.info("引导配置解析失败，解析内容",error)}},[]);(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{loadHomeGuideConfig()},[loadHomeGuideConfig]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{let{tab:t}=router.query;if(t){var l;null===(l=remoteConfig)||void 0===l||l.map(l=>{var o,n;null===(n=l)||void 0===n||null===(o=n.content)||void 0===o||o.map(l=>{l.id===t&&(setType(0),setActive(l.uuid),setUuid(l.uuid),setModelInfo(l.modelInfo))})})}},[remoteConfig]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{0===active?setIsShowBtn(!0):setIsShowBtn(!1),setIsAiToolboxOpen(active)},[active]);let handleToolNavClick=t=>{setType(0),setActive(t.uuid),setUuid(t.uuid),setModelInfo(t.modelInfo)};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"".concat(_index_module_scss__WEBPACK_IMPORTED_MODULE_8___default().navWrap," "),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"".concat(_index_module_scss__WEBPACK_IMPORTED_MODULE_8___default().toolNavTitle," ").concat(0===active?_index_module_scss__WEBPACK_IMPORTED_MODULE_8___default().toolNavActive:""),onClick:()=>{setType(0),setActive(0),setUuid("18d5858e862d474abe93c72b2fb1b8cc"),setModelInfo("2a80cac4d9214378b33b65259c4193d9")},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_layout_Sidebar_icons_new_home_svg_react__WEBPACK_IMPORTED_MODULE_4__.Z,{}),"AI应用"]}),null===(_remoteConfig=remoteConfig)||void 0===_remoteConfig?void 0:_remoteConfig.map(t=>{var l,o;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:_index_module_scss__WEBPACK_IMPORTED_MODULE_8___default().toolNavItem,children:t.title},t.id),null===(o=t)||void 0===o?void 0:null===(l=o.content)||void 0===l?void 0:l.map(t=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"".concat(_index_module_scss__WEBPACK_IMPORTED_MODULE_8___default().toolNavTitle," ").concat(active===t.uuid?_index_module_scss__WEBPACK_IMPORTED_MODULE_8___default().toolNavActive:""),onClick:()=>handleToolNavClick(t),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("img",{src:isDark?t.darkIcon:t.icon,alt:t.title}),t.title]},t.id))]},t.id)}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:_index_module_scss__WEBPACK_IMPORTED_MODULE_8___default().toolNavLine}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:_index_module_scss__WEBPACK_IMPORTED_MODULE_8___default().toolNavItem,children:"AI应用"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"".concat(_index_module_scss__WEBPACK_IMPORTED_MODULE_8___default().toolNavTitle," ").concat(1===active?_index_module_scss__WEBPACK_IMPORTED_MODULE_8___default().toolNavActive:""),onClick:()=>{setType(1),setActive(1)},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_layout_Sidebar_icons_new_create_svg_react__WEBPACK_IMPORTED_MODULE_3__.Z,{}),"高级生图"]})]})};__webpack_exports__.Z=ToolNav},88195:function(t,l,o){"use strict";o.r(l),o.d(l,{default:function(){return lI}});var n,d,c,u=o(52322),p=o(2784),v=o(5632),h=o(53625),M=o(56697),N=o(64749),I=o(89552),w=o(76635),A=o.n(w),D=o(11187),T=o(95974),z=o(62110),C=o(28973),S=o(51675),k=o(44930),L=o(68355),E=o(27134),U=o(41625),O=o(3554),Q=o(64031),Y=o(27605),B=o(33362),P=o(52106),W=o(94055),R=o(55950),Z=o(45470),F=o.n(Z),G=o(90613),V=o(87146),J=o(10885),H=o.n(J),X=o(6154),K=o(51024),q=o(55673),$=o(6364),ee=o(52808),et=o(8032),ei=o(29072),ea=o(5789),eo=o(55563),en=o(36023),es=o.n(en),er=o(68788),ed=o(94856);let ec=function(t){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";ed.N9.show({title:t,message:l,color:"#FFBFC5"})},eu=function(t){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";ed.N9.show({title:t,message:l})},em={},eg=(t,l)=>{em[t]=l},ep=(t,l)=>em[t]||l;globalThis.__SHAKKER_SHARED_DATA__=em;var ev=o(12294),eh=o(92490);let ef=(0,eh.F)(t=>({startLoading:l=>t({[l]:!0}),stopLoading:l=>t({[l]:!1}),updateLoading:l=>t(l)})),eM=t=>t?ef.getState()[t]:ef.getState(),ej=(0,ev.Ue)(t=>({addItem:(l,o)=>t({[l]:o}),removeItem:l=>t({[l]:void 0}),initItems:l=>t(l),clear:()=>t({})}));var eN=o(13888),eb=o.n(eN);let eI=(t,l)=>{let o={};if(l&&t.versionIntro)try{o=JSON.parse(t.versionIntro),Array.isArray(o.triggerWord)&&(o.triggerWord=o.triggerWord.join(","))}catch(t){}return eb()(Object.assign({},t,o),["name","versionId","modelId","versionName","isHiddenStrategy","uuid","tagV2Ids","baseType","modelType","runCount","userAvatar","userName","imageUrl","vipUsed","weight","modelUuid","triggerWord","from"])},ey={INT:"number",FLOAT:"number",IMAGE:"image",VIDEO:"video",LIST:"select",MODEL:"checkpoint",STRING:"textarea",BOOLEAN:"switch"},ew=["liblibai-online.liblib.cloud","model-ai-test.liblib.cloud","liblibai-online.liblib.ai","model-ai-test.liblib.ai","liblibai-gen-images.liblib.cloud","liblibai-tmp-image.liblib.cloud","model-ai-test.vibrou.com","models-online-persist.shakker.cloud"],eA={},eD={},eT=t=>!t||t.endsWith(".png")?t:t+".png",ez={},e_=async(t,l,o)=>{let{results:n}=await (0,U.FX)({images:[t],mode:l,...e0,...o}).catch(()=>({results:[]}));return n},eC=(t,l)=>{let o="calculateHash";return new Promise((n,d)=>{let c=1048576,u=t.size,p=Math.ceil(u/c),v=t.name+t.size;if(console.info(o,"chunkSize",c),console.info(o,"fileSize",u),console.info(o,"chunks",p),console.info(o,"fileTag",v),ez[v]){let t=ez[v];return console.info(o,"cache",v),console.info(o,"hash",t),l&&l(t),n(ez[v])}let h=0,M=es().algo.SHA256.create(),N=new FileReader;function I(){console.info(o,"loadNext");let l=h*c,n=l+c>=t.size?t.size:l+c;N.readAsArrayBuffer(t.slice(l,n))}N.onload=function(t){if(M.update(es().lib.WordArray.create(t.target.result)),++h<p)I();else{console.info(o,"end");let t=M.finalize().toString(es().enc.Hex);ez[v]=t,l&&l(t),n(t)}},N.onerror=function(){console.info(o,"error"),l&&l(),d("Unable to calculate hash")},I()})},eS=t=>{if(!Array.isArray(t))return[];let l=new Set;return t.filter(t=>{let o="string"==typeof t?t:t.value;return!l.has(o)&&(l.add(o),!0)})},ek=t=>{var l,o,n,d,c,u,p;return(null===(l=t)||void 0===l?void 0:l.sourceImage)?null===(d=t)||void 0===d?void 0:d.sourceImage.url:(null===(o=t)||void 0===o?void 0:o.url)?null===(c=t)||void 0===c?void 0:c.url:(null===(n=t)||void 0===n?void 0:n.videoUrl)?null===(u=t)||void 0===u?void 0:u.videoUrl:(null===(p=t)||void 0===p?void 0:p.startsWith("http"))?t:"https://liblibai-tmp-image.liblib.cloud/"+t},eL=async t=>{if(eA[t])return eA[t];if(eD[t])return eD[t];let l=new Promise((l,o)=>{let n=new Image;n.src=t,n.crossOrigin="anonymous",n.onload=()=>{eA[t]=n,delete eD[t],l(n)},n.onerror=l=>{delete eD[t],o(l)}});return eD[t]=l,l},eE=t=>l=>{let[o,n]=l;return[o*t,n*t]},eU=t=>{if(t)return t.startsWith("http")?new URL(t).pathname.replace(/^\//,""):t},eO=t=>{let{selections:l,crop:o,extend:n,invert:d,canvas:c,bgTransparent:u=!1,fgColor:p="#fff",bgColor:v="#000"}=t;c=c||document.createElement("canvas");let h=1,M=c.getContext("2d");c.width=o.width*h,c.height=o.height*h,M.fillStyle=d?p:v,M.fillRect(0,0,o.width*h,o.height*h),M.fillStyle=d?v:p,M.strokeStyle=d?v:p;let N="number"==typeof n?n:0;if(N&&(M.filter="blur(".concat(2*N,"px)")),l&&l.forEach(t=>{let{type:l,size:u}=t,I=t.points.map(eE(h)).map(t=>[t[0]*c.width,t[1]*c.height]);if(M.lineWidth="number"!=typeof n?0:n,"lasso"===l){N&&(I=extendPolygon(I,Math.ceil(N/2)));let t=I[0];M.beginPath(),M.moveTo(t[0]-o.x,t[1]-o.y),I.forEach(t=>{M.lineTo(t[0]-o.x,t[1]-o.y)}),M.lineTo(t[0]-o.x,t[1]-o.y),M.fill(),M.closePath(),M.stroke()}else if("rect"===l)N&&(I=extendPolygon(I,N)),M.beginPath(),M.moveTo(I[0][0]-o.x,I[0][1]-o.y),M.lineTo(I[1][0]-o.x,I[0][1]-o.y),M.lineTo(I[1][0]-o.x,I[1][1]-o.y),M.lineTo(I[0][0]-o.x,I[1][1]-o.y),M.fill(),M.closePath(),M.stroke();else if("brush"===l||"eraser"===l){d?M.strokeStyle="brush"===l?v:p:M.strokeStyle="brush"===l?p:v,M.lineJoin="round",M.lineCap="round",M.lineWidth=u*h;let t=I[0];M.beginPath(),M.moveTo(t[0]-o.x,t[1]-o.y),I.forEach(t=>{M.lineTo(t[0]-o.x,t[1]-o.y)}),M.stroke()}}),u){let t=M.getImageData(0,0,c.width,c.height),l=t.data;for(let t=0;t<l.length;t+=4)0===l[t]&&0===l[t+1]&&0===l[t+2]&&(l[t+3]=0);M.putImageData(t,0,0)}return N&&(M.filter="blur(0px)"),c},eQ=async(t,l)=>{let o;let n=t.getContext("2d");o="string"==typeof l?await eL(l):l;let d=document.createElement("canvas");d.height=o.naturalHeight,d.width=o.naturalWidth;let c=d.getContext("2d"),u=n.getImageData(0,0,t.width,t.height);c.drawImage(o,0,0,o.naturalWidth,o.naturalHeight);let p=c.getImageData(0,0,o.naturalWidth,o.naturalHeight),v=u.data;for(var h=0;h<v.length;h+=4){let t=v[h],l=v[h+1],o=v[h+2];(255===t||255===l||255===o)&&(p.data[h]=0,p.data[h+1]=0,p.data[h+2]=0,p.data[h+3]=0)}n.putImageData(p,0,0)},eY=async t=>{var l;let o=eO(t);t.isCombine&&await eQ(o,t.url);let n=await new Promise(t=>o.toBlob(t,"image/png"));globalThis.STARFLOW_DEBUG_ENABLED&&window.open(URL.createObjectURL(n));let d=new File([n],eT(t.name||"".concat(Date.now())),{type:"image/jpeg"}),c=await new Promise(t=>eC(d,t)),u=ep("mask-url-"+c);if(u)return u;let p=localStorage.getItem("uuid"),v=await (0,er.$z)(p||"",d,!0);if(!(null===(l=v)||void 0===l?void 0:l.url))throw Error("上传失败");return eg("mask-url-"+c,v.url),v.url},eB=t=>new Promise((l,o)=>{let n=new Image;n.onload=()=>{l({width:n.width,height:n.height})},n.onerror=t=>{console.error("Failed to get remote image size",t),o("Failed to get remote image size")},n.src=t}),eP=async function(t){var l,o,n,d,c,u;let p=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("lora"===t.type||"checkpoint"===t.type)return null===(l=t.value)||void 0===l?void 0:l.uuid;if("video"===t.type)return null===(o=t.value)||void 0===o?void 0:o.videoUrl;if("image"===t.type)return null===(n=t.value)||void 0===n?void 0:n.url;if("mask"===t.type){if(p)return"img/fake";if(null===(d=t.value)||void 0===d||!d.mask||null===(c=t.value)||void 0===c||!c.sourceImage)return null;{let{shapes:l}=t.value.mask,{width:o,height:n,url:d}=t.value.sourceImage;if(null===(u=l)||void 0===u||!u.length||!o||!n)return null;{let t=await eY({selections:l,crop:{x:0,y:0,width:o,height:n},toTempBucket:!0,isCombine:!0,url:d});return eU(t)}}}return t.value},eW=async(t,l)=>{let o={};for(let l of t.nodes){let t={class_type:l.name,inputs:{}};for(let o of l.fields){let l=await eP(o);t.inputs["".concat(o.name)]=l}o[l.id]=t}return{taskQueuePriority:1,generateType:19,mode_type:2,comfyUI_encap:{comfyUI_uuid:l,custom_prompt:o}}},eR=async t=>{let l={nodes:[],outputs:[]},o=Array.isArray(t.nodes)?Object.fromEntries(t.nodes.map(t=>{var l;return[t.id,Object.fromEntries(null===(l=t.fields)||void 0===l?void 0:l.map(t=>[t.name,t.value]))]})):{};for(let h of t.inputs){let t={id:h.id,name:h.name,title:h.displayName||h.name,fields:[]};for(let l of h.params){var n,d,c,u,p,v;let M;let N=ey[l.type]||l.type;if("textarea"!==N||l.multiline||(N="text"),("checkpoint"===N||"select"===N)&&(null===(n=l.name)||void 0===n?void 0:n.match(/lora/i))&&(N="lora"),"image"===N&&(c=ek(l.defaultValue),u=await eB(c)),"image"===N&&l.isMaskImage&&(N="mask"),c){if("mask"===N){let{mask:t}=l.defaultValue;M={sourceImage:{url:c,...u},mask:t}}else M="image"===N?{url:c,...u}:l.defaultValue}else M=l.defaultValue;let I={id:l.id,name:l.name,title:l.displayName||l.name,tooltip:l.tooltip,type:N,visible:l.defaultDisplay,value:M};if("select"===N)I.options=eS(I.options||l.enumList);else if(("lora"===N||"checkpoint"===N)&&I.value)try{let t=await (0,U.JJ)(I.value).then(t=>t.data);(null===(p=t)||void 0===p?void 0:p.uuid)||(console.error("modelVersionDetail or uuid not exist"),I.value={uuid:l.defaultValue,error:"模型信息获取失败"}),t&&!t.imageUrl&&(null===(v=t.images)||void 0===v?void 0:v.length)&&(t.imageUrl=t.images[0].imageUrl),I.value=eI(t,!0)}catch(t){console.error("catch error",t),I.value={uuid:l.defaultValue,error:"模型信息获取失败"}}"number"===N&&(I.min=l.min||0,I.max=l.max||100,I.step=l.step||1),(null===(d=o[h.id])||void 0===d?void 0:d[l.name])!==void 0&&(I.value=o[h.id][l.name]),t.fields.push(I)}l.nodes.push(t)}return l},eZ=(t,l)=>t&&l?l.map(l=>{let o=l.id,n=t[o];return n?{...l,params:l.params.map(t=>{var l;let o=t.id,d=null===(l=n.inputs)||void 0===l?void 0:l[o];return void 0!==d?{...t,defaultValue:d}:t})}:l}):l,eF=function(t){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:600;if(!t)return;let o="webp";return/\.(gif)(\?.*)?$/g.test(t)?t:eG(t,l,o)},eG=function(t,l){var o;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"webp";if(!eV(t)||!eJ(t))return t||"";let d=Math.round(l),c="".concat(t).concat((null===(o=t)||void 0===o?void 0:o.indexOf("?"))>-1?"&":"?","x-oss-process=image/resize,w_").concat(d,",m_lfit/format,").concat(n);return c},eV=t=>{if(t)return ew.some(l=>t.includes(l))},eJ=t=>{if(!t||!t.startsWith("http"))return;let l=new URL(t);return!(l.search&&/x-oss-process/.test(l.search))},eH=t=>new Promise((l,o)=>{let n=new Image;n.src=t,n.onload=()=>{l({width:n.width,height:n.height})},n.onerror=t=>{console.error("Failed to get locale image size",t),o("Failed to get locale image size")}}),eX=(t,l)=>"".concat(t).concat(l),eK=t=>{let l=t.points[0],o=t.points.slice(1),n=0;return o.forEach((t,d)=>{let c=o[d+1]||l;n+=(t[0]-c[0])*(t[1]+c[1])}),Math.abs(n/2)},eq=async function(t){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=eX(t,1===o?"inpaint":"changeFace"),d=8===o,c=ep(n);if(c)return c;let u={};d&&Object.assign(u,{text:"face",boxThreshold:.3});try{let d=await e_(t,o,u),c=d[0].map(t=>({points:t.contours.map(t=>[t[0][0]*l,t[0][1]*l])})).map(t=>({points:t.points,area:eK(t)})).sort((t,l)=>l.area-t.area);return c.length&&eg(n,c),c}catch(t){}return null},e$=async function(t){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"inpaint",{elements:o}=getProjectState(),n=eM(t+"-segmenting"),d="inpaint"===l;if(n)return;let c=o.find(l=>l.id===t);if(c&&"image"===c.type)try{if(!c||"image"!==c.type)return;let o=eU(c.url),n=eX(o,l),u=ej.getState()[n];if(u)return;eM().startLoading(t+"-segmenting");let p=await eB(c.url).catch(()=>null);if(!p)throw Error(translate("image_segment_error_sub"));let v=c.width/p.width,h=await eq(o,isNaN(v)?1:v,d?1:8);if(!h||!h.length)throw Error(translate("image_segment_empty"));Array.isArray(h)&&ej.getState().addItem(n,h)}catch(t){ec(translate("image_segment_error"),translate("image_segment_error_sub"))}finally{eM().stopLoading(t+"-segmenting")}},e0={sourceStorage:(null===(n=eo.config)||void 0===n?void 0:n.env)==="aliyun"?"Aliyun":"ALIYUN-GLOBAL",sourceBucket:"liblibai-online",targetStorage:(null===(d=eo.config)||void 0===d?void 0:d.env)==="aliyun"?"Aliyun":"ALIYUN-GLOBAL",targetBucket:"liblibai-online"};var e1=o(77512),e4=o.n(e1);let e2=t=>{let{className:l,onRemove:o,onSelected:n,item:d,index:c,onLike:p,current:v,showAuthorInfo:M,onClose:N}=t,{setUuid:I,setModelInfo:w}=(0,Q.AiInFo)(),A=t=>{var l;null===(l=p)||void 0===l||l(d)},D=t=>{I(d.uuid),w(d.modelUuid),N()},T="".concat(d.imageUrl,"?image_process=format,webp&x-oss-process=image/resize,w_",480,",m_lfit/format,webp"),z=()=>{window.open("/modelinfo/".concat(d.modelUuid),"__blank")};return(0,u.jsx)(ea.Z,{style:{width:"calc(25%)",height:M?280:250},children:(0,u.jsxs)("div",{className:"group relative overflow-hidden rounded flex-shrink-0 h-full",children:[(0,u.jsx)("div",{className:"absolute inset-0 z-[5] border border-black/10 rounded pointer-events-none"}),(0,u.jsx)("img",{onClick:D,src:T,className:"block w-full h-3/4 object-cover cursor-pointer group-hover:scale-110 transition duration-500"}),(0,u.jsx)("div",{className:"h-[61px] ".concat(e4().cardBg)}),(0,u.jsxs)("div",{className:"absolute bottom-0 left-0 z-[2] w-full p-3 ".concat(e4().cardBg," translate-y-[32px] group-hover:translate-y-0 transition duration-500"),children:[(0,u.jsx)("h4",{className:"flex items-start",children:(0,u.jsx)("span",{style:{fontSize:"12px"},className:"flex-1 leading-[17px] font-bold text-ellipsis whitespace-nowrap overflow-hidden group-hover:max-h-[34px] group-hover:whitespace-pre-line group-hover:overflow-hidden",children:d.name})}),M?(0,u.jsxs)("div",{className:"flex items-center mt-[10px]",children:[(0,u.jsx)("img",{src:eF(d.userAvatar,36),className:"w-[18px] h-[18px] rounded-full"}),(0,u.jsx)("span",{className:"flex-1 mr-4 ml-1 text-[11px] text-[#7f7f7f] text-ellipsis whitespace-nowrap overflow-hidden",children:d.userName}),(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"9",height:"10",viewBox:"0 0 9 10",fill:"none",children:(0,u.jsx)("path",{d:"M1 9.13367V0.866333C1 0.7081 1.17505 0.612532 1.30815 0.698097L7.7383 4.83176C7.86076 4.91049 7.86076 5.08951 7.7383 5.16824L1.30815 9.3019C1.17505 9.38747 1 9.2919 1 9.13367Z",stroke:"#7F7F7F"})}),(0,u.jsx)("span",{className:"text-[11px] text-[#7F7F7F] ml-[4px]",children:d.runCount})]}):(0,u.jsx)("h5",{className:"w-[150px] text-xs leading-[18px] text-[#7f7f7f] text-ellipsis whitespace-nowrap overflow-hidden",children:d.versionName}),(0,u.jsxs)("div",{className:"flex mt-2 opacity-0 group-hover:opacity-100 transition duration-500 text-xs",children:[(0,u.jsx)("button",{onClick:A,className:"flex items-center justify-center w-8 h-[26px] ".concat(e4().cardBtnBg," rounded"),children:(0,u.jsx)(h.J,{color:d.isLike?"#FFC351":"",className:"".concat(d.isLike?"icon-filled_star":"icon-border_star"," -translate-y-px"),fontSize:14})}),(0,u.jsx)("button",{onClick:z,className:"flex items-center justify-center w-8 h-[26px] ml-2 ".concat(e4().cardBtnBg," rounded"),children:(0,u.jsx)(h.J,{className:"icon-External_Link mr-[4px]",fontSize:14})}),(0,u.jsxs)("button",{onClick:D,className:"flex items-center justify-center gap-[4px] w-20 h-[26px] ml-2 ".concat(e4().cardBtnBg," rounded"),children:[(0,u.jsx)(h.J,{className:"icon-border_run",fontSize:14}),"使用"]})]})]})]})},c)};var e3=e2;let e5=t=>{let{className:l,onRemove:o,onSelected:n,item:d,index:c,onLike:p,current:v,showAuthorInfo:M,onClose:N}=t,{setUuid:I,setModelInfo:w}=(0,Q.AiInFo)(),A=t=>{var l;null===(l=p)||void 0===l||l(d)},D=t=>{I(d.versionUuid),w(d.versionUuid),N()},T="".concat(d.imageUrl,"?image_process=format,webp&x-oss-process=image/resize,w_",480,",m_lfit/format,webp"),z=()=>{window.open("/modelinfo/".concat(d.uuid),"__blank")};return(0,u.jsx)(ea.Z,{style:{width:"calc(25%)",height:M?280:250},children:(0,u.jsxs)("div",{className:"group relative overflow-hidden rounded flex-shrink-0 h-full",children:[(0,u.jsx)("div",{className:"absolute inset-0 z-[5] border border-black/10 rounded pointer-events-none"}),(0,u.jsx)("img",{onClick:D,src:T,className:"block w-full h-3/4 object-cover cursor-pointer group-hover:scale-110 transition duration-500"}),(0,u.jsx)("div",{className:"h-[61px] ".concat(e4().cardBg)}),(0,u.jsxs)("div",{className:"absolute bottom-0 left-0 z-[2] w-full p-3 ".concat(e4().cardBg," translate-y-[32px] group-hover:translate-y-0 transition duration-500"),children:[(0,u.jsxs)("h4",{className:"flex items-start",children:[1===d.vipUsed&&G.l,(0,u.jsx)("span",{style:{fontSize:"12px"},className:"flex-1 leading-[17px] font-bold text-ellipsis whitespace-nowrap overflow-hidden group-hover:max-h-[34px] group-hover:whitespace-pre-line group-hover:overflow-hidden",children:d.name})]}),M?(0,u.jsxs)("div",{className:"flex items-center mt-[10px]",children:[(0,u.jsx)("img",{src:eF(d.avatar,36),className:"w-[18px] h-[18px] rounded-full"}),(0,u.jsx)("span",{className:"flex-1 mr-4 ml-1 text-[11px] text-[#7f7f7f] text-ellipsis whitespace-nowrap overflow-hidden",children:d.nickname}),(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"9",height:"10",viewBox:"0 0 9 10",fill:"none",children:(0,u.jsx)("path",{d:"M1 9.13367V0.866333C1 0.7081 1.17505 0.612532 1.30815 0.698097L7.7383 4.83176C7.86076 4.91049 7.86076 5.08951 7.7383 5.16824L1.30815 9.3019C1.17505 9.38747 1 9.2919 1 9.13367Z",stroke:"#7F7F7F"})}),(0,u.jsx)("span",{className:"text-[11px] text-[#7F7F7F] ml-[4px]",children:d.runCount})]}):(0,u.jsx)("h5",{className:"w-[150px] text-xs leading-[18px] text-[#7f7f7f] text-ellipsis whitespace-nowrap overflow-hidden",children:d.versionName}),(0,u.jsxs)("div",{className:"flex mt-2 opacity-0 group-hover:opacity-100 transition duration-500 text-xs",children:[(0,u.jsx)("button",{onClick:A,className:"flex items-center justify-center w-8 h-[26px] ".concat(e4().cardBtnBg," rounded"),children:(0,u.jsx)(h.J,{color:d.isLike?"#FFC351":"",className:"".concat(d.isLike?"icon-filled_star":"icon-border_star"," -translate-y-px"),fontSize:14})}),(0,u.jsx)("button",{onClick:z,className:"flex items-center justify-center w-8  h-[26px] ml-2 ".concat(e4().cardBtnBg," rounded"),children:(0,u.jsx)(h.J,{className:"icon-External_Link mr-[4px]",fontSize:14})}),(0,u.jsxs)("button",{onClick:D,className:"flex items-center justify-center w-20 h-[26px] ml-2 ".concat(e4().cardBtnBg," rounded gap-[4px]"),children:[(0,u.jsx)(h.J,{className:"icon-border_run",fontSize:14}),"使用"]})]})]})]})},c)};var e8=e5;let{Search:e6}=K.default,e7=t=>{let{id:l,visible:o,onClose:n,className:d,data:c,setVisible:v,onSelected:N,isDark:w}=t,{type:T,current:z}=c||{},C={padding:0};et.JQ[T];let[S,k]=(0,p.useState)(1),[L,E]=(0,p.useState)(""),[U,Q]=(0,p.useState)([]),[Y,B]=(0,p.useState)(!1),[P,W]=(0,p.useState)(null),[R,Z]=M.default.useModal(),[F,G]=(0,p.useState)([]),[V,J]=(0,p.useState)((0,$.Z)()),[H,ea]=(0,p.useState)(!0),[eo,en]=(0,p.useState)(!0),[es,er]=(0,p.useState)(1),ed=(0,p.useRef)(eo),ec=(0,p.useRef)(es),eu=(0,p.useRef)(P),em=(0,p.useRef)(H),eg=(0,p.useRef)(null);(0,p.useRef)(null);let[ep,ev]=(0,p.useState)(null);(0,p.useEffect)(()=>{ed.current=eo,eu.current=P,em.current=H},[eo,es,P,H]);let eh=async t=>{let l=t.target.value;if(""!==l){var o;if(ev({choosed:P,isFeed:H,subscribeType:S}),Y)return;ea(!1),W(),B(!0);let t=await O.W4.getBaseSearch({pageSize:30,pageNo:1,modelType:"18",query:l||L,tagCode:"102008"});Q(null===(o=t)||void 0===o?void 0:o.data.data),B(!1)}},ef=async()=>{if(ep){let t={...ep};W(t.choosed),ea(t.isFeed),void 0!==t.subscribeType&&k(t.subscribeType),ev(null),-1===t.choosed?eN({}):-2===t.choosed?eb({}):t.isFeed&&t.choosed&&(Q([]),en(!0),eD({pageSize:50,page:1,tagV2Id:t.choosed}))}E("")},eM=async()=>{let{data:t}=await O.kU.getTag2List({categoryCode:"comfy",page:1,pageSize:50});G(t)},ej=()=>{var t,l;null===(t=n)||void 0===t||t(!1),null===(l=v)||void 0===l||l(!1)},eN=async t=>{var l,o;if(Y)return;B(!0);let n=await O.W4.getCollectData({pageSize:100,pageNo:1,modelType:"18"}),d=(null===(o=n)||void 0===o?void 0:null===(l=o.data)||void 0===l?void 0:l.map(t=>({...t,isLike:1})))||[];Q(d),en(!1),B(!1)},eb=async function(){var t,l;if(arguments.length>0&&void 0!==arguments[0]&&arguments[0],Y)return;B(!0);let o={pageSize:100,pageNo:1,modelType:"18"},n=await O.BP.getHistory(o);Q(null===(l=n)||void 0===l?void 0:null===(t=l.data)||void 0===t?void 0:t.list),en(!1),B(!1)},eI=t=>{let l=t;k(l),Q([]),1===l?eb():eN()};(0,p.useEffect)(()=>{eM()},[]);let ey=t=>{var l,o;(null===(l=t)||void 0===l?void 0:l.modelVersionId)&&R.confirm({title:"提示",content:(0,u.jsxs)("div",{children:["确定要将模型 ",(null===(o=t)||void 0===o?void 0:o.modelName)||""," 移除模型库吗？"]}),okText:"确定",cancelText:"取消",onOk(){console.log("")}})},ew=async t=>{var l,o;let n;n=0===t.isLike||null===t.isLike?1:0;let d=H?null===(l=t)||void 0===l?void 0:l.versionUuid:null===(o=t)||void 0===o?void 0:o.uuid,c={modelVersionId:d,subscribeType:1},u=n?await O.j8.postModelSubcrible(c):await O.j8.postModelUnsubcrible(c);if(u){let t=n?"已收藏":"取消收藏",l=U||[];l.map(t=>(H?d===t.versionUuid&&(t.isLike=n):d===t.uuid&&(t.isLike=n),t)),Q([...l]),D.ZP.success(t)}else{let t=n?"收藏失败":"请求失败";D.ZP.success(t)}},eA=t=>{var l,o;(null===(l=t)||void 0===l?void 0:l.modelVersionId)&&(null===(o=N)||void 0===o||o(t),ej())},eD=async t=>{var l,o;if(Y)return;B(!0);let n=(0,$.Z)(),d={isWorkflows:!0,cid:(0,ei.ey)(),requestId:n,...t},c=await O.ZC.getList(d),u=[];null===(l=c)||void 0===l||l.data.map(t=>{1===t.isPackaged&&u.push(t)}),en(null===(o=c)||void 0===o?void 0:o.hasMore),Q(t=>[...t,...u]),B(!1)},eT=async(t,l)=>{W(l.id),ea(!0),Q([])};(0,p.useEffect)(()=>{if(void 0!==P&&H){let t;er(1),ec.current=1,Q([]),eD({pageSize:50,page:1,tagIds:t="number"==typeof P?[P]:null===P?[]:P.split(",").map(t=>Number(t))})}},[P,H]);let ez=(0,p.useMemo)(()=>{var t,l;return(null===(t=U)||void 0===t?void 0:t.length)<=0?(0,u.jsx)("div",{className:e4().emptyWrap,children:(0,u.jsxs)("div",{children:[(0,u.jsx)("img",{src:w?ee.Lj:ee.RW,className:e4().emptyIcon,alt:""}),(0,u.jsxs)("p",{className:e4().emptyText,children:[(0,u.jsx)("a",{href:"/workflows?tagV2Id=200121",target:"_blank",children:"前往AI应用广场"}),"，将喜欢的AI应用加入应用库吧~"]})]})}):(0,u.jsx)(u.Fragment,{children:null===(l=U)||void 0===l?void 0:l.map((t,l)=>H?(0,u.jsx)(e8,{item:t,current:z,index:l,onLike:ew,onRemove:ey,onSelected:eA,showAuthorInfo:!0,onClose:ej},"".concat(t.uuid,"-").concat(H)):(0,u.jsx)(e3,{item:t,current:z,index:l,onLike:ew,onRemove:ey,onSelected:eA,showAuthorInfo:!0,onClose:ej},"".concat(t.uuid,"-").concat(H)))})},[U,H]);return(0,p.useEffect)(()=>{let t=()=>{let l=eg.current;if(!l){requestAnimationFrame(t);return}let o=()=>{let{scrollTop:t,scrollHeight:o,clientHeight:n}=l,d=100;if([t,o,n].some(Number.isNaN))return;let c=o-(t+n);if(c<d&&!Y&&ed.current&&void 0!==eu.current&&em.current){let t=ec.current+1;er(t),ec.current=t,eD({pageSize:50,page:t,tagV2Id:eu.current})}},n=A().debounce(o,200);return l.addEventListener("scroll",n),()=>{l.removeEventListener("scroll",n)}};t()},[]),(0,u.jsx)("div",{children:(0,u.jsxs)(M.default,{open:o,footer:null,width:988,centered:!0,closable:!1,className:"".concat(e4().modelSelect," ").concat(w?e4().modelSelectDark:""),style:C,wrapClassName:e4().modeContWrap,children:[(0,u.jsxs)(X.Z,{justify:"space-between",align:"center",className:"".concat(e4().modelSelectHeader," px-6 py-4"),children:[(0,u.jsx)("div",{className:e4().modelSelectTitle,children:"AI应用"}),(0,u.jsxs)("div",{className:"flex items-center justify-center relative gap-[16px]",children:[(0,u.jsx)(K.default,{placeholder:"输入AI应用名称、作者搜索",allowClear:!0,style:{width:360},value:L,onChange:t=>E(t.target.value),addonBefore:(0,u.jsx)(h.J,{onClick:t=>{eh(t)},className:"icon-comfy_lora_search cursor-pointer",color:"#ADADAD"}),suffix:(0,u.jsx)("div",{onClick:t=>{eh(t)},className:e4().searchSuffix,children:"搜索"}),classNames:{input:"placeholder:!text-[#ADADAD] !bg-transparent !text-[var(--color-text)]"},onPressEnter:t=>{eh(t)}}),(L||void 0===P)&&(0,u.jsx)("span",{className:"text-[#7a7a7a] text-[13px] cursor-pointer",onClick:ef,children:"取消"}),(0,u.jsx)("span",{className:"cursor-pointer",onClick:ej,children:(0,u.jsx)(h.J,{class:"icon-border_close-1",fontSize:21})})]})]}),(0,u.jsxs)("div",{className:"flex relative ".concat(e4().modelWrap),children:[(0,u.jsx)("div",{className:"".concat(e4().modelSidebar," ").concat(w?e4().modelSidebarDark:""),children:(0,u.jsxs)("div",{className:"flex flex-col ",children:[(0,u.jsxs)("div",{className:"".concat(-1===P?e4().activeNav:""," flex h-[36px] items-center px-4 cursor-pointer"),onClick:()=>{W(-1),ea(!1),Q([]),eI(2)},children:[(0,u.jsx)(h.J,{className:"icon-star1"}),(0,u.jsx)("span",{className:"ml-2 select-none relative top-[1px]",children:"收藏"})]}),(0,u.jsxs)("div",{className:"".concat(-2===P?e4().activeNav:""," flex h-[36px] items-center px-4 cursor-pointer"),onClick:()=>{W(-2),ea(!1),Q([]),eI(1)},children:[(0,u.jsx)(h.J,{className:"icon-prohistory"}),(0,u.jsx)("span",{className:"ml-2 select-none relative top-[1px]",children:"最近使用"})]}),(0,u.jsxs)("div",{className:"".concat(e4().sidebarSection," mt-4"),children:[(0,u.jsx)("div",{className:"text-[12px] text-[#A4A9B2] h-[25px] pl-4",children:"全部"}),(0,u.jsx)("div",{onClick:t=>{W(null),ea(!0),Q([])},className:"".concat(null===P?e4().activeNav:""," flex h-[36px] items-center  px-4 cursor-pointer"),children:(0,u.jsx)("span",{className:"text-sm",children:"全部"})}),F.map(t=>(0,u.jsx)("div",{children:(0,u.jsx)("div",{onClick:l=>eT(l,t),className:"".concat(P===t.id?e4().activeNav:""," flex h-[36px] items-center  px-4 cursor-pointer"),children:(0,u.jsx)("span",{className:"text-sm",children:t.name})})},t.id))]})]})}),(0,u.jsx)("div",{class:"flex-1 flex-col max-h-[70vh] ",children:(0,u.jsx)(I.default,{spinning:!1,children:(0,u.jsxs)("div",{className:"h-[630px] px-4 pt-4 overflow-y-auto overflow-x-hidden flex-wrap style-select-scroll-container",ref:eg,children:[(0,u.jsx)(q.Z,{gutter:[16,16],style:{marginLeft:-8,marginRight:-8,display:"flex",flexWrap:"wrap"},children:ez},H?"feed":"normal"),Y&&(0,u.jsx)("div",{className:"flex justify-center py-4",children:(0,u.jsx)(I.default,{})})]})})}),(0,u.jsx)("div",{children:Z})]})]})})};var e9=o(9850),te=o.n(e9),tt=o(9383),ti=o(91958),ta=o.n(ti),tl=o(45089),to=o.n(tl);let tn=1,ts=2,tr=3,td=7,tc=10,tu=9,tm=12,tg=8,tp=11,tx=19,tv=21,th=20,tf=22,tM={[tn]:"SD 1.5",[ts]:"SD 2.1",[tr]:"SD XL",[td]:"SD 3.0",[tv]:"SD 3.5L",[th]:"SD 3.5M",[tx]:"F.1",[tc]:"Pony",[tu]:"PixArt Σ",[tm]:"Hunyuan 1.1",[tg]:"Hunyuan 1.2",[tp]:"Kolors",[tf]:"Illustrious"},tj={"SD 1.5":tn,"SD 2.1":ts,"SD XL":tr,"SD 3.0":td,"SD 3":td,"SD 3.5":tv,"SD 3.5L":tv,"SD 3.5M":th,Flux:tx,"FLUX.1":tx,"F.1":tx,Pony:tc,Hunyuan:tg,"PixArt Σ":tu,"Hunyuan DiT v1.2":tg,"Hunyuan DiT v1.1":tm,"Hunyuan 1.1":tm,"Hunyuan 1.2":tg,Kolors:tp,Illustrious:tf},tN=t=>{let{data:l}=t,o=l.imageUrl?eF(l.imageUrl,120):ta(),n=tM[l.baseType]||tM[tj[l.baseType]]||l.baseType;return(0,u.jsxs)("div",{className:"relative w-full h-[50px] overflow-hidden bg-[#727476] rounded",children:[(0,u.jsx)("img",{src:o,className:"absolute w-full h-[50px] object-cover"}),(0,u.jsxs)("div",{className:"absolute inset-0 flex items-center pr-4 bg-black/70",children:[(0,u.jsx)("img",{src:o,className:"w-[50px] h-[50px] object-cover rounded"}),(0,u.jsxs)("div",{className:"flex flex-col flex-1 mr-2 ml-2 overflow-hidden",children:[(0,u.jsx)("span",{className:"self-stretch text-xs font-semibold whitespace-nowrap text-ellipsis overflow-hidden text-white",children:l.absName||l.name}),(0,u.jsxs)("div",{className:"flex gap-2 mt-1 items-center text-xs text-[#FFFFFF99] whitespace-nowrap",children:[(0,u.jsx)("span",{children:n}),l.versionName&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"bg-[#FFFFFF99] w-[1px] h-[10px]"}),(0,u.jsx)("span",{className:"text-xs text-[#FFFFFF99] w-0 flex-grow overflow-hidden",children:l.versionName})]})]})]})]})]})},tb=t=>{let l=tw[t.id]||tw.base_checkpoint,o="base_checkpoint"===l.id;return(0,u.jsxs)("div",{className:"relative w-full h-[50px] overflow-hidden bg-[#727476] rounded",children:[(0,u.jsx)("img",{src:l.imageUrl,className:"absolute inset-0 w-full h-[50px] object-cover"}),(0,u.jsxs)("div",{className:"absolute inset-0 flex items-center pr-4 ".concat(o&&isMainland?"":"bg-black/70"),children:[(0,u.jsx)("img",{src:o?l.imageIcon:l.imageUrl,className:"w-[50px] h-[50px] object-cover rounded"}),(0,u.jsx)("span",{className:"flex-1 text-xs font-semibold text-white ml-2",children:l.displayName})]}),t.ckptLoading?(0,u.jsx)("img",{className:"w-[30px] h-[30px] object-cover mr-[8px] absolute left-[10px] top-[10px] ".concat(styles["animate-spin-ckpt"]),src:to(),alt:""}):null]})},tI={liblib:[{id:"base_checkpoint",displayName:"星流 Star-3 大模型",imageBanner:"https://liblibai-online.liblib.cloud/img/3158b1962c5b4c2e8e8a86f65bd533c6/082a12a33a725650959c049d1258cb6ec6756be4d385f32457f4fcc8b289806a.png",imageVertical:"https://liblibai-online.liblib.cloud/img/3158b1962c5b4c2e8e8a86f65bd533c6/2208db2f837133a8c940448af5be0b7e5f78a57a7855058780b1966885d8503c.png",imageUrl:"https://liblibai-online.liblib.cloud/img/3158b1962c5b4c2e8e8a86f65bd533c6/bf9f7859681046b1f279b7eb1c5da01a048a1b66062b0dc3953ebc9aede28076.png",imageIcon:"https://liblibai-online.liblib.cloud/img/3158b1962c5b4c2e8e8a86f65bd533c6/f0097b0fd89f6a12688964ae175e52f36b2a04f96f2a014dc26b8ccb53a26a78.png",imageIcon2:"https://liblibai-online.liblib.cloud/public/xingliu.jpg",versionDetail:{baseType:"FLUX.1",name:"Star-3",modelId:16932777,modelType:"checkpoint",modelUuid:"8b86d942adc241228900c7c5f0a47ad9",versionId:18592945,versionIdInpaint:18532056,uuid:"eaac694155ec464e8120207f555b054a",vae:"",samplerMethod:"1",samplingSteps:30}},{id:"base_checkpoint_flux1",displayName:"基础模型F.1",imageUrl:"https://liblibai-online.liblib.cloud/img/c86b535ec32892da5e6cfa5417ba1da5/e4958f18cbd9d40d32a13718a9beb4312303850ce0d6872d27a3d4eb1c2bef6e.jpg",versionDetail:{name:"F.1基础算法模型",baseType:"FLUX.1",modelId:2270871,modelType:"checkpoint",modelUuid:"488cd9d58cd4421b9e8000373d7da123",versionId:2295774,versionIdInpaint:18532056,uuid:"412b427ddb674b4dbab9e5abd5ae6057",vae:"",samplerMethod:"1",samplingSteps:30}},{id:"portrait",displayName:"人像摄影F.1",imageUrl:"https://liblibai-online.liblib.cloud/img/3158b1962c5b4c2e8e8a86f65bd533c6/9e927b570f43d5e983ff8c506177f1ea09be18f6577c533c4de858033c4631e1.png",versionDetail:{baseType:"FLUX.1",name:"AWPortrait FL",modelType:"checkpoint",modelId:2490466,modelUuid:"baa0dc46adb34547860a17a571065c9d",versionId:2516926,versionIdInpaint:18532056,uuid:"287ef6222ae14d089bff7a2a7c4b6a9b",vae:"",samplerMethod:"1"}},{id:"base_checkpoint_xl",displayName:"基础模型XL",imageUrl:"https://liblibai-online.liblib.cloud/img/eb248b2879f040a48d0e4e504fd5ca73/c034970f08058077b118d5b3298123791de457f4034181c6241d2426c04cec46.jpeg",versionDetail:{baseType:"SD XL",name:"DreamShaper XL1.0",modelId:20999,modelType:"checkpoint",modelUuid:"4f9d68642b024d0aa0cdcafb0052af89",versionId:27161,uuid:"b803cf48854646ee8f0ed1fad17009b5",vae:"",samplerMethod:"15"}},{id:"photography",displayName:"写实摄影XL",imageUrl:"https://liblibai-online.liblib.cloud/img/3158b1962c5b4c2e8e8a86f65bd533c6/d97d6bf4f75b7af0f57953836b9e5074976c9b790df1a8712db48acb3d8e2000.png",versionDetail:{baseType:"SD XL",name:"LEOSAM HelloWorld 新世界 | SDXL大模型",modelId:24413,modelType:"checkpoint",modelUuid:"506c46c91b294710940bd4b183f3ecd7",versionId:1890038,uuid:"aeed3bb1cdcb40c098e6f5011aa6d5cb",vae:"",samplerMethod:"15"}},{id:"anime",displayName:"动漫游戏 XL",imageUrl:"https://liblibai-online.liblib.cloud/img/3158b1962c5b4c2e8e8a86f65bd533c6/e609c59ace633dd8c58f79acba876c63a6aeb4af582b7d4ead18b889f5ced001.png",versionDetail:{name:"Normal anime_XL",baseType:"SD XL",modelId:1831734,modelType:"checkpoint",modelUuid:"20d280af923846bfa436cd759883d7ef",versionId:1853033,uuid:"2b39519a44ff4ea99a69d5c0477c654a",vae:"",samplerMethod:"15"}},{id:"illustration",displayName:"插画设计XL",imageUrl:"https://liblibai-online.liblib.cloud/img/3158b1962c5b4c2e8e8a86f65bd533c6/89cafd4e1d4fa7e2f05f546ba24f69a264b6b4547adedbb5c79d9943051ae064.png",versionDetail:{name:"LEOSAM AIArt 兔狲插画 SDXL大模型",baseType:"SD XL",modelId:347406,modelType:"checkpoint",modelUuid:"b2abe174c89940cb90cc4b02d1a5bbc6",versionId:481980,uuid:"f622ceb656c348ce9b08729d8fc2ae42",vae:"",samplerMethod:"15"}},{id:"3d",displayName:"3D立体XL",imageUrl:"https://liblibai-online.liblib.cloud/img/3158b1962c5b4c2e8e8a86f65bd533c6/0da97b1fff05a90828d129d065b8915b1c31c21579143231f1cf4780f339add1.png",versionDetail:{name:"Samaritan 3d Cartoon",baseType:"SD XL",modelId:141723,modelType:"checkpoint",modelUuid:"6228adb132b149e29ae046ccd01e5612",versionId:151367,uuid:"613809f646f2402c8cdd5954644f0896",vae:"",samplerMethod:"15"}},{id:"cg",displayName:"CG幻想XL",imageUrl:"https://liblibai-online.liblib.cloud/img/3158b1962c5b4c2e8e8a86f65bd533c6/8004397dffa01bc5b18764e72cd07466e4cb29f4863cd6807b042a3dd586ae0e.png",versionDetail:{name:"DreamShaper XL1.0",baseType:"SD XL",modelId:20999,modelType:"checkpoint",modelUuid:"4f9d68642b024d0aa0cdcafb0052af89",versionId:27162,uuid:"686b30e67ee7489abfdb5d37e30a0f04",vae:"",samplerMethod:"15"}},{id:"architecture",displayName:"空间建筑XL",imageUrl:"https://liblibai-online.liblib.cloud/img/3158b1962c5b4c2e8e8a86f65bd533c6/e1bf35dd8f72cbafeeb44003c13a369660972980a3a41dd52741b6937f69f694.png",versionDetail:{name:"老王_archi_XL",baseType:"SD XL",modelId:2157552,modelType:"checkpoint",modelUuid:"b743adf8418844aaa0a01e377cb70d59",versionId:2181492,uuid:"0444f77f29bc4e4890df87f62d1fffc6",vae:"",samplerMethod:"15"}},{id:"ecommerce",displayName:"电商视觉XL",imageUrl:"https://liblibai-online.liblib.cloud/img/3158b1962c5b4c2e8e8a86f65bd533c6/4c18b3c5c09aed2c2f462262a68d511bd0e346722cd80cab1e6fe8ad06e3dd4b.png",versionDetail:{baseType:"FLUX.1",modelType:"checkpoint",name:"产品写实｜F.1简朴归真-电商",modelId:2446466,modelUuid:"7a8ac5d326f24e04b887abc90e59ffa3",versionId:2472697,uuid:"482888bc17374beda48b74532cf74668",vae:"",samplerMethod:"1"}}]},ty=tI.liblib,tw=Object.fromEntries(ty.map(t=>[t.id,t])),tA=p.memo(t=>{let{title:l,name:o,value:n,onChange:d}=t,[c,v]=(0,p.useState)(!1),h=t=>{d(t.modelVersionUuid,o)},M=(0,p.useCallback)(()=>{v(!0)},[n,o,d]);return(0,u.jsxs)("div",{"data-trigger-window":"model-checkpoints",id:"model-pick-button-".concat(o),children:[(0,u.jsx)("div",{className:"my-[8px]",children:(0,u.jsx)("span",{className:"text-xs text-[#7f7f7f] leading-[14px]",children:l})}),n?n.error?(0,u.jsx)("div",{onClick:M,className:"flex items-center justify-center h-[50px] bg-[#f4f6f8] hover:bg-[#f0f2f4] rounded cursor-pointer",children:(0,u.jsx)("span",{className:"text-xs text-amber-600",children:"".concat(n.error)})}):(0,u.jsx)("div",{onClick:M,className:"cursor-pointer mb-[12px]",children:n.presetId?(0,u.jsx)(tb,{id:n.presetId}):(0,u.jsx)(tN,{data:n})}):(0,u.jsx)("div",{onClick:M,className:"flex items-center justify-center h-[50px] bg-[#f4f6f8] hover:bg-[#f0f2f4] rounded cursor-pointer",children:(0,u.jsx)("span",{className:"ml-1 text-xs text-[#444] font-semibold translate-y-[0.5px]",children:"Pick a model"})}),(0,u.jsx)(tt.K,{visible:c,setVisible:v,data:{type:"checkpoint",current:1},onSelected:h})]})});var tD=o(12967),tT=o(50493),tz=o.n(tT);let t_=p.memo(t=>{let{title:l,name:o,value:n,onChange:d,isDark:c}=t,p=t=>{var l;let n=null===(l=t)||void 0===l?void 0:l.toHexString();d(n,o)};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"my-[8px]",children:(0,u.jsx)("span",{className:"mr-3 text-xs text-[#7f7f7f]",children:l})}),(0,u.jsx)("div",{className:"".concat(tz().ColorWrap),children:(0,u.jsx)(tD.Z,{defaultValue:n,onChangeComplete:p,showText:!0})})]})});var tC=o(62703),tS=o(55398),tk=o(47282),tL=o(7905),tE=o(67170),tU=o(52780),tO=o(92127),tQ=o(42640);let tY=t=>{if(!t)return t;try{let l=new URL(t);return l.searchParams.delete("Token"),l.toString()}catch(l){return t.split("?Token=")[0].split("&Token=")[0]}},tB=p.memo(t=>{let{title:l,badge:o,name:n,value:d,onChange:c}=t,[v,h]=(0,p.useState)(!1),[M,N]=(0,p.useState)(null),[w,A]=(0,p.useState)(!1),[T,C]=(0,p.useState)([]),[S,k]=(0,p.useState)(5),[L,E]=(0,p.useState)(0),[U,B]=(0,p.useState)(1),[P,W]=(0,p.useState)(10),[R,Z]=(0,p.useState)([]),[F,G]=(0,p.useState)({}),[V,J]=(0,p.useState)(!1),[H,X]=(0,p.useState)(),[K,q]=(0,p.useState)(),{dataJson:$}=(0,Q.AiInFo)(),[ee,et]=(0,p.useState)({details:[],hideGenerateInfo:0,remark:""}),ei=(0,p.useRef)({}),[ea,eo]=(0,p.useState)({}),[en,es]=(0,p.useState)(!1),er=(0,p.useRef)($),ed=(0,p.useRef)([]),{defaultModel:ec}=(0,tO.W)(),eu=["图片生成器","WebUI","ComfyUI","AI应用"],em=(0,Q.useCurrentUser)(),[eg,ep]=(0,z.NK)(),ev=(0,p.useMemo)(()=>!!em,[em]);(0,p.useEffect)(()=>{ed.current=R},[R]),(0,p.useEffect)(()=>{er.current=$},[$]);let{run:eh}=(0,tC.Z)(t=>{var l;return t&&Promise.all(null===(l=t)||void 0===l?void 0:l.filter(t=>{var l;return t&&!(null===(l=ea)||void 0===l?void 0:l[t])}).map(t=>(0,tU.Rn)(t).then(l=>{let o=window.URL.createObjectURL(l.data);return ei.current={...ei.current,[t]:o},eo({...ei.current}),{url:t,blobUrl:o}}).catch(()=>({url:t,blobUrl:""}))))},{manual:!0,onSuccess:t=>{var l;null===(l=t)||void 0===l||l.forEach(t=>{ea[t.url]=t.blobUrl}),eo({...ea})}}),ef=t=>{let l=[...ed.current];return te()(t).map((t,o)=>{t.imageId="".concat(t.imageId,"?index=").concat(o);let{id:n,imageId:d,imageUrl:c}=t,u=l.findIndex(t=>{let{id:l,imageId:o,imageUrl:u}=t;return n&&l?n===l:o&&d?d===o:c===u}),p=new Set;return -1===u||p.has(c)?t.selected=!1:(t.selected=!0,p.add(c)),t})},eM=()=>{if(R.length){var t;eh(null===(t=R)||void 0===t?void 0:t.map(t=>tY(t.originalImageUrl||t.imageUrl)));let l=R.map(t=>{var l,o;let n=tY(t.originalImageUrl||t.imageUrl),d={...t,uid:n,url:n,outputId:t.outputId||0,generateInfo:{...t.generateInfo,mixModel:(0,tL.fq)(t.mixModel)},width:t.width,height:t.height,imageUrl:tY(t.originalImageUrl||t.imageUrl),mixModel:(0,tL.fq)(t.mixModel),mixModels:t.mixModels,models:t.models||(null===(o=t)||void 0===o?void 0:null===(l=o.generateInfo)||void 0===l?void 0:l.models),originalName:t.originalName,contentId:t.contentId};return{fileInfo:d,uploadProcess:tQ.X6.IMAGE_UPLOAD_FINISH}});ej([...l,...ee.details]),Z([]),A(!1),k(S)}else D.ZP.info("请选择上传图片")};(0,p.useEffect)(()=>{C(T.map((t,l)=>{if(l===K){let l=R.findIndex(t=>tY(t.imageUrl)===tY(F.imageUrl)&&t.outputId===F.outputId);return -1!==l?R.splice(l,1):R.push(F),{...t,selected:!t.selected}}return t}))},[F,K]),(0,p.useEffect)(()=>{ey()},[S,U,P]);let ej=(0,p.useCallback)(async t=>{if(es(!0),eh(t.map(t=>{var l,o;return(null===(o=t)||void 0===o?void 0:null===(l=o.fileInfo)||void 0===l?void 0:l.url)||""})),t&&t.length>0){var l,o,d;if((null===(l=t[0])||void 0===l?void 0:l.uploadProcess)==="verifyFailed")X({}),eo({}),et({details:[],hideGenerateInfo:0,remark:""}),D.ZP.error("图片内容不符合平台要求");else{let l=null===(d=t[0])||void 0===d?void 0:null===(o=d.fileInfo)||void 0===o?void 0:o.url;if(l){let t=await eH(l);if(!t)return!1;c({width:t.width,height:t.height,url:l},n,er.current),es(!1)}}}},[eh,ec,er]),eN=async()=>{if(!ev){eg.open();return}ey(),A(!0)},eb=()=>{A(!1),Z([]),k(S)},eI=(t,l,o)=>{q(o),G(t)},ey=async()=>{var t;J(!0);let l=new Set(R.map(t=>tY(t.imageUrl))),o=null;if(5===S){let t=new Date().getFullYear()+1;o=await O.p1.getEditorImgHistory({pageNo:U,pageSize:P,fromTime:"2025-07-01 00:00:00",toTime:"".concat(t,"-01-01 00:00:00")})}else o=await O.BP.getImgHistory({pageNo:U,pageSize:P,imageSource:S});let{list:n,total:d}=(null===(t=o)||void 0===t?void 0:t.data)||{};n&&(C(ef(n.map(t=>{let o={...t};return 5===S&&(o.imageUrl=tY(o.imageUrl)),o.selected=l.has(o.imageUrl),o}))),E(d),J(!1))},{uploadConfig:ew,uploadingFileNodes:eA}=(0,tk.k)({maxCount:1,value:ee.details,onChange:ej,isSD:!0});return(0,u.jsxs)("div",{children:[l&&(0,u.jsx)("div",{className:"my-[8px]",children:(0,u.jsx)("span",{className:"text-xs text-[#7f7f7f] leading-[14px]",children:l})}),(0,u.jsx)("div",{className:tz().imgWrap,children:(0,u.jsxs)("div",{className:"relative group flex flex-col items-center justify-center h-[188px] rounded overflow-hidden ".concat(tz().textarea),children:[o&&(0,u.jsx)("span",{className:"absolute z-[3] top-1.5 left-1.5 px-3 py-1 bg-black/30 rounded text-xs text-white",children:o}),(0,u.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/70 rounded opacity-0 group-hover:opacity-100",children:[(0,u.jsx)("button",{"data-trigger-window":"mask-editor",className:"z-2 w-[72px] mr-[8px] h-[34px] bg-white/5 border border-white/50 hover:bg-white/10 hover:border-white/80 rounded text-xs text-white",onClick:eN,children:"图库上传"}),ev?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(tS.G,{className:"".concat(tz().uploadBox),uploadConfig:ew,onRef:t=>{if(!ev){eg.open();return}N(t)},children:(0,u.jsx)("button",{"data-trigger-window":"mask-editor",className:"z-2 w-[72px] h-[34px] bg-white/5 border border-white/50 hover:bg-white/10 hover:border-white/80 rounded text-xs text-white",children:"上传图片"})}),eA]}):(0,u.jsx)("button",{"data-trigger-window":"mask-editor",onClick:()=>{eg.open()},className:"z-2 w-[72px] h-[34px] bg-white/5 border border-white/50 hover:bg-white/10 hover:border-white/80 rounded text-xs text-white",children:"上传图片"})]}),(0,u.jsx)(tE.Z,{loading:V,tabNum:S,handleTab:t=>{k(t),B(1)},changeTotal:(t,l)=>{B(t),W(l)},options:eu,addImg:()=>eM(),locImgPage:U,localImgData:T,total:L,checkLength:R.length,maxLength:1,visible:w,onClose:()=>eb(),handleSelect:(t,l,o)=>eI(t,l,o),title:"建议从图库选择图片上传"}),en&&(0,u.jsx)("div",{className:tz().uploadModbg,children:(0,u.jsx)(I.default,{spinning:en,indicator:(0,u.jsx)(Y.Z,{style:{fontSize:20},spin:!0})})}),(0,u.jsx)("img",{crossOrigin:"anonymous",id:"orginal-img-element",className:"w-full h-[186px] object-contain",src:eF(d.url,400)})]})}),ep]})}),tP=p.memo(t=>{let{title:l,name:o,value:n,onChange:d}=t,[c,v]=(0,p.useState)(!1),{dataJson:h}=(0,Q.AiInFo)(),M=(0,p.useRef)(h);(0,p.useEffect)(()=>{M.current=h},[h]);let N=(0,p.useCallback)(t=>{d(t.modelVersionUuid,o,M.current)},[M]),I=(0,p.useCallback)(()=>{v(!0)},[M]);return(0,u.jsxs)("div",{"data-trigger-window":"model-loras",id:"model-pick-button-".concat(o),children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"my-[8px]",children:(0,u.jsx)("span",{className:"text-xs text-[#7f7f7f] leading-[14px]",children:l})}),n?n.error?(0,u.jsx)("div",{onClick:I,className:"flex items-center justify-center h-[50px] ".concat(tz().errLora," rounded cursor-pointer"),children:(0,u.jsx)("span",{className:"text-xs text-amber-600",children:"".concat(n.error)})}):(0,u.jsx)("div",{onClick:I,className:"cursor-pointer",children:(0,u.jsx)(tN,{data:n})}):(0,u.jsx)("div",{onClick:I,className:"flex items-center justify-center h-[50px] bg-[#f4f6f8] hover:bg-[#f0f2f4] rounded cursor-pointer",children:(0,u.jsx)("span",{className:"ml-1 text-xs text-[#444] font-semibold translate-y-[0.5px]",children:"Pick a model"})})]}),(0,u.jsx)(tt.K,{visible:c,setVisible:v,data:{type:"lora",current:1},onSelected:N})]})});var tW=o(85652),tR=o(87922),tZ=o(16277),tF=o.n(tZ),tG=o(53607),tV=o(71616),tJ=o(16207),tH=o(71472),tX=o(94282),tK=o(62692),tq=o.n(tK),t$=o(4284),t0=o.n(t$);let t1=(0,eh.F)(t=>({currentCanvasTool:"select",dragging:!1,spacePressing:!1,newerGuideTipOpen:!1,hiddenElementIds:{},promptLang:"zh",promptSettingsParams:{prompt_setting_enhance:!0,auto_complete:!0,two_language:!0},selectionRect:null,globalMode:"simple",imagePromptElement:null,segmentsShapes:[],brushSize:60,eraserSize:60,editorToolbarSelectedType:"lasso",historyWorkflowShow:!1,shapesCache:[],replaceList:[],presetColorRandomArr:[],presetColorRandomArrPointer:0,isMaskExist:!0})),t4=(t,l)=>!1===t?t1.getState():t1(t?o=>o[t]||l:void 0),t2=(t,l)=>{t1.setState("string"==typeof t?{[t]:l}:t)},t3=(t,l)=>t?t1.getState()[t]||l:t1.getState();o(20185);var t5=o(17620),t8=o.n(t5),t6=o(12436),t7=o.n(t6),t9=o(86795),ie=o(47832),it=o(28779);let ii={__version:1,__initialized:!1,__skipTracking:!1,__skipSaving:!1,canvasSize:[0,0],viewport:{scale:.25,x:0,y:0},validProjectId:!0,projectTitle:"独立工作单元",workSpaceUuid:"",tasks:{current:null,fe_queue:[],map:{}},elements:[],selection:[],editingElementId:null,currentElementTool:null,currentNodeId:null,units:{},nodeMap:{},flows:[],flowScale:1,isFoldFlow:!0,autoRunningFlowId:"",autoRunningFlowNodeId:""},ia=(0,eh.F)((0,t9.O)((0,ie.XR)(()=>({...ii})),{limit:100,diff:(t,l)=>{if(l.__skipTracking)return null},partialize:t=>t8()(t,["tasks","viewport"]),handleSet:t=>t7()(l=>{t(Object.assign({},l,{__version:(l.__version||1)+1}))},100)})),{useStore:il,getState:io}=(0,it.b)(ia),is=function(t){let{__replace:l=!1,__skipTracking:o=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ia.setState(l=>({...t,__skipSaving:!!t.__skipSaving,__skipTracking:o}),l)};globalThis.STARFLOW={getProjectState:io,setProjectState:is};let ir=()=>il("viewport");var ic=o(49491),iu=o(84182),im=o(8799),ig=o(36155),ip=o(53048),ix=o.n(ip);let iv=()=>{},ih=p.memo(t=>{let{name:l,step:o=1,min:n=0,max:d=100,inputWidth:c=32,clampBehavior:v="none",allowDecimal:h,decimalScale:M,disabled:N,allowNegative:I=!1,hideControls:w=!1,value:A,suffix:D,onChange:T,styles:z,sliderLabel:C,throttleTime:S=200,onSlideChange:k=()=>{},tooltip:L,tooltipPosition:E,defaultValue:U,isDark:O}=t,[Q,Y]=(0,p.useState)(Date.now()),[B,P]=(0,p.useState)(A),W=(0,iu.Z)(T||iv,{wait:0});(0,p.useEffect)(()=>{B!==A&&P(A)},[A]),(0,p.useCallback)(t=>{T&&T(t,l)},[l,T]);let R=(0,p.useCallback)(t=>{t>d&&Y(Date.now()),P(t),W.run(Math.min(d,Math.max(n,t)),l)},[l,n,d]);return(0,p.useEffect)(()=>{P(A)},[A,Q]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ig.default,{min:n,max:d,defaultValue:U,step:o,label:C,disabled:N,value:B,onChange:t=>{P(t)},onChangeComplete:R,className:"flex-1 ".concat(ix().Sliders)}),(0,u.jsx)("div",{className:ix().inutnum,children:(0,u.jsx)(im.default,{min:n,max:d,defaultValue:U,max:d,step:o,label:C,disabled:N,value:B,className:"mini-number-input ml-2 filled  text-mini text-left  w-[42px] ".concat(ix().darkInput),onChange:R,onChangeComplete:R})})]})});var iM=o(67921),ij=o.n(iM);let iN=p.memo(t=>{let{name:l,value:o,onChange:n,min:d,max:c,label:v,tooltip:h,trigger:M="hover",children:N}=t,[I,w]=(0,ic.Z)(!1),A=(0,p.useCallback)(()=>{"click"===M&&w.toggle()},[w,M]),D=(0,p.useCallback)(()=>{"hover"===M&&w.setTrue()},[w,M]),T=(0,p.useCallback)(()=>{"hover"===M&&w.setFalse()},[w,M]);return(0,u.jsxs)(tV.J,{width:180,opened:I,position:"bottom",radius:4,shadow:"md",withinPortal:!0,arrowOffset:40,children:[(0,u.jsx)(tV.J.Target,{children:(0,u.jsx)(B.u,{withArrow:!0,disabled:I||!h,position:"bottom-right",className:"scale-90",label:h,children:(0,u.jsx)("div",{onClick:A,onMouseEnter:D,onMouseLeave:T,className:"flex h-8 items-center",children:N})})}),(0,u.jsxs)(tV.J.Dropdown,{onMouseEnter:D,onMouseLeave:T,className:"flex flex-col items-stretch -mt-2.5 p-0 bg-transparent border-none",children:[(0,u.jsx)("div",{className:"relative self-center z-[1] w-2 h-2 ".concat(ij().bgPopover," rounded-sm rotate-45 -translate-x-1.5 translate-y-1.5")}),(0,u.jsxs)("div",{className:"flex items-center p-1 pl-2  rounded ".concat(ij().bgPopover),children:[(0,u.jsx)("span",{className:"text-xs font-medium mr-3",children:v}),(0,u.jsx)(ih,{name:l,min:d,max:c,value:o,onChange:n})]})]})]})});var ib=o(78784);let iI=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:150,[l,{close:o,open:n}]=(0,ib.q)(),d=(0,p.useRef)(null),c=()=>{d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{o()},t)},u=()=>{d.current&&clearTimeout(d.current),n()};return[l,{close:c,open:u}]};var iy=o(13903),iw=o.n(iy),iA=o(26847),iD=o.n(iA),iT=o(748),iz=o.n(iT);let i_="#8053ff",iC=[8,6],iS=t=>{let{index:l,fill:o,opacity:n,hoverOpacity:d,selectable:c,onClick:v,segment:h,tool:M,canvasCssWidth:N,canvasCssHeight:I}=t,[w,A]=(0,p.useState)(!1);return(void 0===n&&(n=0),void 0===d&&(d=.85),"segment"===M||"autoSelectArea"===M||"mainSelect"===M)?(0,u.jsx)(tR.bn,{index:l,listening:c,onClick:()=>v(h.points,h.area,h.id),fill:o||i_,opacity:w?d:n,onMouseEnter:()=>A(!0),onMouseLeave:()=>A(!1),sceneFunc:(t,l)=>{t.beginPath(),t.moveTo(h.points[0][0]*N,h.points[0][1]*I),h.points.forEach(l=>{t.lineTo(l[0]*N,l[1]*I)}),t.closePath(),t.fillStrokeShape(l)}}):null},ik=t=>{let{selection:l,fill:o,opacity:n,hoverOpacity:d,selected:c,showStroke:v,elementScale:h,hoverable:M=!0,scale:N}=t,[I,w]=(0,p.useState)(!1);void 0===n&&(n=.4),void 0===d&&(d=.6),v=v||c;let A=(t,o)=>{t.beginPath(),t.moveTo(l.points[0][0],l.points[0][1]),l.points.forEach(l=>{t.lineTo(l[0],l[1])}),t.closePath(),t.fillStrokeShape(o)};return(0,u.jsxs)(tR.ZA,{children:[(0,u.jsx)(tR.bn,{id:l.id,name:"selection-"+l.id,fill:o||i_,opacity:c||I?d:n,globalCompositeOperation:"source-over",sceneFunc:A,onMouseEnter:()=>M&&w(!0),onMouseLeave:()=>M&&w(!1)}),v&&(0,u.jsx)(tR.bn,{listening:!1,stroke:"#fff",dash:iC,strokeWidth:2,opacity:c||I?d:n,sceneFunc:A})]})},iL=t=>{if(!t.points)return null;let l=t.points.flat(),o=t.size||1;return(0,u.jsx)(tR.x1,{points:l,stroke:i_,strokeWidth:o,tension:.5,lineCap:"round",lineJoin:"round",opacity:"eraser"===t.type?1:.5,globalCompositeOperation:"eraser"===t.type?"destination-out":"source-over"})},iE=t=>{let{selection:l,fill:o,extend:n,opacity:d,hoverOpacity:c,selected:v,showStroke:h,elementScale:M,hoverable:N=!0,scale:I}=t,[w,A]=(0,p.useState)(!1);if(l.points.length<2)return null;let D=Math.min(l.points[1][0],l.points[0][0]),T=Math.min(l.points[0][1],l.points[1][1]),z=Math.abs(l.points[1][0]-l.points[0][0]),C=Math.abs(l.points[0][1]-l.points[1][1]);return void 0===d&&(d=.4),void 0===c&&(c=.6),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(tR.UL,{id:l.id,name:"selection-"+l.id,stroke:o||i_,strokeWidth:n,x:D-n/2,y:T-n/2,width:z+n,height:C+n,opacity:v||w?c:d,onMouseEnter:()=>N&&A(!0),onMouseLeave:()=>N&&A(!1)}),(0,u.jsx)(tR.UL,{x:D,y:T,listening:!1,width:z,height:C,stroke:"#fff",dash:iC,strokeWidth:h||v?1/I/M:0,fill:o||i_,opacity:v||w?c:d})]})},iU={selected:null,selections:[],shapes:[],tool:"brush",extend:0,brushSize:100,eraserSize:100,segmentType:"normal",autoSegmenting:!1,mode:null,text:""},iO={showToolbar:!0},iQ=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iU,l=(0,p.useRef)(t),o=(0,tW.Z)(t),n=(0,p.useCallback)(t=>{let n=Object.assign({},l.current,t);o.setValue(l.current=n)},[]),d=(0,p.useCallback)(()=>l.current,[]);return(0,p.useEffect)(()=>{l.current=o.value},[o.value]),[o,n,d]},iY=p.memo(t=>{let{key:l,data:o,extend:n=0,currentType:d,selected:c,elementScale:p,scale:v,canvasCssWidth:h,canvasCssHeight:M,onClick:N}=t,I="brush"===d||"eraser"===d,w={...o,points:o.points.map(t=>[t[0]*h,t[1]*M])};return"lasso"===o.type?(0,u.jsx)(ik,{hoverable:!I,selection:w,extend:n,selected:c,elementScale:p,scale:v,onClick:()=>{c&&onclick(o.points,o.area,l)}}):"rect"===o.type?(0,u.jsx)(iE,{hoverable:!I,selection:w,extend:n,selected:c,elementScale:p,scale:v,onClick:()=>{c&&onclick(o.points,o.area,l)}}):"brush"===o.type||"eraser"===o.type?(0,u.jsx)(iL,{points:w.points,size:o.size*v,type:o.type,elementScale:p,scale:v,onClick:()=>{c&&onclick(o.points,o.area,l)}}):null}),iB=p.memo(t=>{var l;let{className:o="",stageClassName:n,element:d,editorState:c,setEditorState:v,getEditorState:h,config:M=iO,isShapeCache:N,inputCanvasScale:I}=t,{autoSegment:w,showToolbar:A}=M,{selections:D,selected:T,extend:z,brushSize:C,eraserSize:S,tool:k,segmentType:L,shapes:E,autoSegmenting:U}=c.value,O=(0,p.useRef)({}),Q=Math.max(d.scaleX,d.scaleY),Y=I||ir().scale*Q,[B,P]=(0,p.useState)(0),[W,R]=(0,p.useState)(null),Z=d.width*Y,F=d.height*Y,G=(0,p.useCallback)(t=>{let{type:l,area:o,sourceType:n,points:d,size:c}=t;n=(n=n||l)||l,o=o||eK(t);let u=tF()(),p={id:u,type:l,sourceType:n,points:d};c&&(p.size=c,p.area=0),"brush"!==l&&"eraser"!==l&&(p.area=o||eK(t));let M=h().selections.concat([p]);v({selected:u,selections:M||[]})},[]),V=(0,p.useCallback)(t=>{v({selections:h().selections.filter(l=>l.id!==t)})},[]),J=(0,p.useCallback)(()=>{"segment"!==k&&(document.body.style.cursor="crosshair")},[k]),H=(0,p.useCallback)(()=>{document.body.style.cursor="auto"},[]),X=(0,p.useCallback)(t=>{var l;if((null===(l=t.target.name())||void 0===l?void 0:l.indexOf("selection"))===0&&"brush"!==k&&"eraser"!==k){let l=t.target.id();v({selected:T===l?null:l}),l&&V(l);return}let o=t.evt;"brush"===k?P(C):"eraser"===k?P(S):P(0),O.current.mousedown=!0,O.current.type=k,O.current.elementScaleX=d.scaleX,O.current.elementScaleY=d.scaleY;let n=o.offsetX/Z,c=o.offsetY/F;R([[n,c]])},[Z,F,C,S,T,k]),K=(0,p.useCallback)(t=>{if(!O.current.mousedown)return;let{type:l}=O.current;if("segment"!==l){if("brush"===l||"eraser"===l||"lasso"===l){let l=t.evt,o=l.offsetX/Z,n=l.offsetY/F;R(t=>O.current.drawingPoints=t.concat([[o,n]]))}else if("rect"===l){let l=t.evt,o=l.offsetX/Z,n=l.offsetY/F;R(t=>O.current.drawingPoints=[t[0],[o,n]])}}},[Z,F]),q=(0,p.useCallback)(()=>{O.current.mousedown=!1;let{type:t,drawingPoints:l}=O.current,o={type:t,points:l};if(l&&"segment"!==t){if("brush"===t||"eraser"===t){if(l.length<1)return}else if("lasso"===t){if(l.length<3)return}else if("rect"===t&&l.length<2)return;B&&(o.size=B),G(o),R(null),O.current.drawingPoints=null}},[B]),$=(0,p.useCallback)(t=>{if(!t.target.matches("input, textarea")){if("Delete"===t.key||"Backspace"===t.key){let{selected:l,selections:o}=h();null!==l&&(v({selected:null,selections:o.filter(t=>t.id!==l)}),t.stopPropagation(),t.preventDefault())}else"z"===t.key&&(t.metaKey||t.ctrlKey)?t.shiftKey?c.forward():c.back():"a"===t.key&&(t.metaKey||t.ctrlKey)&&t.preventDefault()}},[]),ee=(0,p.useCallback)((t,l,o)=>{let n=h().selections.find(t=>t.id===o);n?V(o):G({type:"lasso",area:l,sourceType:"segment",points:t})},[]),et=(0,p.useMemo)(()=>{if(!W)return null;let t=W.map(t=>[t[0]*Z,t[1]*F]);return"lasso"===k?(0,u.jsx)(ik,{showStroke:!0,hoverable:!1,selection:{id:"drawing",type:"lasso",points:t},elementScale:Q,scale:Y}):"brush"===k||"eraser"===k?(0,u.jsx)(iL,{type:k,size:B*Y,points:t,elementScale:Q,scale:Y}):"rect"===k?(0,u.jsx)(iE,{showStroke:!0,hoverable:!1,selection:{id:"drawing",type:"rect",points:t},elementScale:Q,scale:Y}):void 0},[Q,Y,k,W,B,F,Z]);return(0,p.useEffect)(()=>{w&&e$(d.id)},[w,d.id]),(0,p.useEffect)(()=>(eg("preventUndoRedo",!0),N&&v({selections:t3("shapesCache")}),()=>{eg("preventUndoRedo",!1)}),[]),(0,p.useEffect)(()=>(document.addEventListener("mouseup",q),document.addEventListener("keydown",$),()=>{document.body.style.cursor="auto",document.removeEventListener("mouseup",q),document.removeEventListener("keydown",$)}),[]),(0,u.jsxs)("div",{className:"".concat(o," relative origin-top-left pointer-events-auto"),children:[U&&(0,u.jsx)("div",{className:"absolute inset-0 z-10 flex items-center justify-center overflow-hidden bg-black/60",children:(0,u.jsx)("span",{className:"text-xs text-white whitespace-nowrap",children:"智能选区中"})}),(0,u.jsx)(tR.Hf,{className:"".concat(n),width:Z,height:F,onMouseDown:X,onMouseMove:K,onMouseUp:q,onMouseEnter:J,onMouseLeave:H,children:(0,u.jsx)(tR.mh,{children:(0,u.jsxs)(tR.ZA,{children:[Array.isArray(E)&&E.map((t,l)=>{var o;return(0,u.jsx)(iS,{selectable:!0,index:l,segment:t,tool:k,onClick:ee,canvasCssWidth:Z,canvasCssHeight:F},null===(o=t)||void 0===o?void 0:o.id)}),null===(l=D)||void 0===l?void 0:l.map(t=>{var l;return(0,u.jsx)(iY,{data:t,extend:z,scale:Y,currentType:k,elementScale:Q,selected:T===t.id,canvasCssWidth:Z,canvasCssHeight:F,onClick:ee},null===(l=t)||void 0===l?void 0:l.id)}),et]})})}),A&&(0,u.jsx)(iR,{config:M,editorState:c,setState:v,element:d})]})});iB.defaultValue=iU,iB.defaultConfig=iO;let iP=p.memo(t=>{let l,o,n;let{shapes:d,element:c,width:p,height:v}=t;return c.width>c.height?(n=(o=p)/c.width*c.height,l=c.width/o):(o=(n=v)/c.height*c.width,l=c.height/n),(0,u.jsx)("div",{className:"w-full h-full flex justify-center items-center",children:(0,u.jsx)(tR.Hf,{width:o,height:n,children:(0,u.jsx)(tR.mh,{children:(0,u.jsx)(tR.ZA,{children:d.map(t=>{var d;return(0,u.jsx)(iY,{data:t,scale:1/l,elementScale:l,canvasCssWidth:o,canvasCssHeight:n},null===(d=t)||void 0===d?void 0:d.id)})})})})})}),iW=[{name:"subject",label:"主体"},{name:"face",label:"人脸"},{name:"skin",label:"皮肤"},{name:"hair",label:"头发"},{name:"custom",label:"自定义"}],iR=p.memo(t=>{let{segmenting:l,editorState:o,setState:n,config:d,element:c}=t,v=t3("topImagesTool"),M="changeFace"===v,{shapes:N,tool:I,invert:w,extend:A=0,brushSize:D=100,eraserSize:T=100}=o.value,{toolbarLeftButton:z,toolbarRightButton:C,noSegment:S,noFeathering:k,noClear:L,noInvert:O,noAutoSelection:Q}=d,Y=o.backLength>0,P=o.forwardLength>0,[W,R]=(0,p.useState)(!1),[Z,F]=(0,p.useState)(!1),G=(0,p.useRef)(null),[V,J]=(0,p.useState)(iW[0].name),[H,X]=(0,p.useState)(iW[0].label),K=(0,p.useMemo)(()=>{let t;if("custom"===V)t=H;else{let l=iW.find(t=>t.name===V);t=l.label||""}return t},[V,H]),[q,{close:$,open:ee}]=iI(),{colorScheme:et}=(0,E.X)(),ei="dark"===et,ea=(0,p.useCallback)(async t=>{let l;n({tool:l="string"==typeof t?t:t.currentTarget.dataset.type})},[]),eo=(0,p.useCallback)(async t=>{let l;if(!W&&!Z&&(8!==t||!G.current||G.current!==K)){8===t?F(!0):R(!0),n({autoSegmenting:!0});try{var o,d;if("custom"==V){if("主体"!==H){let t=await (0,U.A1)({q:H,to:"en",from:"auto"});l=null===(d=t.data)||void 0===d?void 0:d.dst}else l="subject"}else l=V;let u=c.url,p=eU(u),v=8===t?l:void 0;G.current=8===t?K:null;let{results:h}=await (0,U.FX)({images:[p],...e0,mode:t,boxThreshold:8===t?.3:void 0,text:v});if(!h||!Array.isArray(h))throw"servive error";let M=1,N=h[0].map(t=>({points:t.contours.map(t=>[t[0][0]*M,t[0][1]*M])})).map(t=>({points:t.points.map(t=>[t[0]/c.width,t[1]/c.height]),area:eK(t),id:tF()()})).sort((t,l)=>l.area-t.area);N.length,8===t&&(null===(o=N)||void 0===o?void 0:o.length)>0?n({selections:N.map(t=>({...t,sourceType:"segment",type:"lasso"})),selected:N[0].id,mode:t,text:v}):n({shapes:N}),eu("智能选区识别成功")}catch(t){n({tool:"brush"}),G.current=null}finally{R(!1),F(!1),n({autoSegmenting:!1})}}},[V,H]),en=(0,p.useCallback)((t,l)=>{n({[l]:t})},[]),es=(0,p.useCallback)(()=>{n({invert:!w})},[w]),er=(0,p.useCallback)(()=>{G.current=null,n({...iU,shapes:N}),t2({shapesCache:[]})},[N]);return(0,p.useEffect)(()=>{"mainSelect"===I&&eo(8),"autoSelectArea"===I&&eo(1)},[]),(0,u.jsxs)("div",{className:"absolute flex  h-[55px] items-center  z-10 w-full justify-center ".concat(ij().bvg),children:[z,(0,u.jsxs)("div",{className:"flex items-center h-[55px] px-3 text-caption-500 text-mini whitespace-nowrap ".concat(ij().bg," rounded-md"),children:[!Q&&(0,u.jsxs)("button",{"data-type":"autoSelectArea",onClick:t=>{ea(t),0===N.length&&eo(1)},disabled:"autoSelectArea"===I,className:"flex items-center justify-center w-[72px] mr-3 rounded-sm disabled:bg-primary/20 cursor-pointer",children:[W?(0,u.jsx)(tG.a,{size:12,color:"var(--color-caption-500)"}):(0,u.jsx)("img",{className:"w-[16px] h-[16px] mr-[4px]",src:ei?iw():iD()}),(0,u.jsx)("div",{children:"自动选区"})]}),!Q&&(0,u.jsx)("button",{className:"flex items-center mr-3 cursor-pointer justify-between","data-type":"mainSelect",onClick:t=>{t.currentTarget.contains(t.target)&&(ea(t),eo(8))},children:(0,u.jsxs)(u.Fragment,{children:[Z?(0,u.jsx)(tG.a,{size:12,color:"var(--color-caption-500)"}):(0,u.jsx)(h.J,{fontSize:16,className:"icon-a-proQuickSelection",color:"inherit"}),(0,u.jsxs)(tV.J,{width:238,position:"top-start",shadow:"md",opened:q,children:[(0,u.jsx)(tV.J.Target,{children:(0,u.jsxs)("div",{className:"flex items-center justify-between rounded-sm disabled:bg-primary/20 cursor-pointer",onMouseEnter:ee,onMouseLeave:$,children:[(0,u.jsx)("div",{className:"mx-[4px]",children:(0,u.jsx)("div",{className:"max-w-[72px] truncate",children:K})}),(0,u.jsx)("img",{className:"w-[18px] h-[18px]",src:iz()})]})}),(0,u.jsxs)(tV.J.Dropdown,{className:"box-content",onMouseEnter:ee,onMouseLeave:$,children:[(0,u.jsx)(tJ.Y.Group,{size:"xs",value:V,onChange:t=>{J(t)},className:"main-select-container",children:(0,u.jsx)(tH.Z,{className:"gap-2",children:iW.map(t=>{let{name:l,label:o}=t;return(0,u.jsx)(tJ.Y,{style:{border:"1px solid ".concat(l===V?"#339BFF":"var(--lib3-text-light-maskbg)"),borderRadius:"2px"},size:"xs",checked:!1,className:"".concat(l===V?ij().mgBackAct:ij().mgBack," px-3 py-1"),labelElement:"div",label:(0,u.jsx)("div",{children:o}),value:l,color:"#339BFF"},l)})})}),"custom"===V&&(0,u.jsx)(tX.I,{className:"w-full mt-2.5",size:"xs",value:H,onChange:t=>{X(t.target.value)}}),(0,u.jsx)("div",{className:"segment-editor-hr mt-4 mb-3 ".concat(ij().mgb)}),(0,u.jsx)("div",{className:"flex justify-end",children:(0,u.jsx)("button",{className:"flex items-center cursor-pointer justify-between px-[12px] py-[4px] rounded-[2px] font-medium text-white ".concat(ij().mgb),onClick:()=>{ea("mainSelect"),eo(8)},children:"创建选区"})})]})]})]})}),!S&&(0,u.jsx)(B.u,{withArrow:!0,position:"bottom",className:"scale-90",label:"自动识别选区",children:(0,u.jsx)("button",{"data-type":"segment",disabled:"segment"===I,onClick:ea,className:"flex items-center justify-center w-5 h-5 mr-3 rounded-sm disabled:bg-primary/20",children:l?(0,u.jsx)(tG.a,{size:12,color:"var(--color-caption-500)"}):(0,u.jsx)(h.J,{fontSize:16,className:M?"shk-face_n":"icon-a-proQuickSelection",color:"inherit"})})}),(0,u.jsx)(B.u,{withArrow:!0,position:"bottom",className:"scale-90",label:"笔刷",children:(0,u.jsx)(iN,{min:20,max:200,name:"brushSize",value:D,onChange:en,label:"画笔尺寸",tooltip:"画笔尺寸",children:(0,u.jsx)("button",{"data-type":"brush",disabled:"brush"===I,onClick:ea,className:"flex items-center justify-center w-5 h-5 mr-3 rounded-sm disabled:bg-primary/20",children:(0,u.jsx)(h.J,{fontSize:16,className:"icon-brush",color:"inherit"})})})}),(0,u.jsx)(B.u,{withArrow:!0,position:"bottom",className:"scale-90",children:(0,u.jsx)(iN,{min:20,max:200,name:"eraserSize",value:T,onChange:en,label:"橡皮尺寸",tooltip:"橡皮尺寸",children:(0,u.jsx)("button",{"data-type":"eraser",disabled:"eraser"===I,onClick:ea,className:"flex items-center justify-center w-5 h-5 mr-3 rounded-sm disabled:bg-primary/20",children:(0,u.jsx)(h.J,{fontSize:16,className:"icon-eraser",color:"inherit"})})})}),(0,u.jsx)(B.u,{withArrow:!0,position:"bottom",className:"scale-90",label:"套索工具",children:(0,u.jsx)("button",{"data-type":"lasso",disabled:"lasso"===I,onClick:ea,className:"flex items-center justify-center w-5 h-5 mr-3 rounded-sm disabled:bg-primary/20",children:(0,u.jsx)(h.J,{fontSize:16,className:"icon-protool",color:"inherit"})})}),(0,u.jsx)(B.u,{withArrow:!0,position:"bottom",className:"scale-90",label:"框选工具",children:(0,u.jsx)("button",{"data-type":"rect",disabled:"rect"===I,onClick:ea,className:"flex items-center justify-center w-5 h-5 mr-3 rounded-sm disabled:bg-primary/20",children:(0,u.jsx)(h.J,{fontSize:16,className:"icon-a-prochooseabox",color:"inherit"})})}),(0,u.jsx)("div",{className:"mr-3 h-5 border-l border-[#f4f5f7]"}),!k&&(0,u.jsx)(iN,{name:"extend",min:0,max:10,value:A,onChange:en,label:"羽化",tooltip:"羽化像素",children:(0,u.jsxs)("button",{className:"flex items-center justify-center h-5 mr-3 px-1 rounded-sm",children:[(0,u.jsx)(h.J,{fontSize:14,className:"icon-mask_padding",color:"inherit"}),(0,u.jsx)("span",{className:"ml-2 text-xs font-medium",children:A})]})}),!O&&(0,u.jsx)(B.u,{withArrow:!0,position:"bottom",className:"scale-90",label:w?"重绘非选区区域":"重绘选区区域",children:(0,u.jsx)("button",{onClick:es,className:"flex items-center justify-center mr-3 w-5 h-5 disabled:opacity-50 rounded-sm disabled:bg-primary/20",children:(0,u.jsx)("img",{src:w?t0():tq(),className:"w-5 h-5"})})}),(0,u.jsx)("div",{className:"mr-3 h-5 border-l border-[#f4f5f7]"}),(0,u.jsx)(B.u,{withArrow:!0,position:"bottom",className:"scale-90",label:"撤销",children:(0,u.jsx)("button",{onClick:o.back,disabled:!Y,className:"flex items-center justify-center w-5 h-5 disabled:opacity-30 rounded-sm",children:(0,u.jsx)(h.J,{fontSize:24,className:"icon-proshangyibu",color:"inherit"})})}),(0,u.jsx)(B.u,{withArrow:!0,position:"bottom",className:"scale-90",label:"重做",children:(0,u.jsx)("button",{onClick:o.forward,disabled:!P,className:"flex items-center justify-center w-5 h-5 disabled:opacity-30 ml-3 rounded-sm",children:(0,u.jsx)(h.J,{fontSize:24,className:"icon-proxiayibu",color:"inherit"})})}),!L&&(0,u.jsx)(B.u,{withArrow:!0,position:"bottom",className:"scale-90",label:"清空选区",children:(0,u.jsx)("button",{onClick:er,className:"flex items-center justify-center w-5 h-5 ml-3 rounded-sm  disabled:opacity-30",children:(0,u.jsx)(h.J,{fontSize:20,className:"icon-proshauxin",color:"inherit"})})})]}),C]})}),iZ=260,iF=186,iG=p.memo(t=>{var l;let{width:o,height:n,shapes:d,scale:c,sourceImage:v}=t,h=(0,p.useMemo)(()=>{if(!v)return null;let{width:t,height:l}=v,o=Math.min(iZ/t,iF/l),n=t*o,d=l*o,c=n/t,u=d/l,p=(iZ-n)/2,h=(iF-d)/2;return{x:p,y:h,scaleX:c,scaleY:u,width:t,height:l}},[v]);return h&&(null===(l=d)||void 0===l?void 0:l.length)?(0,u.jsx)(iP,{scale:c,shapes:d,element:h,width:o,height:n}):null}),iV=p.memo(t=>{var l;let{value:o}=t,{sourceImage:n,mask:d}=o||{};return(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsx)("img",{src:eF(n.url,520),className:"w-[260px] h-[186px] object-contain"}),(0,u.jsx)("div",{className:"absolute top-0 left-0 w-full h-full",children:(0,u.jsx)(iG,{scale:1,width:260,height:186,shapes:null===(l=d)||void 0===l?void 0:l.shapes,sourceImage:n})})]})}),iJ=p.memo(t=>{let{title:l,name:o,value:n,onChange:d}=t,{sourceImage:c}=n||{},v=(0,p.useCallback)(t=>{d({...n,sourceImage:t,mask:{}},o)},[n,o,d]),h=(0,p.useCallback)(()=>{var t;if(!(null===(t=n)||void 0===t?void 0:t.sourceImage)){ec("上传图片后可绘制蒙版");return}t2({workflowMaskEditorData:n,workflowMaskUpdateCallback:t=>{d({...n,mask:{shapes:t}},o)},exclusiveWindow:"mask-editor"})},[n,o,d]);return(0,u.jsxs)("div",{children:[l&&(0,u.jsx)("div",{className:"my-[8px]",children:(0,u.jsx)("span",{className:"text-xs text-[#7f7f7f] leading-[14px]",children:l})}),(0,u.jsx)(tB,{badge:"原图",value:c,onChange:v}),(0,u.jsxs)("div",{className:"mt-2 group flex flex-col items-center justify-center relative h-[188px] overflow-hidden ".concat(tz().textarea," rounded"),children:[(0,u.jsx)("span",{className:"absolute z-[4] top-1.5 left-1.5 px-3 py-1 bg-black/30 rounded text-xs text-white",children:"蒙版"}),c?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(iV,{value:n}),(0,u.jsx)("div",{className:"absolute z-[3] inset-0 flex items-center justify-center bg-black/70 opacity-0 group-hover:opacity-100",children:(0,u.jsx)("button",{"data-trigger-window":"mask-editor",onClick:h,className:"z-2 w-[72px] h-[34px] bg-white/5 border border-white/50 hover:bg-white/10 hover:border-white/80 rounded text-xs text-white",children:"绘制蒙版"})})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("span",{className:"text-xs text-[#2d2d2d]",children:"上传图片后可绘制蒙版"}),(0,u.jsx)("button",{"data-trigger-window":"mask-editor",onClick:h,className:"w-[72px] h-[34px] mt-2.5 bg-white border border-[#ededed] hover:border-[#dedede] rounded text-xs text-[#2d2d2d] disabled:pointer-events-none disabled:opacity-50",children:"绘制蒙版"})]})]})]})}),iH=p.memo(t=>{let{title:l,tooltip:o,name:n,step:d,min:c,max:v,value:h,onChange:M,isDark:N}=t,[I,w]=(0,p.useState)(h),A=(0,iu.Z)(M,{wait:300}),D=(0,p.useCallback)((t,l)=>{w(()=>t),A.run(t,l)},[A]);return(0,p.useEffect)(()=>{w(h)},[h]),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"my-[8px] h-[18px] leading-[14px]",children:(0,u.jsx)(B.u,{disabled:!o,maw:300,multiline:!0,position:"left-start",label:(0,u.jsx)("span",{className:"text-xs leading-[14px]",children:o}),children:(0,u.jsx)("span",{className:"leading-[18px] text-xs text-[#7f7f7f]",children:l})})}),(0,u.jsx)("div",{className:"flex items-center",children:(0,u.jsx)(ih,{min:c,max:v,step:d,name:n,inputWidth:42,value:I,onChange:D,isDark:N})})]})});var iX=o(37748);let iK={position:"bottom-end",width:"auto",minWidth:200},iq={dropdown:"dark-select-dropdown !rounded ".concat(tz().selectdropdown),input:"!px-3 placeholder:!text-[#7f7f7f]  ".concat(tz().arrSelect," ")},i$=p.memo(t=>{let{title:l,tooltip:o,name:n,options:d,value:c,onChange:v}=t,h=(0,p.useCallback)(t=>{v(t,n)},[n,v]);return(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"my-[8px]",children:(0,u.jsx)(B.u,{disabled:!o,maw:300,multiline:!0,position:"left-start",label:(0,u.jsx)("span",{className:"text-xs leading-[14px]",children:o}),children:(0,u.jsx)("span",{className:"w-[100px] mr-3 text-xs text-[#7f7f7f]",children:l})})}),(0,u.jsx)("div",{className:"relative",children:(0,u.jsx)(iX.Ph,{size:"xs",value:c,data:d,onChange:h,classNames:iq,placeholder:"请选择".concat(l),className:"cn-select bordered rounded flex-1 ".concat(tz().seWr),comboboxProps:iK})})]})}),i0=p.memo(t=>{let{title:l,name:o,value:n,onChange:d}=t,c=(0,p.useCallback)(()=>{d(!n,o)},[o,n,d]);return(0,u.jsxs)("div",{className:"flex items-center justify-between my-[8px]",children:[(0,u.jsx)("span",{className:"mr-3 text-xs text-[#7f7f7f]",children:l}),(0,u.jsx)(P.r,{size:"xs",checked:!!n,onChange:c})]})});var i1=o(81822);let i4=p.memo(t=>{let{title:l,name:o,value:n,placeholder:d,onChange:c,isDark:v}=t,[h,M]=(0,p.useState)(n),N=(0,i1.Z)(c,{wait:300}),I=(0,p.useCallback)(t=>{M(t.target.value),N.run(t.target.value,o)},[N,o]);return(0,p.useEffect)(()=>{M(n)},[n]),(0,u.jsxs)("div",{className:"leading-0",children:[(0,u.jsx)("div",{className:"my-[8px]",children:(0,u.jsx)("span",{className:"text-xs text-[#7f7f7f] leading-[14px]",children:l})}),(0,u.jsx)("input",{defaultValue:h,onChange:I,placeholder:d||"请输入".concat(l),className:"w-full h-8 px-3 text-xs leading-[14px]  border  rounded focus:border-primary ".concat(tz().textarea)})]})}),i2=p.memo(t=>{let{title:l,name:o,value:n,placeholder:d,onChange:c,isDark:v}=t,[h,M]=(0,p.useState)(n),N=(0,i1.Z)(c,{wait:300}),I=(0,p.useCallback)(t=>{M(t.target.value),N.run(t.target.value,o)},[N,o]);return(0,p.useEffect)(()=>{M(n)},[n]),(0,u.jsxs)("div",{className:"leading-0",children:[(0,u.jsx)("div",{className:"my-[8px]",children:(0,u.jsx)("span",{className:"text-xs text-[#7f7f7f] leading-[14px]",children:l})}),(0,u.jsx)("textarea",{defaultValue:h,onChange:I,placeholder:d||"请输入".concat(l),className:"w-full h-[100px] min-h-[60px] max-h-[300px] p-3 text-xs leading-[18px] rounded focus:border-primary resize-none ".concat(tz().textarea)})]})}),i3=p.memo(t=>(0,u.jsxs)("div",{className:"flex items-center justify-center p-4 bg-amber-100 rounded text-xs text-amber-600",children:["未支持的参数类型：",t.type]}));var i5=o(97453);!function(t){t[t.WebUI=1]="WebUI",t[t.ComfyUI=3]="ComfyUI",t[t["AI应用"]=4]="AI应用",t[t["视频生成器"]=6]="视频生成器"}(c||(c={}));let i8=p.memo(t=>{let{title:l,name:o,value:n,onChange:d}=t,[v,h]=(0,p.useState)(!1),[M,N]=(0,p.useState)(""),[I,w]=(0,p.useState)("auto"),[A,D]=(0,p.useState)(!1),[T,z]=(0,p.useState)(null),[C,S]=(0,p.useState)(),{dataJson:k}=(0,Q.AiInFo)(),[L,E]=(0,p.useState)({details:[],hideGenerateInfo:0,remark:""}),U=(0,p.useRef)({}),[Y,B]=(0,p.useState)({}),[P,W]=(0,p.useState)(!1),R=(0,p.useRef)(k),{defaultModel:Z}=(0,tO.W)(),[F,G]=(0,p.useState)(!1),[V,J]=(0,p.useState)([]),[H,X]=(0,p.useState)(6),[K,q]=(0,p.useState)(0),[$,ee]=(0,p.useState)(1),[et,ei]=(0,p.useState)(10),[ea,eo]=(0,p.useState)([]),[en,es]=(0,p.useState)(),[er,ed]=(0,p.useState)(!1);(0,p.useEffect)(()=>{R.current=k},[k]);let{run:ec}=(0,tC.Z)(t=>{var l;return t&&Promise.all(null===(l=t)||void 0===l?void 0:l.filter(t=>{var l;return t&&!(null===(l=Y)||void 0===l?void 0:l[t])}).map(t=>(0,tU.Rn)(t).then(l=>{let o=window.URL.createObjectURL(l.data);return U.current={...U.current,[t]:o},B({...U.current}),{url:t,blobUrl:o}}).catch(()=>({url:t,blobUrl:""}))))},{manual:!0,onSuccess:t=>{var l;null===(l=t)||void 0===l||l.forEach(t=>{Y[t.url]=t.blobUrl}),B({...Y})}}),eu=(0,p.useCallback)(async t=>{if(ec(t.map(t=>{var l,o;return(null===(o=t)||void 0===o?void 0:null===(l=o.fileInfo)||void 0===l?void 0:l.url)||""})),console.log("data",t),t&&t.length>0){var l,n,c;if((null===(l=t[0])||void 0===l?void 0:l.uploadProcess)==="verifyFailed")S({}),B({}),E({details:[],hideGenerateInfo:0,remark:""});else{let l=null===(c=t[0])||void 0===c?void 0:null===(n=c.fileInfo)||void 0===n?void 0:n.url;console.log("url++++++++",l),l&&d({videoUrl:l},o,R.current)}}},[ec,Z,R]),{uploadConfig:em,uploadingFileNodes:eg}=(0,tk.k)({maxCount:1,value:L.details,onChange:eu,isSD:!0,isVideo:!0}),ep=async()=>{ef(),G(!0)},ev=()=>{G(!1),eo([]),X(H)},eh=t=>{es(t)},ef=async()=>{ed(!0);let t=new Set(ea.map(t=>t.imageUrl)),l={pageNo:$,pageSize:et};(H===c.ComfyUI||6===H)&&(l.fromTime="2024-01-01 00:00:00",l.toTime=(0,i5.oi)());let o={1:()=>O.BP.getVideoHistory(l),3:()=>O.BP.getComfyVideoHistory(l),4:()=>O.BP.getAiVideoHistory(l),6:()=>O.p1.getEditorVideoHistory(l)};try{var n;let l=await o[H](),{list:d=[],total:u=0}=(null===(n=l)||void 0===n?void 0:n.data)||l||{};if(d){let l=d.map(l=>{let o={...l};return H!==c.WebUI&&(o.ossId=l.videoUrl),6===H&&(o.imageUrl=l.coverPathUrl),(4===H||3===H)&&(o.url=o.imageUrl,o.imageUrl=o.videoUrl),o.selected=t.has(l.imageUrl),o.type=H,o});J(l),q(u),ed(!1)}}catch(t){console.error(t,"图库获取失败")}finally{ed(!1)}},eM=()=>{if(ea.length){let t=ea.map(t=>(t.url=t.ossId,"https://model-ai-test.liblib.cloud/sd-videos/video_review_2.png"===t.imageUrl)?{fileInfo:t,uploadProcess:tQ.X6.IMAGE_VERIFY_FAILED}:{fileInfo:t,uploadProcess:tQ.X6.IMAGE_UPLOAD_FINISH});console.log("newImg",t),eu([...t]),eo([]),G(!1),X(H)}};(0,p.useEffect)(()=>{ej(en)},[en]),(0,p.useEffect)(()=>{ef()},[H,$,et]);let ej=t=>{if(!t)return;let l=[...V].reduce((t,l)=>(t.find(t=>t.ossId===l.ossId)||l.type&&l.type!==H||t.push(l),t),[]);J(l.map(l=>{if(l.ossId===t.ossId){var o,n;let d=ea.findIndex(l=>l.ossId===t.ossId);return -1!==d?ea.splice(d,1):ea.push(t),{...l,selected:null===(o=l)||void 0===o||!o.selected||!(null===(n=l)||void 0===n?void 0:n.selected)}}return l}))};return(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"my-[8px]",children:(0,u.jsx)("span",{className:"text-xs text-[#7f7f7f] leading-[14px]",children:l})}),(0,u.jsxs)("div",{className:"relative group flex flex-col items-center justify-center h-[188px] rounded overflow-hidden ".concat(tz().textarea),children:[n?(0,u.jsx)("video",{preload:"none",disablePictureInPicture:!0,src:ek(n),autoPlay:!0,muted:!0,loop:!0,className:"w-full h-[186px] object-contain"}):null,n?(0,u.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/70 rounded opacity-0 group-hover:opacity-100",children:[(0,u.jsx)("button",{"data-trigger-window":"mask-editor",className:"z-2 w-[72px] mr-[8px] h-[34px] bg-white/5 border border-white/50 hover:bg-white/10 hover:border-white/80 rounded text-xs text-white",onClick:ep,children:"图库上传"}),(0,u.jsx)(tS.G,{className:"".concat(tz().uploadBox),uploadConfig:em,onRef:t=>{z(t)},children:(0,u.jsx)("button",{"data-trigger-window":"mask-editor",className:"z-2 w-[72px] h-[34px] bg-white/5 border border-white/50 hover:bg-white/10 hover:border-white/80 rounded text-xs text-white",children:"上传视频"})}),eg]}):null,(0,u.jsx)(tE.Z,{loading:er,tabNum:H,handleTab:t=>{X(t),ee(1)},changeTotal:(t,l)=>{ee(t),ei(l)},options:["视频生成器","WebUI","ComfyUI","AI应用"],addImg:()=>eM(),locImgPage:$,localImgData:V,total:K,checkLength:ea.length,maxLength:1,visible:F,onClose:()=>ev(),handleSelect:t=>eh(t),title:"从图库选择视频上传",type:"video"})]})]})}),i6={checkpoint:tA,image:tB,text:i4,textarea:i2,lora:tP,number:iH,select:i$,video:i8,switch:i0,COLOR:t_,mask:iJ},i7=t=>i6[t]||i3,i9=p.memo(t=>{var l,o;let{node:n,workflow:d,onChange:c,isDark:v}=t,{setDataJson:h,dataJson:M}=(0,Q.AiInFo)(),N=(0,p.useRef)(n),I=(0,p.useRef)(M);(0,p.useEffect)(()=>{N.current=n,I.current=M},[n,M]);let w=(t,l,o)=>{var n;let d=N.current,c=I.current;if(!c)return;let u={inputs:(null===(n=c.inputs)||void 0===n?void 0:n.map(o=>o.id===d.id?{...o,params:o.params.map(o=>o.name===l?{...o,defaultValue:t}:o)}:o))||[],outputs:c.outputs};h(te()(u))};return(0,u.jsxs)("div",{className:"".concat(H().ndWrap),style:{borderColor:v?"rgb(2, 2, 5)":"#efefef"},children:[(0,u.jsx)("div",{className:H().ndhead,children:(0,u.jsx)("span",{className:"".concat(v?"text-[#fff]":"text-[#2d2d2d]"," font-bold text-xs"),children:n.title})}),(0,u.jsx)("div",{className:H().ndcontent,children:null===(o=N)||void 0===o?void 0:null===(l=o.current)||void 0===l?void 0:l.fields.map((t,l)=>{let o=i7(t.type);return(0,u.jsx)(o,{...t,isDark:v,node:n,onChange:w},l)})})]})});var ae=o(83482),at=o.n(ae),ai=o(9997),aa=o(28316),al=o(12341);let ao=p.memo(t=>{let{className:l,width:o,height:n,title:d,name:c,exclusive:v,positionSetter:M,disableHeader:N=!1,handleCustomClose:I,children:w,windowId:A}=t,D=(0,p.useRef)(null),[T,z]=(0,p.useState)(null),C=(0,p.useCallback)(()=>{t2({exclusiveWindow:A||null})},[c,v]),S=(0,p.useCallback)(t=>{var l,o,n,d;if(T){if(I)return null===(d=I)||void 0===d?void 0:d(t);if((null===(l=D.current)||void 0===l?void 0:l.contains(t.target))||(null===(o=t.target)||void 0===o?void 0:o.closest('[data-trigger-window="'.concat(c,'"]')))||(null===(n=t.target)||void 0===n?void 0:n.closest(".mantine-Popover-dropdown")))return;C()}},[T,c,C,I]);return((0,ai.Z)("click",S),(0,p.useEffect)(()=>{setTimeout(()=>{M?z(M()):o&&n?z({x:(window.innerWidth-o)/2,y:(window.innerHeight-n)/2}):z({x:10,y:10})},0)},[o,n,M]),T)?(0,aa.createPortal)((0,u.jsx)(al.s,{default:T,scale:1,className:"z-[100]",dragHandleClassName:"sub-drag-handle",children:(0,u.jsxs)("div",{ref:D,className:"".concat(l," flex flex-col items-stretch ").concat(ij().windowBg," shadow-light rounded-[8px]"),children:[!N&&(0,u.jsxs)("header",{className:"sub-drag-handle flex items-center ".concat(ij().windowBg," justify-between h-11 px-4 cursor-move rounded-[8px]"),children:[(0,u.jsx)("span",{className:"text-sm  font-semibold",children:d}),(0,u.jsx)("button",{onClick:C,children:(0,u.jsx)(h.J,{fontSize:16,className:"icon-border_close-1"})})]}),w]})}),document.body):null}),an=520,as=372,ar={...iU,tool:"mainSelect"},ac={noSegment:!0,showToolbar:!0,noFeathering:!0,noInvert:!0},au=p.memo(t=>{var l;let{data:o}=t,n=null===(l=o.sourceImage)||void 0===l?void 0:l.url,[d,c]=(0,p.useState)(null),[v,h]=(0,p.useState)(!1),[M,N]=(0,p.useState)("segment"),[I,w,A]=iQ(ar);return((0,p.useEffect)(()=>{if(!n)return;let t=new globalThis.Image;t.src=n,t.crossOrigin="anonymous",t.onload=()=>{let{width:l,height:o}=t,d=Math.min(an/l,as/o),u=l*d,p=o*d,v=u/l,h=p/o,M=(an-u)/2,N=(as-p)/2;c({x:M,y:N,scaleX:v,scaleY:h,width:l,height:o,image:t,url:n})}},[n]),(0,p.useEffect)(()=>{if(I.value.selections){var t;null===(t=t3("workflowMaskUpdateCallback"))||void 0===t||t(I.value.selections),I.value.selections.length>0&&t2({shapesCache:I.value.selections})}},[I.value.selections]),d)?(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"relative flex-1 ".concat(tz().maskbg," rounded-b-lg"),children:[(0,u.jsx)(tR.Hf,{width:an,height:as,draggable:!1,children:(0,u.jsx)(tR.mh,{children:(0,u.jsx)(tR.Ee,{listening:!1,fill:"#b3dbd830",...d})})}),(0,u.jsx)("div",{className:"absolute top-0 right-0 w-[".concat(an,"px] h-[").concat(as,"px]"),children:(0,u.jsx)(iB,{config:ac,element:d,editorState:I,setEditorState:w,getEditorState:A,isShapeCache:!0,className:"",stageClassName:"flex items-center justify-center",inputCanvasScale:Math.min(an/d.width,as/d.height)})}),v&&"segment"===M&&(0,u.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/70",children:(0,u.jsx)("span",{className:"text-xs text-white",children:"自动分割中"})})]})}):(0,u.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,u.jsxs)("div",{className:"flex flex-col items-center justify-center flex-1 ".concat(tz().maskbg),children:[(0,u.jsx)(tG.a,{size:16}),(0,u.jsx)("div",{className:"mt-3 text-xs text-[#2d2d2d]",children:"正在加载蒙版编辑器"})]}),(0,u.jsxs)("div",{className:"flex items-center justify-center h-14 px-3 text-caption-500 text-xs",children:[(0,u.jsx)("div",{className:"flex items-center justify-center w-5 h-5 mr-[14px] ".concat(tz().maskbg," rounded-sm")}),(0,u.jsx)("div",{className:"flex items-center justify-center w-5 h-5 mr-[14px] ".concat(tz().maskbg," rounded-sm")}),(0,u.jsx)("div",{className:"flex items-center justify-center w-5 h-5 mr-[14px] ".concat(tz().maskbg," rounded-sm")}),(0,u.jsx)("div",{className:"flex items-center justify-center w-5 h-5 mr-[14px] b".concat(tz().maskbg," rounded-sm")}),(0,u.jsx)("div",{className:"flex items-center justify-center w-5 h-5 ".concat(tz().maskbg," rounded-sm")}),(0,u.jsx)("div",{className:"h-5 mx-3 border-l border-[#f4f5f7]"}),(0,u.jsx)("div",{className:"flex items-center justify-center w-5 h-5 ".concat(tz().maskbg," rounded-sm")}),(0,u.jsx)("div",{className:"flex items-center justify-center w-5 h-5 ml-3 ".concat(tz().maskbg," rounded-sm")}),(0,u.jsx)("div",{className:"flex items-center justify-center w-5 h-5 ml-3 ".concat(tz().maskbg," rounded-sm")})]})]})}),am=p.memo(()=>{var t;let l=(0,p.useCallback)(()=>{let t=document.getElementById("right-panels-wrapper");return{x:t.getBoundingClientRect().x+300,y:58}},[]),o=t4("workflowMaskEditorData");return(null===(t=o)||void 0===t?void 0:t.sourceImage)?(0,u.jsx)(ao,{title:"绘制蒙版",name:"mask-editor",className:"w-[520px] h-[472px]",positionSetter:l,children:(0,u.jsx)(au,{data:o})}):null}),ag=t=>{var l,o,n;let{node:d,isDark:c,spinning:h,drawImg:M,sendData:N,setTaskQueuePriority:w,queuePriority:A}=t;(0,v.useRouter)();let{apiName:D,power:T,uuid:z,modelInfo:C,sourcePower:k,modelDetail:L,trialsNumber:E,isTourOpen:U,isShowBtn:O,isAiToolboxOpen:Z}=(0,Q.AiInFo)(),J=(0,p.useCallback)(t=>{},[d]),X=t4("exclusiveWindow"),K="mask-editor"===X,[q,$]=(0,p.useState)(!1),[ee,et]=(0,p.useState)(!1),{vipInfo:ei}=(0,Q.vipInfoStore)(),ea=(0,S.T)(),[eo,en]=(0,p.useState)(!1);(0,p.useEffect)(()=>{0===Z&&(en(U),U&&localStorage.setItem("isTourOpen",!0))},[U,Z]);let es=(0,p.useRef)(null),er=[{title:"点击这里探索更多AI功能",description:"点击这里，与AI应用相关的一切都可以找到！",target:()=>es.current,nextButtonProps:{children:"知道了",onClick:()=>en(!1)}}],{trialLabel:ed,hoverTipNode:ec}=(0,V.h)(E,(null===(l=L)||void 0===l?void 0:l.vipUsed)||0),eu=t=>{},em=(0,p.useCallback)(()=>{ea({e:"svd.aitoo.entry.click"}),$(!0)},[]),eg=()=>{w(!ee)};return(0,p.useEffect)(()=>{1===A?et(!1):et(!0)},[ei,A]),(0,u.jsxs)("div",{className:H().modelFileCard,children:[(0,u.jsxs)("div",{className:H().head,style:{borderColor:c?"rgba(28, 29, 41, 1)":"#ECEDF5"},children:[(null===(o=L)||void 0===o?void 0:o.vipUsed)===1&&G.l,(0,u.jsx)("span",{className:H().apiName,onClick:()=>{var t;null===(t=window)||void 0===t||t.open("/modelinfo/".concat(C,"?versionUuid=").concat(z),"_blank")},children:D}),O&&(0,u.jsxs)("span",{className:H().toolWrap,ref:es,onClick:()=>em(),children:[(0,u.jsx)("img",{src:at()}),"AI应用"]})]}),(0,u.jsx)(R.Z,{open:eo,onClose:()=>en(!1),mask:!1,type:"primary",steps:er,placement:"rightTop"}),(0,u.jsx)("div",{className:"flex-1 overflow-auto tiny-scrollbar",id:"right-panels-wrapper",children:null===(n=d)||void 0===n?void 0:n.nodes.map((t,l)=>(0,u.jsx)(i9,{node:t,isDark:c,onChange:J},l))}),(0,u.jsxs)("div",{className:H().rawImgWrap,children:[(0,u.jsx)("div",{className:"flex items-center gap-[6px]",children:(0,u.jsx)(B.u,{position:"top",withArrow:!0,label:(0,u.jsxs)("div",{className:"flex items-center text-xs",children:[(0,u.jsx)("img",{className:"mr-1 h-[14px]",src:F(),alt:"加速"}),"会员加速"]}),children:(0,u.jsx)("div",{children:(0,u.jsx)(P.r,{className:"member-acceleration  ".concat(ee?"switchChecked":""),thumbIcon:(0,u.jsx)("div",{className:"h-component-xs text-member-deep",children:(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"17",height:"18",viewBox:"0 0 17 18",fill:"none",children:[(0,u.jsx)("path",{fillÅRule:"evenodd",clipRule:"evenodd",d:"M15.9774 1.1313C15.9707 1.09885 15.9558 1.07076 15.9327 1.04701C15.9097 1.02327 15.8821 1.0076 15.8499 1C13.7496 0.484864 8.89786 2.32037 6.26651 4.95725C6.03202 5.19046 5.80808 5.43345 5.59467 5.6862C5.38127 5.93895 5.1792 6.20052 4.98849 6.47089C4.17741 6.3973 3.36634 6.45927 2.67577 6.76138C0.725717 7.62123 0.158352 9.86692 0 10.831C-0.0183915 10.9442 0.0116419 11.0426 0.0901002 11.1261C0.168559 11.2096 0.264692 11.2455 0.378501 11.2338L3.50963 10.8891C3.51071 11.0075 3.5148 11.1258 3.52188 11.244C3.52897 11.3622 3.53905 11.4802 3.55211 11.5978C3.56029 11.6792 3.58195 11.7568 3.6171 11.8305C3.65226 11.9043 3.69883 11.9699 3.75681 12.0274L4.96918 13.2432C5.02654 13.3014 5.09203 13.3481 5.16566 13.3834C5.23929 13.4186 5.3167 13.4403 5.39789 13.4485C5.51454 13.4615 5.63145 13.4716 5.74862 13.4787C5.86579 13.4858 5.98306 13.4899 6.10043 13.4911L5.75708 16.6284C5.74559 16.7423 5.78141 16.8386 5.86454 16.9171C5.94767 16.9957 6.04561 17.0258 6.15836 17.0075C7.12007 16.8526 9.36403 16.2836 10.2164 14.3285C10.5177 13.6352 10.5795 12.826 10.51 12.0165C10.7804 11.8255 11.042 11.6229 11.2947 11.4089C11.5475 11.1949 11.7904 10.9702 12.0236 10.7349C14.6646 8.10112 16.4833 3.34251 15.9774 1.1313Z",fill:"url(#paint0_linear_4234_96121)"}),(0,u.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.67653 7.32344C9.35445 7.00053 9.19339 6.61071 9.19336 6.15398C9.19332 5.69726 9.35432 5.30741 9.67635 4.98445C9.99838 4.66148 10.3871 4.5 10.8425 4.5C11.298 4.5 11.6867 4.66148 12.0087 4.98445C12.3308 5.30741 12.4918 5.69726 12.4917 6.15398C12.4917 6.61071 12.3306 7.00053 12.0086 7.32344C11.6868 7.64682 11.2981 7.80852 10.8425 7.80852C10.387 7.80852 9.99831 7.64682 9.67653 7.32344Z",fill:"white"}),(0,u.jsx)("path",{d:"M2.6514 12.5547C2.45889 12.5784 2.27546 12.6328 2.1011 12.718C1.92674 12.8032 1.77094 12.9146 1.6337 13.052C0.953171 13.7368 0.888672 16.273 0.888672 16.273C0.888672 16.273 3.41922 16.2083 4.10014 15.525C4.23774 15.3876 4.34908 15.2314 4.43415 15.0563C4.51922 14.8813 4.57331 14.697 4.59644 14.5037",fill:"#FFB019"}),(0,u.jsx)("defs",{children:(0,u.jsxs)("linearGradient",{id:"paint0_linear_4234_96121",x1:"7.98871",y1:"1",x2:"7.98871",y2:"17.0075",gradientUnits:"userSpaceOnUse",children:[(0,u.jsx)("stop",{"stop-color":"#FFC862"}),(0,u.jsx)("stop",{offset:"1","stop-color":"#FFA700"})]})})]})}),checked:ee,size:"xl",onChange:eg,radius:"md"})})})}),h?(0,u.jsxs)("div",{className:"".concat(H().rawImg," ").concat(H().disableRawImg," "),children:[(0,u.jsx)(I.default,{indicator:(0,u.jsx)(Y.Z,{style:{fontSize:20,color:"#fff"},spin:!0})}),(0,u.jsx)("span",{className:"ml-[10px]",children:"生成中..."})]}):(0,u.jsx)(W.default,{title:ec,children:(0,u.jsxs)("div",{className:H().rawImg,onClick:()=>{M(N)},children:[(0,u.jsx)("span",{children:"一键生成"}),(0,u.jsx)("img",{className:H().lightIcon,src:"https://liblibai-online.liblib.cloud/web/1656e2f1b3c74f1ba823b610f1b2cbdf/2b83a430-931d-4703-80f7-fc5e48c5bfc6.svg",alt:"图标"}),(0,u.jsx)("span",{className:H().power,children:T}),T!==k?(0,u.jsx)("span",{className:H().unpower,children:k}):null,(0,u.jsx)("span",{className:H().LimitedTime,children:ed||"F.1限时4折"})]})})]}),K&&(0,u.jsx)(am,{}),q&&(0,u.jsx)(e7,{visible:q,isDark:c,setVisible:$,data:{current:1},onSelected:eu})]})},ap=t=>{let l=(0,v.useRouter)(),{spinning:o,drawImg:n,setTaskQueuePriority:d,queuePriority:c}=t,[h,M]=(0,p.useState)(""),[N,w]=(0,p.useState)(!1),[A,D]=(0,p.useState)(),[T,z]=(0,p.useState)(),{setName:C,setPower:S,apiName:k,dataJson:L,setDataJson:Y,uuid:B,setUuid:P,setModelInfo:W,setSourcePower:R,setModelDetail:Z,modelDetail:F,setTrialsNumber:G}=(0,Q.AiInFo)(),{colorScheme:V}=(0,E.X)(),J="dark"===V,H=l.query.tongyiLora;return(0,p.useEffect)(()=>{let{tab:t}=l.query;""!==B||t||(P(l.query.uuid||"18d5858e862d474abe93c72b2fb1b8cc"),W(l.query.modelInfo||"2a80cac4d9214378b33b65259c4193d9"))},[]),(0,p.useEffect)(()=>{(async()=>{if(""!==B){w(!0);let M=await (0,U.JJ)(B),N="";if(H&&(N=await (0,U.JJ)(B)),M&&0===M.code){var t,o,n,d,c,u,p,v,h;let I;Z(null===(t=M)||void 0===t?void 0:t.data),C(null===(n=M)||void 0===n?void 0:null===(o=n.data)||void 0===o?void 0:o.name);let A=null===(u=M)||void 0===u?void 0:null===(c=u.data)||void 0===c?void 0:null===(d=c.attachment)||void 0===d?void 0:d.editModel;H&&(A=null===(h=N)||void 0===h?void 0:null===(v=h.data)||void 0===v?void 0:null===(p=v.attachment)||void 0===p?void 0:p.editModel),A||w(!1);let D=await fetch(A).then(t=>t.json()),T=localStorage.getItem("drawAIVideoParams");if(T){let t=JSON.parse(T),l=eZ(t,D.inputs);I={...D,inputs:l},localStorage.removeItem("drawAIVideoParams")}else I=D;try{if(H){l.replace("/lib3?uuid=".concat(l.query.uuid,"&modelInfo=").concat(l.query.modelInfo));try{let t={...I,inputs:I.inputs.map(t=>"WanVideoLoraSelect"===t.name?{...t,params:t.params.map(t=>"lora"===t.id?{...t,defaultValue:H}:t)}:t)};Y(t);return}catch(t){console.log("Error processing workflowPromptData:",t)}}}catch(t){console.log("Error processing workflowPromptData:",t)}Y(I)}}})()},[B]),(0,p.useEffect)(()=>{if(F){var t,l;O.j8.getVersionCount({modelId:null===(t=F)||void 0===t?void 0:t.modelId,modelVersionId:null===(l=F)||void 0===l?void 0:l.versionId}).then(t=>{t.code||G(t.data)}).catch(()=>{})}},[F,o]),(0,p.useEffect)(()=>{(async()=>{if(L&&""!==L){let t=await eR(L),l=(await eW(t,B)).comfyUI_encap.custom_prompt,o={comfyApp:{workFlowUuid:B,prompt:l},generateType:28,source:0};D(t),z(o),w(!1),O.BP.calculatePower(o).then(t=>{var l,o,n,d;S(null===(o=t)||void 0===o?void 0:null===(l=o.data)||void 0===l?void 0:l.power),R(null===(d=t)||void 0===d?void 0:null===(n=d.data)||void 0===n?void 0:n.originalPrice)})}})()},[L]),(0,u.jsx)("div",{children:(0,u.jsx)(I.default,{spinning:N,children:(0,u.jsx)(ag,{node:A,isDark:J,drawImg:n,spinning:o,sendData:T,setTaskQueuePriority:d,queuePriority:c})})})};var ax=ap,av=o(87165),ah=o(80501),af=o(65400),aM=o.n(af),aj=o(62443),aN=o(91633),ab=o(40987),aI=o(81758),ay=o.n(aI),aw=o(79852),aA=o(55622),aD=o(56795),aT=o.n(aD);function az(t,l,o){if(!l)return!1;let{size:n=0,type:d}=l;if(n/1024/1024>10)return D.ZP.error("图片大于10M 不支持上传"),!1;let c=["image/jpg","image/jpeg","image/png"].includes(d);if(!c)return D.ZP.error("只能上传JPG、PNG、GIF格式图片!"),!1;let u=URL.createObjectURL(new Blob([l],{type:d})),p=document.createElement("img");return p.src=u,(0,tQ.$z)(t,l,!0).then(t=>{var l;if(console.log("这个是什么",t),!1===t.isValid){let t="图片违规，请上传其他图片";D.ZP.error(t);return}return null===(l=o)||void 0===l||l(t||""),!1}).catch(()=>{}),!1}let a_=t=>{let{value:l,changeImg:o,img2img:n,onChange:d,onFocus:c,modelType:v,typeAi:M,check:N,setCheck:I,hidden:w}=t,A=t=>{d&&d("prompt",t.target.value)},[D,T]=(0,p.useState)(""),{currentLoginUserInfo:z}=(0,Q.usePersonalInfo)(),[C,S]=(0,p.useState)(!1),k=async()=>{let t=0===l.trim().length;if(t)return ed.N9.show({message:"提示词为空，请输入内容后点击生图"});let o=await O.BP.translate({targetLanguage:"en",sourceLanguage:"zh",sourceText:l});o&&d&&d("prompt",o)};function L(t){var l;S(!0),az((null===(l=z)||void 0===l?void 0:l.uuid)||"",t,async t=>{var l;if(!(null===(l=t)||void 0===l?void 0:l.url)){S(!1);return}T(t.url),o("image",t.file),S(!1)})}let E=()=>{T(""),o("image","")},U=(0,p.useRef)(null);function Y(){var t,l,o;(null===(t=U)||void 0===t?void 0:t.current)&&(null===(o=U)||void 0===o||null===(l=o.current)||void 0===l||l.click())}let B=t=>{let l=n.denoisingStrength;if("add"===t){if(l>=1)return;l=(10*l+2)/10}if("sub"===t){if(l<=0)return;l=(10*l-2)/10}l!==n.denoisingStrength&&o("denoisingStrength",l)},P=t=>{I(t)};return(0,u.jsxs)("div",{className:"".concat(aT().inputBox," ").concat(t.className),children:[(0,u.jsxs)("div",{className:aT().header,children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"text-[#4F4F4F] font-semibold dark:text-white/80 mr-[6px] leading-[17px]",children:"提示词"}),(0,u.jsx)("span",{className:"text-[#999999] dark:text-white/40  font-normal leading-[17px]",children:"Prompt"})]}),1===M?(0,u.jsxs)("div",{children:[1===v?(0,u.jsx)(h.J,{className:"icon-gallery-add  cursor-pointer ".concat(aT().textColor),fontSize:18,onClick:Y}):"",w?"":(0,u.jsx)(h.J,{className:"icon-translate  ml-[12px] cursor-pointer ".concat(aT().textColor),fontSize:18,onClick:k})]}):null]}),(0,u.jsxs)("div",{className:"relative p-[12px] ".concat(1!==M?aT().iptW:null),children:[(0,u.jsx)(aw.g,{value:l,placeholder:w?"描述想生成怎样的图片，或对图片进行怎样的调整，例如：帮我设计一份中文的甜品店菜单":2===M||3===M?"支持中文输入...":"请输入你想画的内容...",minRows:5,maxLength:2e3,autosize:!0,onChange:A,onFocus:c,className:"".concat(aT().inputTextarea," ").concat(2===M?aT().inPd:null)}),1!==M?(0,u.jsx)("div",{className:"absolute bottom-[20px] right-[12px]  w-full h-[40px] pt-[10px] flex pl-[12px] pr-[12px] justify-end rounded-b-lg leading-[28px] ".concat(aT().inputBg),children:(0,u.jsxs)("span",{className:aT().inputCheck,children:[(0,u.jsx)("span",{className:aT().inputCheckTit,children:"提示词优化"}),(0,u.jsx)(ab.Z,{onChange:P,checked:1===N,size:"small"})]})}):null]}),D&&1===v&&(0,u.jsxs)("div",{className:aT().uploadImgBox,children:[(0,u.jsx)(aN.Z,{width:132,height:132,src:D,style:{opacity:n.denoisingStrength+.1,objectFit:"cover"}}),(0,u.jsx)("img",{className:aT().imgDelete,src:ay(),alt:"",onClick:E}),(0,u.jsxs)("div",{className:aT().imgFooter,children:[(0,u.jsx)(h.J,{className:"icon-pronarrow mx-[4px] cursor-pointer",fontSize:18,onClick:()=>{B("sub")}}),(0,u.jsxs)("span",{children:["参考权重: ",n.denoisingStrength]}),(0,u.jsx)(h.J,{className:"icon-proenlarge ml-[4px] cursor-pointer",fontSize:18,onClick:()=>{B("add")}})]})]}),(0,u.jsx)(aA.S,{onChange:L,ref:U,className:"hidden",accept:"image/png,image/jpeg"})]})};var aC=a_,aS=o(84788),ak=o.n(aS),aL=o(46068),aE=o.n(aL);let aU=t=>{let l=[1,2,3,4],[o,n]=(0,p.useState)([]),d=(0,p.useRef)(new Map),[c,v]=(0,p.useState)([]),[M,w]=(0,p.useState)(200),A=(0,p.useRef)(!1),[T,z]=(0,p.useState)(null),[C,S]=(0,ah.Z)({details:[],hideGenerateInfo:0,remark:""}),[k,L]=(0,p.useState)([]),{sdParams:E,onChange:U,drawImg:Q,className:B,spinning:P,showOnceText:W,setModelType:R,modelType:Z,typeAi:F,getParams:G,setGptImg:V}=t,{hideShareImgModal:J,modelUuid:H,imgInfo:X,batchType:K,open:q,defaultModel:$,shareImgs:ee,isGallery:et=!1}=(0,tO.W)(),[ei,ea]=(0,p.useState)(!1),[eo,en]=(0,p.useState)([]),[es,er]=(0,p.useState)(1),[ed,ec]=(0,p.useState)(0),[eu,em]=(0,p.useState)(1),[eg,ep]=(0,p.useState)(10),[ev,eh]=(0,p.useState)([]),[ef,eM]=(0,p.useState)({}),[ej,eN]=(0,p.useState)(!1),[eb,eI]=(0,p.useState)({}),ey=(0,p.useRef)({}),[ew,eA]=(0,p.useState)({}),[eD,eT]=(0,p.useState)(!1),[ez,e_]=(0,p.useState)(-1),eC=(0,p.useRef)(ez),eS=(0,p.useRef)(C),[ek,eL]=(0,p.useState)(!1),eE=["WebUI","ComfyUI","图片生成器","AI应用"],eU=t=>{O.BP.getImgRatio({apiKey:t}).then(l=>{var o;(null===(o=l)||void 0===o?void 0:o.length)&&(d.current.set(t,l),t===Z&&(n(l),U("aspectRatio",Number(l[0].key))))})};(0,p.useEffect)(()=>{eC.current=ez,eS.current=C},[ez,C]),(0,p.useEffect)(()=>{O.BP.getLib3Models().then(t=>{var l;(null===(l=t)||void 0===l?void 0:l.length)&&L(t)})},[]),(0,p.useEffect)(()=>{if(k.length>0){let t=new Set,l=[];k.forEach(o=>{t.add(o.apiKey),(2===o.key||5===o.key||6===o.key||7===o.key||8===o.key||9===o.key)&&l.push(o)}),v(l),t.forEach(t=>eU(t));let o=l[l.length-1];U("model",o.key),R(o.apiKey)}},[k,F]),(0,p.useEffect)(()=>{A.current=!0,O.BP.getPower(G()).then(t=>{var l;A.current=!1,w(null===(l=t)||void 0===l?void 0:l.power)})},[E,F]);let{run:eO}=(0,tC.Z)(t=>{var l;return t&&Promise.all(null===(l=t)||void 0===l?void 0:l.filter(t=>{var l;return t&&!(null===(l=ew)||void 0===l?void 0:l[t])}).map(t=>(0,tU.Rn)(t).then(l=>{let o=window.URL.createObjectURL(l.data);return ey.current={...ey.current,[t]:o},eA({...ey.current}),{url:t,blobUrl:o}}).catch(()=>({url:t,blobUrl:""}))))},{manual:!0,onSuccess:t=>{var l;null===(l=t)||void 0===l||l.forEach(t=>{ew[t.url]=t.blobUrl}),eA({...ew})}}),eQ=(0,p.useCallback)(t=>{eT(!0),eO(t.map(t=>{var l,o;return(null===(o=t)||void 0===o?void 0:null===(l=o.fileInfo)||void 0===l?void 0:l.url)||""}));let l={};if(t&&t.length>0){var o,n,d;if((null===(o=t[0])||void 0===o?void 0:o.uploadProcess)==="verifyFailed")eI({}),eA({}),S({details:[],hideGenerateInfo:0,remark:""}),D.ZP.error("图片内容不符合平台要求");else if(null===(d=t[0])||void 0===d?void 0:null===(n=d.fileInfo)||void 0===n?void 0:n.url){let o;-1!=eC.current?(o=eS.current.details)[eC.current]=t[0]:o=t.map(t=>{var o,n,d,c,u,p,v,h;let M=t.fileInfo,N=[],I=[];if(M){let t=M.url;t&&(l[t]=M.generateInfo),N=(null===(d=M)||void 0===d?void 0:d.models)||(null===(u=M)||void 0===u?void 0:null===(c=u.generateInfo)||void 0===c?void 0:c.model)||[],I=(null===(p=M)||void 0===p?void 0:p.mixModels)||[];let o=null===(h=$)||void 0===h?void 0:null===(v=h[0])||void 0===v?void 0:v.id;o&&[N,I].forEach(t=>{if(!t.find(t=>+t.modelId==+o)){let{id:l,name:o,versionId:n,versionName:d}=$[0];t.push({modelName:o,modelId:l,versionName:d,versionId:n})}})}return(null===(o=I)||void 0===o?void 0:o.length)>0||(null===(n=N)||void 0===n?void 0:n.length)>0?{...t,fileInfo:{...M,models:N,mixModels:I}}:t}),eT(!1),S({details:o.slice(0,5)}),eI({...eb,...l})}}},[eO,$]),{uploadConfig:eY,uploadingFileNodes:eB}=(0,tk.k)({maxCount:1,value:C.details,onChange:eQ}),eP=async()=>{eZ(),ea(!0)},eW=()=>{ea(!1),eh([]),er(1)},eR=t=>{eM(t)},eZ=async()=>{eN(!0);let t=new Set(ev.map(t=>t.imageUrl)),l=null;if(5===es){let t=new Date().getFullYear()+1;l=await O.p1.getEditorImgHistory({pageNo:eu,pageSize:eg,fromTime:"2025-07-01 00:00:00",toTime:"".concat(t,"-01-01 00:00:00")})}else l=await O.BP.getImgHistory({pageNo:eu,pageSize:eg,imageSource:es});let{list:o,total:n}=l.data||{};o&&(en(o.map(l=>{let o={...l};return 5===es&&(o.imageUrl=eV(o.imageUrl)),o.selected=t.has(l.imageUrl),o})),ec(n),eN(!1))},eF=()=>{if(ev.length){var t;eO(null===(t=ev)||void 0===t?void 0:t.map(t=>t.imageUrl));let l=ev.map(t=>{var l,o;let n=t.imageUrl,d={...t,uid:n,url:n,outputId:t.outputId||0,generateInfo:{...t.generateInfo,mixModel:(0,tL.fq)(t.mixModel)},width:t.width,height:t.height,imageUrl:t.imageUrl,mixModel:(0,tL.fq)(t.mixModel),mixModels:t.mixModels,models:t.models||(null===(o=t)||void 0===o?void 0:null===(l=o.generateInfo)||void 0===l?void 0:l.models),originalName:t.originalName,contentId:t.contentId};return{fileInfo:d,uploadProcess:tQ.X6.IMAGE_UPLOAD_FINISH}});eQ([...l,...C.details]),eh([]),ea(!1),er(1)}else D.ZP.info("请选择上传图片")};(0,p.useEffect)(()=>{en(eo.map(t=>{if(t.imageUrl===ef.imageUrl){var l,o;let n=ev.findIndex(t=>t.imageUrl===ef.imageUrl);return -1!==n?ev.splice(n,1):ev.push(ef),{...t,selected:null===(l=t)||void 0===l||!l.selected||!(null===(o=t)||void 0===o?void 0:o.selected)}}return t}))},[ef]),(0,p.useEffect)(()=>{eZ()},[es,eu,eg]);let eG=(0,p.useCallback)(t=>{eY.loading||S(l=>{let o=l.details.filter((l,o)=>o!==t);return eI({}),eA({}),{...l,details:o}})},[C,eY.loading,eb]),eV=t=>{if(!t)return t;try{let l=new URL(t);return l.searchParams.delete("Token"),l.toString()}catch(l){return t.split("?Token=")[0].split("&Token=")[0]}},eJ=t=>(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:ak().gptBtnWrap,onClick:l=>{eL(!1),e_(t),l.preventDefault(),l.stopPropagation(),eP()},children:(0,u.jsx)(aM(),{className:ak().gptImgBtn,children:"图库上传"})}),(0,u.jsx)(tS.G,{className:"".concat(ak().gptuploadBox),uploadConfig:eY,onRef:t=>{z(t)},children:(0,u.jsx)(aM(),{className:ak().gptImgBtn,onClick:()=>{eL(!1),e_(t)},children:"本地上传"})})]});(0,p.useEffect)(()=>{let t=[];C.details.length>0&&C.details.map(l=>{var o,n;t.push(null===(n=l)||void 0===n?void 0:null===(o=n.fileInfo)||void 0===o?void 0:o.imageUrl)}),V(t)},[C]);let eH=t=>{eL(t)},eX=t=>"".concat(t,"?image_process=format,webp&x-oss-process=image/resize,w_",200,",m_lfit/format,webp");return(0,u.jsxs)("div",{className:"".concat(B," ").concat(ak().froms," px-[16px]"),children:[(0,u.jsxs)("div",{className:ak().fromRow,children:[(0,u.jsx)("div",{className:ak().fromLable,children:"模型类型"}),(0,u.jsx)("div",{className:ak().fromSelect,children:(0,u.jsx)(N.default,{options:c,value:E.model,suffixIcon:(0,u.jsx)(h.J,{fontSize:14,className:"icon-Chevron_Down ".concat(ak().selectIcon)}),className:"flex-1",fieldNames:{label:"value",value:"key"},onChange:(t,l)=>{if(U("model",t),l.apiKey!==Z){var o;R(l.apiKey);let t=d.current.get(l.apiKey);(null===(o=t)||void 0===o?void 0:o.length)&&n(t)}}})})]}),7===E.model||8===E.model||9===E.model?(0,u.jsx)("div",{className:ak().fromRow,children:(0,u.jsx)(aC,{className:ak().inputleft,value:E.prompt,modelType:Z,hidden:!0,typeAi:F,onChange:(t,l)=>{U({...E,[t]:l})}})}):null,7===E.model||8===E.model||9===E.model?(0,u.jsxs)("div",{className:ak().fromRow,children:[(0,u.jsx)("div",{className:ak().fromLable,children:"图片参考（可选）"}),(0,u.jsxs)("div",{className:"relative",children:[eD&&(0,u.jsx)("div",{className:ak().uploadModbg,children:(0,u.jsx)(I.default,{spinning:eD,indicator:(0,u.jsx)(Y.Z,{style:{fontSize:20},spin:!0})})}),eB,(0,u.jsxs)("div",{className:ak().gptImgWrap,children:[5===C.details.length?null:(0,u.jsx)(aj.default,{content:eJ(-1),trigger:"click",overlayClassName:ak().popWrap,open:ek,onOpenChange:eH,children:(0,u.jsx)("div",{className:ak().uploadimg,children:(0,u.jsx)(h.J,{fontSize:20,className:"icon-gallery-add"})})}),C.details.length>0?null:(0,u.jsx)("div",{className:ak().gptTip,children:"上传图片，支持通过提示词进行图像编辑"}),C.details.length>0?(0,u.jsx)("div",{className:ak().gptImgWr,children:C.details.map((t,l)=>{var o,n;return(0,u.jsxs)("div",{className:"relative ".concat(ak().gptImgContWrap),children:[(0,u.jsx)("div",{className:ak().gptdeleteIcon,onClick:()=>{eG(l)},children:(0,u.jsx)("img",{src:aE()})}),(0,u.jsx)(aj.default,{content:eJ(l),trigger:"click",overlayClassName:ak().popWrap,children:(0,u.jsx)("div",{className:"".concat(ak().changeImg),children:(0,u.jsx)(h.J,{className:"icon-border_change",fontSize:14})})}),(0,u.jsx)("img",{className:ak().gptImg,src:eX(null===(n=t)||void 0===n?void 0:null===(o=n.fileInfo)||void 0===o?void 0:o.imageUrl)})]},l)})}):null]})]})]}):null,7===E.model||8===E.model||9===E.model?(0,u.jsxs)("div",{className:ak().fromRow,children:[(0,u.jsx)("div",{className:ak().fromLable,children:"图片尺寸"}),(0,u.jsx)("div",{className:ak().fromSelect,children:(0,u.jsx)(N.default,{options:o,value:E.aspectRatio,suffixIcon:(0,u.jsx)(h.J,{fontSize:14,className:"icon-Chevron_Down ".concat(ak().selectIcon)}),className:"flex-1",fieldNames:{label:"descCn",value:"key"},onChange:t=>{U("aspectRatio",Number(t))}})})]}):null,7!==E.model&&8!==E.model&&9!==E.model?(0,u.jsxs)("div",{className:ak().fromRow,children:[(0,u.jsx)("div",{className:ak().fromLable,children:"图片比例"}),(0,u.jsx)("div",{className:ak().fromSelect,children:(0,u.jsx)(N.default,{options:o,value:E.aspectRatio,suffixIcon:(0,u.jsx)(h.J,{fontSize:14,className:"icon-Chevron_Down ".concat(ak().selectIcon)}),className:"flex-1",fieldNames:{label:"descCn",value:"key"},onChange:t=>{U("aspectRatio",Number(t))}})})]}):null,(0,u.jsxs)("div",{className:ak().fromRow,children:[(0,u.jsx)("div",{className:ak().fromLable,children:"图像质量"}),(0,u.jsx)("div",{className:ak().fromSelect,children:(0,u.jsx)(N.default,{options:[{label:"极速",value:"low"},{label:"标准",value:"medium"},{label:"超清",value:"high"}],value:E.quality,suffixIcon:(0,u.jsx)(h.J,{fontSize:14,className:"icon-Chevron_Down ".concat(ak().selectIcon)}),className:"flex-1",onChange:t=>{U("quality",t)}})})]}),(0,u.jsxs)("div",{className:ak().fromRow,children:[(0,u.jsx)("div",{className:ak().fromLable,children:"图片张数"}),(0,u.jsx)("div",{className:ak().fromSelect,children:(0,u.jsx)(N.default,{options:l.map(t=>({label:t,value:t})),suffixIcon:(0,u.jsx)(h.J,{fontSize:14,className:"icon-Chevron_Down ".concat(ak().selectIcon)}),value:E.batchSize,onChange:t=>{U("batchSize",t)},className:"flex-1"})})]}),7!==E.model&&8!==E.model&&9!==E.model?(0,u.jsxs)("div",{className:ak().fromRow,children:[(0,u.jsx)("div",{className:ak().fromLable,children:"随机种子"}),(0,u.jsx)("div",{className:ak().fromSelect,children:(0,u.jsx)(av.Y,{className:"flex-1",value:E.seed,onChange:t=>{U("seed",t)},min:1,max:4294967294,styles:{input:{border:"var(--sd-border-primary)",background:"var(--sd-background-primary)"}},rightSection:(0,u.jsx)(h.J,{className:"icon-proapply",fontSize:14,onClick:()=>{U("seed",-1)}})})})]}):null,7!==E.model&&8!==E.model&&9!==E.model?(0,u.jsx)(aC,{className:ak().inputleft,value:E.prompt,modelType:Z,typeAi:F,onChange:(t,l)=>{U({...E,[t]:l})}}):null,(0,u.jsx)(tE.Z,{loading:ej,tabNum:es,handleTab:t=>{er(t),em(1)},changeTotal:(t,l)=>{em(t),ep(l)},options:eE,addImg:()=>eF(),locImgPage:eu,localImgData:eo,total:ed,checkLength:ev.length,maxLength:5-eS.current.details.length,visible:ei,onClose:()=>eW(),handleSelect:(t,l,o)=>eR(t,l,o),title:"建议从图库选择图片上传"}),P?(0,u.jsxs)("div",{className:"".concat(ak().rawImg," ").concat(ak().rawImgWrap,"  ").concat(ak().disableRawImg," "),children:[(0,u.jsx)(I.default,{indicator:(0,u.jsx)(Y.Z,{style:{fontSize:20,color:"#fff"},spin:!0})}),(0,u.jsx)("span",{className:"ml-[10px]",children:"生成中..."})]}):(0,u.jsx)("div",{className:ak().rawImgWrap,children:(0,u.jsxs)("div",{className:ak().rawImg,onClick:()=>{Q(null)},children:[(0,u.jsx)("span",{children:"一键生成"}),(0,u.jsx)("img",{className:ak().lightIcon,src:"https://liblibai-online.liblib.cloud/web/1656e2f1b3c74f1ba823b610f1b2cbdf/2b83a430-931d-4703-80f7-fc5e48c5bfc6.svg",alt:"图标"}),(0,u.jsx)("span",{className:ak().power,children:M}),7===E.model||8===E.model||9===E.model?(0,u.jsx)("span",{className:ak().LimitedTime,children:"限时优惠"}):null]})}),W&&(0,u.jsxs)("h3",{className:"text-xs text-center text-[#999999] dark:text-white/40  font-normal leading-[24px]",children:[(0,u.jsx)(h.J,{className:"icon-clarification mr-[4px]",fontSize:14}),"非会员用户每日可使用1次，会员用户不限次数"]})]})};var aO=aU,aQ=o(12181),aY=o.n(aQ);let aB=t=>{var l;let{taskQueuePriority:o,vipSpeedup:n,loadingData:d}=t,{colorScheme:c}=(0,E.X)(),p="dark"===c;return(0,u.jsxs)("div",{className:aY().imgWrap,children:[(0,u.jsx)("ul",{className:aY().imgRow,children:Array.from({length:null===(l=d)||void 0===l?void 0:l.batchSize},(t,l)=>{var o,n,c,p,v,h;return(0,u.jsxs)("li",{className:"group ".concat(aY().imageList," ").concat(aY().imgF2),children:[0===l?(null===(o=d)||void 0===o?void 0:o.queueStatus)===1?(0,u.jsxs)("div",{className:aY().loadingInfo,children:["number"==typeof(null===(n=d)||void 0===n?void 0:n.percentCompleted)?(null===(c=d)||void 0===c?void 0:c.percentCompleted)+"%":"","生成中..."]}):(null===(p=d)||void 0===p?void 0:p.queueNum)?(0,u.jsxs)("div",{className:aY().loadingInfo,children:["第",null===(v=d)||void 0===v?void 0:v.queueNum,"位 / 共",null===(h=d)||void 0===h?void 0:h.totalQueueNum,"位 排队中..."]}):(0,u.jsx)("div",{className:aY().loadingInfo,children:"正在加载资源"}):null,(0,u.jsx)("div",{className:aY().tagWrapper,children:"等待中......"})]},l)})}),d?(0,u.jsx)("div",{className:aY().action,children:(0,u.jsxs)("span",{className:"".concat(aY().actionSpan," ").concat(aY().blackBg),onClick:()=>{n()},children:[p?(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",children:(0,u.jsx)("path",{d:"M8.46168 9.22526C8.46177 9.22534 8.46191 9.22528 8.4619 9.22516L8.44843 8.85559C8.44682 8.81142 8.46538 8.76891 8.49887 8.74006L8.77938 8.49846C10.9026 6.6678 11.7857 4.46705 11.5469 2.61145C11.5359 2.52603 11.469 2.45906 11.3836 2.44791C9.51202 2.20351 7.29343 3.08004 5.46862 5.20281L5.24766 5.45994C5.2086 5.50539 5.15123 5.53093 5.09132 5.52954L4.75213 5.52166C4.20208 5.50888 3.72278 5.61597 3.25718 5.87174C3.13259 5.94018 3.13239 6.11366 3.25046 6.19282L4.88673 7.28979C4.97304 7.34766 5.00066 7.46197 4.95029 7.55286L4.63165 8.12785C4.53361 8.30468 4.62569 8.70049 4.94408 9.0175C5.26201 9.33452 5.66789 9.4298 5.83877 9.33818L6.4125 9.02947C6.50331 8.98061 6.61638 9.0088 6.67362 9.09458L7.78066 10.7535C7.85897 10.8708 8.03091 10.8721 8.10091 10.7496C8.37372 10.2722 8.4821 9.78734 8.46147 9.22535C8.46146 9.22524 8.4616 9.22517 8.46168 9.22526ZM12.1813 1.67261C12.2502 1.69025 12.3049 1.74434 12.3224 1.81325C12.828 3.7103 12.3201 6.61415 9.45043 9.12843C9.40474 9.16846 9.37878 9.22746 9.37972 9.2882C9.39748 10.4388 8.97038 11.3694 8.01022 12.326C7.92243 12.4133 7.77675 12.3987 7.70803 12.2957L6.37406 10.2963C6.3168 10.2105 6.20399 10.1841 6.10633 10.2174C5.56427 10.4019 4.8324 10.1997 4.29723 9.66665C3.76049 9.13199 3.55824 8.40159 3.75459 7.85168C3.78951 7.75386 3.76368 7.63996 3.67741 7.58212L1.69803 6.25501C1.59558 6.18633 1.58159 6.04109 1.66904 5.95411C2.60266 5.02407 3.5367 4.60084 4.67896 4.60419C4.73886 4.60437 4.7968 4.57837 4.83622 4.53327C7.34667 1.66117 10.2768 1.17012 12.1813 1.67261ZM3.80888 10.1481C4.11581 10.4551 4.04893 11.002 3.67419 11.3768C3.32466 11.7266 2.56386 11.9393 2.14908 12.0336C2.01259 12.0647 1.89643 11.9451 1.93017 11.8092C2.03551 11.3851 2.2647 10.5994 2.58114 10.2833C2.95588 9.90853 3.50103 9.83981 3.80888 10.1481ZM8.60072 4.70668C8.41847 4.70668 8.24369 4.77908 8.11482 4.90795C7.98595 5.03681 7.91355 5.2116 7.91355 5.39385C7.91355 5.57609 7.98595 5.75088 8.11482 5.87975C8.24369 6.00861 8.41847 6.08101 8.60072 6.08101C8.78297 6.08101 8.95775 6.00861 9.08662 5.87975C9.21549 5.75088 9.28789 5.57609 9.28789 5.39385C9.28789 5.2116 9.21549 5.03681 9.08662 4.90795C8.95775 4.77908 8.78297 4.70668 8.60072 4.70668Z",fill:"#834F00"})}):(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",children:(0,u.jsx)("path",{d:"M8.46168 9.22526C8.46177 9.22534 8.46191 9.22528 8.4619 9.22516L8.44843 8.85559C8.44682 8.81142 8.46538 8.76891 8.49887 8.74006L8.77938 8.49846C10.9026 6.6678 11.7857 4.46705 11.5469 2.61145C11.5359 2.52603 11.469 2.45906 11.3836 2.44791C9.51202 2.20351 7.29343 3.08004 5.46862 5.20281L5.24766 5.45994C5.2086 5.50539 5.15123 5.53093 5.09132 5.52954L4.75213 5.52166C4.20208 5.50888 3.72278 5.61597 3.25718 5.87174C3.13259 5.94018 3.13239 6.11366 3.25046 6.19282L4.88673 7.28979C4.97304 7.34766 5.00066 7.46197 4.95029 7.55286L4.63165 8.12785C4.53361 8.30468 4.62569 8.70049 4.94408 9.0175C5.26201 9.33452 5.66789 9.4298 5.83877 9.33818L6.4125 9.02947C6.50331 8.98061 6.61638 9.0088 6.67362 9.09458L7.78066 10.7535C7.85897 10.8708 8.03091 10.8721 8.10091 10.7496C8.37372 10.2722 8.4821 9.78734 8.46147 9.22535C8.46146 9.22524 8.4616 9.22517 8.46168 9.22526ZM12.1813 1.67261C12.2502 1.69025 12.3049 1.74434 12.3224 1.81325C12.828 3.7103 12.3201 6.61415 9.45043 9.12843C9.40474 9.16846 9.37878 9.22746 9.37972 9.2882C9.39748 10.4388 8.97038 11.3694 8.01022 12.326C7.92243 12.4133 7.77675 12.3987 7.70803 12.2957L6.37406 10.2963C6.3168 10.2105 6.20399 10.1841 6.10633 10.2174C5.56427 10.4019 4.8324 10.1997 4.29723 9.66665C3.76049 9.13199 3.55824 8.40159 3.75459 7.85168C3.78951 7.75386 3.76368 7.63996 3.67741 7.58212L1.69803 6.25501C1.59558 6.18633 1.58159 6.04109 1.66904 5.95411C2.60266 5.02407 3.5367 4.60084 4.67896 4.60419C4.73886 4.60437 4.7968 4.57837 4.83622 4.53327C7.34667 1.66117 10.2768 1.17012 12.1813 1.67261ZM3.80888 10.1481C4.11581 10.4551 4.04893 11.002 3.67419 11.3768C3.32466 11.7266 2.56386 11.9393 2.14908 12.0336C2.01259 12.0647 1.89643 11.9451 1.93017 11.8092C2.03551 11.3851 2.2647 10.5994 2.58114 10.2833C2.95588 9.90853 3.50103 9.83981 3.80888 10.1481ZM8.60072 4.70668C8.41847 4.70668 8.24369 4.77908 8.11482 4.90795C7.98595 5.03681 7.91355 5.2116 7.91355 5.39385C7.91355 5.57609 7.98595 5.75088 8.11482 5.87975C8.24369 6.00861 8.41847 6.08101 8.60072 6.08101C8.78297 6.08101 8.95775 6.00861 9.08662 5.87975C9.21549 5.75088 9.28789 5.57609 9.28789 5.39385C9.28789 5.2116 9.21549 5.03681 9.08662 4.90795C8.95775 4.77908 8.78297 4.70668 8.60072 4.70668Z",fill:"#FFDEAD"})}),(0,u.jsx)("span",{className:aY().actionTxt,children:1===o?"开启会员加速":"会员加速中"})]})}):null]})};var aP=aB,aW=o(28879),aR=o.n(aW),aZ=o(40691),aF=o.n(aZ),aG=o(40070),aV=o(88696),aJ=o.n(aV);let aH=t=>{var l;let{spinning:o,list:n}=t;if((null===(l=n)||void 0===l?void 0:l.generateId)==null)return null;let[d,c]=(0,p.useState)({}),v=(0,p.useRef)({}),h=n.generateId.toString(),{expanded:M=!1,showExpand:N=!1}=d[h]||{},I=(0,aG.V)({timeout:500});(0,p.useEffect)(()=>{let t=v.current[n.generateId];if(t){let{scrollHeight:l,clientHeight:o}=t,d=l>o;c(t=>({...t,[n.generateId]:{...t[n.generateId],showExpand:d}}))}},[n]);let w=t=>{c(l=>{let o=l[t]||{expanded:!1,showExpand:!1};return{...l,[t]:{expanded:!o.expanded,showExpand:!0}}}),setTimeout(()=>{let l=v.current[t];if(l){let{scrollHeight:o,clientHeight:n}=l;c(l=>{var d;return{...l,[t]:{...l[t],showExpand:null!==(d=l[t])&&void 0!==d&&!!d.expanded||o>n}}})}},300)},A=t=>{var l,o;let n={},u=t.generateId.toString();n[u]={expanded:(null===(l=d[u])||void 0===l?void 0:l.expanded)||!1,showExpand:(null===(o=d[u])||void 0===o?void 0:o.showExpand)||!1},c(n)};(0,p.useEffect)(()=>{A(n)},[n]);let T=(0,p.useCallback)(()=>{let t=n.generateId.toString(),l=v.current[t];if(l){let{scrollHeight:o,clientHeight:n}=l,d=o>n;c(l=>{var o;return(null===(o=l[t])||void 0===o?void 0:o.showExpand)===d?l:{...l,[t]:{...l[t],showExpand:d}}})}},[n]);(0,p.useEffect)(()=>{T()},[T]),(0,p.useEffect)(()=>{var t;return null===(t=window)||void 0===t||t.addEventListener("resize",T),()=>{var t;return null===(t=window)||void 0===t?void 0:t.removeEventListener("resize",T)}},[T]);let z=t=>{let l=Object.entries(t).sort((t,l)=>{let[o]=t,[n]=l;return parseInt(o)-parseInt(n)});for(let[t,d]of l){var o,n;if(null===(n=d.inputs)||void 0===n?void 0:null===(o=n.text)||void 0===o?void 0:o.trim())return d.inputs.text.trim()}return""},C=t=>{try{let l=JSON.parse(t),o=z(l);return o||""}catch(l){return console.error("JSON 解析失败",l),t}},S=(0,p.useRef)();return(0,p.useEffect)(()=>(S.current=new ResizeObserver(t=>{t.forEach(t=>{let l=t.target.getAttribute("data-id");if(!l)return;let o=t.target,{scrollHeight:n,clientHeight:d}=o;c(t=>{let o=t[l]||{expanded:!1,showExpand:!1},c=!!o.expanded||n>d;return o.showExpand===c?t:{...t,[l]:{...o,showExpand:c}}})})}),()=>{var t;null===(t=S.current)||void 0===t||t.disconnect()}),[]),(0,u.jsxs)("div",{className:aJ().historyList,children:[(0,u.jsxs)(X.Z,{className:aJ().headv,children:[1===n.outputType?(0,u.jsx)("span",{className:aJ().imgLabel,children:"高级生图"}):null,2===n.outputType?(0,u.jsx)("span",{className:aJ().videoLabel,children:"视频生成"}):null,3===n.outputType?(0,u.jsx)("span",{className:aJ().AiLabel,children:"AI应用"}):null,n.modelDesc?(0,u.jsxs)("div",{className:aJ().newheadLabel,children:[50===n.modelKey||51===n.modelKey||52===n.modelKey?"海螺AI":null,60===n.modelKey?"阶跃":null,3===n.outputType?(0,u.jsx)("span",{className:"".concat(aJ().mod),onClick:()=>{var t;null===(t=window)||void 0===t||t.open("/modelinfo/".concat(n.comfyAppUuid,"?versionUuid=").concat(n.comfyAppVersionUuid),"_blank")},children:n.modelDesc}):(0,u.jsx)("span",{children:n.modelDesc})]}):null,(0,u.jsx)("span",{className:"mr-[8px] ".concat(aJ().time),children:aR()(n.createTime).format("YYYY/MM/DD HH:mm")})]}),(()=>{var t;let l=3===n.outputType?C(n.prompt):n.prompt;return l?(0,u.jsx)("div",{className:aJ().proMr,children:(0,u.jsxs)("div",{className:aJ().textWrapper,children:[(0,u.jsx)("span",{ref:t=>{if(v.current[h]=t,t){var l,o;t.setAttribute("data-id",h),null===(l=S.current)||void 0===l||l.unobserve(t),null===(o=S.current)||void 0===o||o.observe(t),requestAnimationFrame(()=>{let{scrollHeight:l,clientHeight:o}=t,n=l>o;c(t=>({...t,[h]:{...t[h],showExpand:n}}))})}},className:"".concat(aJ().ellipsisText," ").concat(M?aJ().expanded:""),children:l}),(0,u.jsxs)("div",{className:aJ().buttonsWrapper,children:[(0,u.jsx)("span",{className:aJ().copyBtn,onClick:()=>{I.copy(l),D.ZP.success("提示词已复制")},children:(0,u.jsx)("i",{className:"liblibfont icon-copy-new cursor-pointer"})}),(null===(t=d[h])||void 0===t?void 0:t.showExpand)&&(0,u.jsxs)("span",{className:aJ().expandBtn,onClick:()=>w(h),children:[M?"收起":"展开",(0,u.jsx)("i",{className:"liblibfont ".concat(M?"icon-border_up":"icon-Chevron_Down"," ml-[5px]")})]})]})]})}):null})(),(0,u.jsx)("div",{className:aJ().imgRows,children:o&&(0,u.jsxs)("span",{className:aJ().imgLoding,children:[(0,u.jsx)("img",{src:aF(),alt:"loading"}),"生成中..."]})})]},n.generateId)};var aX=aH,aK=o(27422),aq=o(98325),a$=o(20269),a0=o(36008),a1=o(46294),a4=o(91595),a2=o(82240),a3=o(36728),a5=o(46394),a8=o(15931),a6=o(31271),a7=o(24882),a9=o(97095),le=o.n(a9);let{confirm:lt}=M.default,li=t=>{var l,o;let{url:n,id:d,className:c,deleteImgCb:v,prompt:N,width:I,height:w,modelKey:A,historyData:T,type:z,originalImageUrl:C}=t,{showShareImgModal:S}=(0,tO.W)(),{openBatchOperate:L,activeType:E,getImgList:U,imgConfig:Q,videoConfig:Y,getVideoList:B,setImgConfig:P,setVideoConfig:W,batchDownload:R,setBatchDownload:Z,setSelectedFiles:F,selectedFiles:G,initSelect:V,imgList:J}=(0,a7.t)(),[H,X]=(0,p.useState)([]),[K,q]=(0,p.useState)(!1),{isVip:$}=(0,k.RR)(),{handleDownload:ee}=(0,a3.Ag)({isTeam:!1});(0,p.useEffect)(()=>{if(R){let t=Object.values(G);X(t)}},[R]);let et=(0,p.useCallback)(()=>{d&&lt({title:"确定删除吗？",content:"删除后无法恢复",okText:"确定",cancelText:"取消",centered:!0,autoFocusButton:null,onOk:async()=>{let t=null;try{var l;if("video"===z?t=await O.BP.deleteVideo({idList:[d],source:0}):"image"===z&&(t=await O.BP.deleteImg({idList:[d],source:0})),!t||0!==t.code){D.ZP.warning("删除失败！");return}null===(l=v)||void 0===l||l(d),D.ZP.info("删除成功")}catch(t){D.ZP.warning("删除失败！")}}})},[d,z]),ei=async()=>{S({batchType:2,shareImgs:{tags:[{tagLabel:"V3先锋秀"}],images:[await (0,a1.q)({url:n,defaultPrompt:N,width:t.width,height:t.height})]}})},ea=t=>{if(!t)return"";try{let l=t.replace(/\/+$/,""),o=l.split(/[#?]/)[0],n=o.match(/\.([a-z0-9]+)$/i);return n?n[1].toLowerCase():""}catch(t){return""}},eo=t=>{let l=ea(t),o=["mp4","mov","avi","mkv","webm"],n=["jpg","jpeg","png","gif","webp"];return o.includes(l)?"video":n.includes(l)?"image":"unknown"};return(0,u.jsxs)("div",{className:"absolute text-white flex justify-end invisible rounded-[8px] ".concat(c," ").concat((null===(l=T)||void 0===l?void 0:l.videoUrl)?le().videoWrap:null),style:{inset:"0 0 70% 0",background:"linear-gradient(0deg, rgb(0 0 0 / 0%) 0%, rgb(0 0 0 / 80%) 100%)"},children:[(0,u.jsxs)(a$.k,{style:{height:"fit-content"},children:[(0,u.jsx)(h.J,{className:"icon-lib3-del mr-[12px] mt-[10px] cursor-pointer",fontSize:18,onClick:()=>{et()}}),"video"===eo(null===(o=T)||void 0===o?void 0:o.videoUrl)?null:(0,u.jsx)(h.J,{className:"icon-lib3-share mr-[12px] mt-[10px] cursor-pointer",fontSize:18,onClick:()=>{ei()}}),(0,u.jsx)(a6.o,{fileUrl:n,originalImageUrl:C,mediaType:"video"===eo(n)?2:1,children:(0,u.jsx)(h.J,{className:"icon-lib3-down mr-[12px] mt-[10px] cursor-pointer relative top-[9px]",fontSize:18,onClick:async()=>{await ee({originalImageUrl:C,fileUrl:n})}})})]}),K?(0,u.jsx)(M.default,{open:K,onCancel:()=>{q(!1)},destroyOnHidden:!0,closable:!1,className:le().shareImgModal,maskClosable:!0,title:null,footer:null,width:1200,children:(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsx)("div",{className:le().closeWrap,onClick:()=>{q(!1)},children:(0,u.jsx)(a5.Z,{width:20,style:{color:"#fff",fontSize:24}})}),(0,u.jsx)("video",{preload:"none",disablePictureInPicture:!0,controls:!0,autoPlay:!0,src:n,className:le().videoBox})]})}):null,(0,u.jsx)(a8.E,{showDialog:R,onCancel:()=>{Z(!1),V()},downloadList:H,source:"comfy"})]})};var la=li,ll=o(35887);let{confirm:lo}=M.default,ln={video:"视频",image:"图片",audio:"音频",text:"文本"},ls=t=>{let{url:l,id:o,className:n,deleteImgCb:d,type:c,originalImageUrl:v}=t,M=(0,aG.V)({timeout:500}),{handleDownload:N}=(0,a3.Ag)({isTeam:!1}),I=(0,p.useCallback)(()=>{o&&lo({title:"确定删除吗？",content:"删除后无法恢复",okText:"确定",cancelText:"取消",centered:!0,onOk:async()=>{let t=null;try{var l;if("video"===c||"audio"===c?t=await O.BP.deleteVideo({idList:[o],source:0}):"image"===c&&(t=await O.BP.deleteImg({idList:[o],source:0})),!t||0!==t.code){D.ZP.warning("删除失败！");return}null===(l=d)||void 0===l||l(o),D.ZP.info("删除成功")}catch(t){D.ZP.warning("删除失败！")}}})},[o,c]);return(0,u.jsx)("div",{className:"absolute text-white flex justify-end invisible rounded-[8px] ".concat(n),style:{inset:"0 0 70% 0",background:"linear-gradient(0deg, rgb(0 0 0 / 0%) 0%, rgb(0 0 0 / 80%) 100%)"},children:(0,u.jsx)(a$.k,{children:"text"===c?(0,u.jsx)(h.J,{className:"icon-fuzhiquanbu mr-[12px] mt-[10px] cursor-pointer",fontSize:18,onClick:()=>{M.copy(l),D.ZP.success("已复制到剪贴板")}}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(h.J,{className:"icon-lib3-del mr-[12px] mt-[10px] cursor-pointer",fontSize:18,onClick:I}),(0,u.jsx)(a6.o,{fileUrl:l,originalImageUrl:v,mediaType:"视频"===ln[c]?2:1,children:(0,u.jsx)(h.J,{className:"icon-lib3-down mr-[12px] mt-[10px] cursor-pointer",fontSize:18,onClick:async()=>{await N({originalImageUrl:v,fileUrl:l})}})})]})})})};var lr=ls,ld=o(91877),lc=o.n(ld);let lu=[{url:"https://liblibai-online.liblib.cloud/img/26867b52384f44d6ad5f717dbd710ff7/1c5a6bbf8fba241755cde1ce19dcb7cb131ec3e0bd5cf7f53cf88b7ef93c3830.png",color:"#1F3AA8"},{url:"https://liblibai-online.liblib.cloud/img/26867b52384f44d6ad5f717dbd710ff7/b7da164bf5d1097df652bd33ded80f2bf8b9bf2eacf1583f398d3b29cc9e1643.png",color:"#051D35"},{url:"https://liblibai-online.liblib.cloud/img/26867b52384f44d6ad5f717dbd710ff7/8d7d13037632885369b744ac5e6258a0435e5bb5b3795a256ddd01873ecb6d85.png",color:"#271F3F"},{url:"https://liblibai-online.liblib.cloud/img/26867b52384f44d6ad5f717dbd710ff7/9f8d1abed1c5a2f0cfad9000389b78e285df7edbe8b3ff5730ea54c6ba1978f6.png",color:"#487B5E"},{url:"https://liblibai-online.liblib.cloud/img/26867b52384f44d6ad5f717dbd710ff7/6be7c7ee360f0c4638274538a145b653a1c7eac1f124beaf0d10ea4c77c90207.png",color:"#6F561E"},{url:"https://liblibai-online.liblib.cloud/img/26867b52384f44d6ad5f717dbd710ff7/4c5fbcbd380f41fab25c66010e91ca3d3a8efb14686fd41f80f0072b2c159c66.png",color:"#4B6DA9"}],lm=t=>"".concat(t,"?image_process=format,webp&x-oss-process=image/resize,w_",480,",m_lfit/format,webp"),lg=t=>{var l,o,n,d,c,v,M,N,I,w;let{updateList:A,id:T,prompt:z,genData:C}=t,[S,k]=(0,p.useState)([]),[L,E]=(0,p.useState)([]),[U,O]=(0,p.useState)([]),[Q,Y]=(0,p.useState)([]),{handleDownload:B,copyImageToClipboard:P}=(0,a3.Ag)({isTeam:!1}),[W,R]=(0,p.useState)(null),[Z,F]=(0,p.useState)(!1),[G,V]=(0,p.useState)({}),J=(0,p.useRef)({}),[H,X]=(0,p.useState)({visible:!1,x:0,y:0,item:null}),K=30,[q,$]=(0,p.useState)([]),ee=30,[et,ei]=(0,p.useState)(()=>Array.from({length:ee},()=>Math.floor(18*Math.random())+8)),[ea,eo]=(0,p.useState)(!0);(0,p.useEffect)(()=>{var t,l,o,n;E((null===(t=C)||void 0===t?void 0:t.images)||[]),k((null===(l=C)||void 0===l?void 0:l.videos)||[]),O((null===(o=C)||void 0===o?void 0:o.texts)||[]),Y(((null===(n=C)||void 0===n?void 0:n.audios)||[]).map(t=>({...t,audioBgIndex:Math.floor(Math.random()*lu.length)}))),eo(!1)},[null===(l=C)||void 0===l?void 0:l.images,null===(o=C)||void 0===o?void 0:o.videos,null===(n=C)||void 0===n?void 0:n.texts,null===(d=C)||void 0===d?void 0:d.audios]),(0,p.useEffect)(()=>{let t=Array.from({length:K},()=>Math.floor(12*Math.random())+8);$(t)},[]),(0,p.useEffect)(()=>{let t;return null!==W&&Z?t=setInterval(()=>{ei(Array.from({length:ee},()=>Math.floor(12*Math.random())+8))},120):ei(Array.from({length:ee},()=>Math.floor(12*Math.random())+8)),()=>clearInterval(t)},[W,Z]);let en=(0,p.useMemo)(()=>S.length>0||L.length>0||U.length>0||Q.length>0,[S,L,U,Q]);(0,p.useEffect)(()=>{if(!ea&&!en){var t;null===(t=A)||void 0===t||t(T)}},[en,ea]);let es=(t,l)=>{"video"===t?k(t=>t.filter(t=>t.id!==l)):"image"===t?E(t=>t.filter(t=>t.id!==l)):"text"===t?O(t=>t.filter(t=>t.id!==l)):"audio"===t&&Y(t=>t.filter(t=>t.id!==l))},er=(t,l)=>{if(null!==W&&W!==t){let t=J.current[W];t&&(t.pause(),t.currentTime=0)}let o=J.current[t];o&&(W===t&&Z?(o.pause(),F(!1)):(o.play(),R(t),F(!0)))},ed=t=>{let l=J.current[t];l&&V(o=>({...o,[t]:l.currentTime}))},ec=t=>{F(!1),R(null),V(l=>({...l,[t]:0}))},eu=t=>{if(!t)return"00:00";let l=Math.floor(t/60).toString().padStart(2,"0"),o=Math.floor(t%60).toString().padStart(2,"0");return"".concat(l,":").concat(o)},em=(t,l)=>{t.preventDefault(),t.stopPropagation(),X({visible:!0,x:t.clientX,y:t.clientY,item:l})},eg=()=>{X({visible:!1,x:0,y:0,item:null})},ep=async()=>{if(H.item){var t,l,o,n,d,c;await B({originalImageUrl:(null===(t=H.item)||void 0===t?void 0:t.originalImageUrl)||(null===(l=H.item)||void 0===l?void 0:l.originalVideoUrl),fileUrl:(null===(o=H.item)||void 0===o?void 0:o.imageUrl)||(null===(n=H.item)||void 0===n?void 0:n.videoUrl),imageUrl:(null===(d=H.item)||void 0===d?void 0:d.imageUrl)||(null===(c=H.item)||void 0===c?void 0:c.videoUrl)})}eg()},ev=async()=>{if(H.item){var t,l,o;eg();let n=await P({originalImageUrl:null===(t=H.item)||void 0===t?void 0:t.originalImageUrl,fileUrl:null===(l=H.item)||void 0===l?void 0:l.imageUrl,imageUrl:null===(o=H.item)||void 0===o?void 0:o.imageUrl});n?D.ZP.success("复制成功"):D.ZP.error("复制失败")}};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("ul",{className:lc().imgRow,children:[S.map(t=>{var l,o,n,d,c,p;return(0,u.jsxs)("li",{className:"group ".concat(lc().videoList),onContextMenu:l=>em(l,t),onMouseEnter:t=>{let l=t.currentTarget.querySelector("video");l&&l.play().catch(()=>{l.muted=!0,l.play(),l.controls=!0})},onMouseLeave:t=>{let l=t.currentTarget.querySelector("video");l&&(l.pause(),l.currentTime=0)},children:[(0,u.jsx)("div",{className:lc().tagWrapperVideo,children:(0,u.jsx)("video",{preload:"none",disablePictureInPicture:!0,src:null===(l=t)||void 0===l?void 0:l.videoUrl,className:"w-full h-[302px] object-contain",controls:!0,loop:!0,onLoadedData:t=>{t.currentTarget.currentTime=.1},onMouseEnter:t=>t.currentTarget.controls=!0})}),(0,u.jsx)(la,{url:null===(o=t)||void 0===o?void 0:o.videoUrl,originalImageUrl:null===(n=t)||void 0===n?void 0:n.originalVideoUrl,id:null===(d=t)||void 0===d?void 0:d.id,deleteImgCb:()=>{var l;return es("video",null===(l=t)||void 0===l?void 0:l.id)},type:"video",prompt:z,width:null===(c=t)||void 0===c?void 0:c.width,height:null===(p=t)||void 0===p?void 0:p.height,modelKey:C.modelKey,historyData:t,className:"group-has-[:hover]:visible"})]},t.id)}),L.map(t=>{var l,o,n,d,c,p,v;return(0,u.jsxs)("li",{className:"group ".concat(lc().imageList),onContextMenu:l=>em(l,t),children:[(0,u.jsx)("div",{className:lc().tagWrapper,children:(0,u.jsx)(aN.Z,{src:lm(null===(l=t)||void 0===l?void 0:l.imageUrl),preview:{src:null===(o=t)||void 0===o?void 0:o.imageUrl}})}),(0,u.jsx)(la,{url:null===(n=t)||void 0===n?void 0:n.imageUrl,originalImageUrl:null===(d=t)||void 0===d?void 0:d.originalImageUrl,id:null===(c=t)||void 0===c?void 0:c.id,deleteImgCb:()=>{var l;return es("image",null===(l=t)||void 0===l?void 0:l.id)},type:"image",prompt:z,width:null===(p=t)||void 0===p?void 0:p.width,height:null===(v=t)||void 0===v?void 0:v.height,modelKey:C.modelKey,historyData:t,className:"group-has-[:hover]:visible"})]},t.id)}),U.map(t=>{var l,o;return(0,u.jsxs)("li",{className:"group ".concat(lc().otherFileList),children:[(0,u.jsx)("div",{className:lc().textContent,children:t.text}),(0,u.jsx)(lr,{url:null===(l=t)||void 0===l?void 0:l.text,id:null===(o=t)||void 0===o?void 0:o.id,deleteImgCb:()=>es("text",t.id),type:"text",prompt:z,modelKey:C.modelKey,historyData:t,className:"group-hover:visible"})]},t.id)}),Q.map(t=>{var l,o;return(0,u.jsxs)("li",{className:"group ".concat(lc().otherFileList),children:[(0,u.jsxs)("div",{className:lc().audioContent,style:{backgroundColor:lu[null!==(I=t.audioBgIndex)&&void 0!==I?I:0].color},children:[(0,u.jsx)("div",{className:lc().audioBg,style:{backgroundImage:"url(".concat(lu[null!==(w=t.audioBgIndex)&&void 0!==w?w:0].url,")")},onClick:()=>er(t.id,t.audioUrl)}),(0,u.jsxs)("div",{className:"".concat(lc().audioTitle," flex items-center justify-between"),onClick:()=>er(t.id,t.audioUrl),children:[(0,u.jsx)("h2",{className:lc().audioTitleText,children:"AI生成的音频"}),(0,u.jsx)("div",{className:lc().playBtn,children:W===t.id&&Z?(0,u.jsx)(h.J,{className:"icon-stop",fontSize:26}):(0,u.jsx)(h.J,{className:"icon-bofangqi1",fontSize:24})})]}),(0,u.jsxs)("div",{className:"".concat(lc().progressBar," flex items-center justify-between"),children:[t.duration?(0,u.jsx)("span",{className:lc().audioTimeLeft,children:eu(G[t.id]||0)}):null,(0,u.jsx)("div",{className:lc().progressBarInner,children:W===t.id&&Z?(0,u.jsx)("div",{className:lc().progressBarActive,children:et.map((t,l)=>(0,u.jsx)("span",{className:lc().wave,style:{height:"".concat(t,"px"),top:"".concat(13-t/2,"px"),left:"".concat(5*l,"px"),backgroundColor:"#fff",opacity:1}},l))}):(0,u.jsx)("div",{className:lc().waveWrapper,children:q.map((t,l)=>(0,u.jsx)("span",{className:lc().wave,style:{height:"".concat(t,"px"),top:"".concat(13-t/2,"px"),left:"".concat(5*l,"px")}},l))})}),t.duration?(0,u.jsx)("span",{className:lc().audioTimeRight,children:eu(t.duration)}):null]}),(0,u.jsx)("audio",{ref:l=>{J.current[t.id]=l},src:t.audioUrl,onTimeUpdate:()=>ed(t.id),onEnded:()=>ec(t.id),style:{display:"none"}})]}),(0,u.jsx)(lr,{url:null===(l=t)||void 0===l?void 0:l.audioUrl,id:null===(o=t)||void 0===o?void 0:o.id,deleteImgCb:()=>es("audio",t.id),type:"audio",prompt:z,modelKey:C.modelKey,historyData:t,className:"group-hover:visible"})]},t.id)})]}),(0,u.jsx)(a2.Z,{visible:H.visible,x:H.x,y:H.y,onDownload:ep,onClose:eg,downloadText:"下载",copyText:"image"===(0,ll.V4)(null===(v=H)||void 0===v?void 0:null===(c=v.item)||void 0===c?void 0:c.imageUrl)?"复制":void 0,onCopy:"image"===(0,ll.V4)(null===(N=H)||void 0===N?void 0:null===(M=N.item)||void 0===M?void 0:M.imageUrl)?ev:void 0,downloadProps:H.item?{fileUrl:H.item.imageUrl,originalImageUrl:H.item.originalImageUrl,mediaType:1}:void 0})]})};var lp=lg;let{confirm:lx}=M.default,lv=t=>{var l;let{drawImg:o,spinning:n,list:d,isLogin:c}=t,{colorScheme:v}=(0,E.X)(),M="dark"===v,[N,I]=(0,p.useState)(d),{showShareImgModal:w}=(0,tO.W)(),[A,T]=(0,p.useState)({}),z=(0,p.useRef)({}),C=(0,p.useCallback)(t=>{I(l=>l.filter(l=>l.generateId!==t))},[N]);(0,p.useEffect)(()=>{N.forEach(t=>{let l=z.current[t.generateId];if(l){let{scrollHeight:o,clientHeight:n}=l,d=o>n;T(l=>({...l,[t.generateId]:{...l[t.generateId],showExpand:d}}))}})},[N]);let S=t=>{T(l=>{let o=l[t]||{expanded:!1,showExpand:!1};return{...l,[t]:{expanded:!o.expanded,showExpand:!0}}}),setTimeout(()=>{let l=z.current[t];if(l){let{scrollHeight:o,clientHeight:n}=l;T(l=>{var d;return{...l,[t]:{...l[t],showExpand:null!==(d=l[t])&&void 0!==d&&!!d.expanded||o>n}}})}},300)},k=t=>{let l={};t.forEach(t=>{var o,n;let d=t.generateId.toString();l[d]={expanded:(null===(o=A[d])||void 0===o?void 0:o.expanded)||!1,showExpand:(null===(n=A[d])||void 0===n?void 0:n.showExpand)||!1}}),T(l)};(0,p.useEffect)(()=>{k(N)},[N]);let L=(0,p.useCallback)(()=>{N.forEach(t=>{let l=t.generateId.toString(),o=z.current[l];if(o){let{scrollHeight:t,clientHeight:n}=o,d=t>n;T(t=>{var o;return(null===(o=t[l])||void 0===o?void 0:o.showExpand)===d?t:{...t,[l]:{...t[l],showExpand:d}}})}})},[N]);(0,p.useEffect)(()=>{L()},[L]),(0,p.useEffect)(()=>(window.addEventListener("resize",L),()=>window.removeEventListener("resize",L)),[L]);let U=t=>{var l;(null===(l=t.images)||void 0===l?void 0:l.length)&&Promise.allSettled(t.images.map(l=>(0,a1.q)({url:l.imageUrl,defaultPrompt:t.prompt}))).then(t=>{let l=[];t.forEach(t=>{t.value&&l.push(t.value)}),w({batchType:2,shareImgs:{tags:[{tagLabel:"V3先锋秀"}],images:l}})})},Q=async t=>{try{var l;let o=t.videos[0],n="".concat(o.videoUrl,"?x-oss-process=video/snapshot,t_0,f_png,m_fast"),d=await (0,tU.Rn)(n).then(t=>t.data),c=new File([d],"".concat(o.id,".png"),{type:"image/png"}),{uuid:u}=await (0,aK.C)()||{},p=await (0,aq.AR)(u,c,null),v=(0,a4.UV)("showShareVideoModal");v([{createTime:t.createTime,generateId:t.generateId,height:o.height,id:o.id,imageId:"",imageUrl:(null===(l=p)||void 0===l?void 0:l.url)||"",ossId:o.videoUrl,width:o.width}])}catch(t){console.error("分享视频失败",t)}};(0,p.useEffect)(()=>{I(d)},[d]);let Y=(0,aG.V)({timeout:500}),B=t=>{lx({title:"确定删除吗？",content:"删除后无法恢复",okText:"确定",cancelText:"取消",centered:!0,autoFocusButton:null,onOk(){O.BP.deleteGroupImg({generateIdList:[t],source:0}).then(l=>{if(l.code){D.ZP.error(l.msg);return}C(t),D.ZP.info("删除成功")}).catch(()=>{D.ZP.warning("删除失败！")})}})},P=t=>{let l=Object.entries(t).sort((t,l)=>{let[o]=t,[n]=l;return parseInt(o)-parseInt(n)});for(let[t,d]of l){var o,n;if(null===(n=d.inputs)||void 0===n?void 0:null===(o=n.text)||void 0===o?void 0:o.trim())return d.inputs.text.trim()}return""},W=t=>{try{let l=JSON.parse(t),o=P(l);return o||""}catch(l){return console.error("JSON 解析失败",l),t}},R=(0,p.useRef)();return(0,p.useEffect)(()=>(R.current=new ResizeObserver(t=>{t.forEach(t=>{let l=t.target.getAttribute("data-id");if(!l)return;let o=t.target,{scrollHeight:n,clientHeight:d}=o;T(t=>{let o=t[l]||{expanded:!1,showExpand:!1},c=!!o.expanded||n>d;return o.showExpand===c?t:{...t,[l]:{...o,showExpand:c}}})})}),()=>{var t;null===(t=R.current)||void 0===t||t.disconnect()}),[]),(0,u.jsx)("div",{className:aJ().contentBox,children:(null===(l=N)||void 0===l?void 0:l.length)&&c?(0,u.jsx)("div",{className:aJ().imgBox,children:N.map(t=>{var l,d,c,p,v,N,I,w,k;let L=t.generateId.toString(),{expanded:E=!1,showExpand:O=!1}=A[L]||{};return(0,u.jsxs)("div",{className:aJ().historyList,children:[(0,u.jsxs)(a$.k,{className:aJ().head,children:[1===t.outputType?(0,u.jsx)("span",{className:aJ().imgLabel,children:"高级生图"}):null,2===t.outputType?(0,u.jsx)("span",{className:aJ().videoLabel,children:"视频生成"}):null,3===t.outputType?(0,u.jsx)("span",{className:aJ().AiLabel,children:"AI应用"}):null,t.modelDesc?(0,u.jsxs)("div",{className:aJ().newheadLabel,children:[50===t.modelKey||51===t.modelKey||52===t.modelKey?"海螺AI":null,60===t.modelKey?"阶跃":null,3===t.outputType?(0,u.jsx)("span",{className:"".concat(aJ().mod),onClick:()=>{var l;null===(l=window)||void 0===l||l.open("/modelinfo/".concat(t.comfyAppUuid,"?versionUuid=").concat(t.comfyAppVersionUuid),"_blank")},children:t.modelDesc}):(0,u.jsx)("span",{children:t.modelDesc})]}):null,(0,u.jsx)("span",{className:"mr-[8px] ".concat(aJ().time),children:aR()(t.createTime).format("YYYY/MM/DD HH:mm")}),(0,u.jsx)("span",{className:aJ().size,children:t.videos.length>0?(null===(l=t)||void 0===l?void 0:l.videos[0].width)?"".concat(null===(d=t)||void 0===d?void 0:d.videos[0].width,"x").concat(null===(c=t)||void 0===c?void 0:c.videos[0].height):null:(null===(v=t)||void 0===v?void 0:null===(p=v.images)||void 0===p?void 0:p.length)>0&&(null===(N=t)||void 0===N?void 0:N.images[0].width)?"".concat(null===(I=t)||void 0===I?void 0:I.images[0].width,"x").concat(null===(w=t)||void 0===w?void 0:w.images[0].height):null})]}),(()=>{var l;let o=3===t.outputType?W(t.prompt):t.prompt;return o?(0,u.jsx)("div",{className:aJ().proMr,children:(0,u.jsxs)("div",{className:aJ().textWrapper,children:[(0,u.jsx)("span",{ref:t=>{if(z.current[L]=t,t){var l,o;t.setAttribute("data-id",L),null===(l=R.current)||void 0===l||l.unobserve(t),null===(o=R.current)||void 0===o||o.observe(t),requestAnimationFrame(()=>{let{scrollHeight:l,clientHeight:o}=t,n=l>o;T(t=>({...t,[L]:{...t[L],showExpand:n}}))})}},className:"".concat(aJ().ellipsisText," ").concat(E?aJ().expanded:""),children:o}),(0,u.jsxs)("div",{className:aJ().buttonsWrapper,children:[(0,u.jsx)("span",{className:aJ().copyBtn,onClick:()=>{Y.copy(o),D.ZP.success("提示词已复制")},children:(0,u.jsx)("i",{className:"liblibfont icon-copy-new cursor-pointer"})}),(null===(l=A[L])||void 0===l?void 0:l.showExpand)&&(0,u.jsxs)("span",{className:aJ().expandBtn,onClick:()=>S(L),children:[E?"收起":"展开",(0,u.jsx)("i",{className:"liblibfont ".concat(E?"icon-border_up":"icon-Chevron_Down"," ml-[5px]")})]})]})]})}):null})(),(0,u.jsx)(lp,{genData:t,updateList:C,id:t.generateId,prompt:t.prompt}),(0,u.jsxs)("div",{className:aJ().action,children:[3===t.outputType?(0,u.jsxs)("span",{className:aJ().actionSpan,children:[M?(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",children:(0,u.jsx)("path",{d:"M9.91667 12.834L12.25 10.5007M12.25 10.5007L9.91667 8.16732M12.25 10.5007H4.08333C3.46449 10.5007 2.871 10.2548 2.43342 9.81723C1.99583 9.37965 1.75 8.78616 1.75 8.16732V7.58398M4.08333 1.16732L1.75 3.50065M1.75 3.50065L4.08333 5.83398M1.75 3.50065H9.91667C10.5355 3.50065 11.129 3.74648 11.5666 4.18407C12.0042 4.62165 12.25 5.21515 12.25 5.83398V6.41732",stroke:"white","stroke-linecap":"round","stroke-linejoin":"round"})}):(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",children:(0,u.jsx)("path",{d:"M9.91667 12.834L12.25 10.5007M12.25 10.5007L9.91667 8.16732M12.25 10.5007H4.08333C3.46449 10.5007 2.871 10.2548 2.43342 9.81723C1.99583 9.37965 1.75 8.78616 1.75 8.16732V7.58398M4.08333 1.16732L1.75 3.50065M1.75 3.50065L4.08333 5.83398M1.75 3.50065H9.91667C10.5355 3.50065 11.129 3.74648 11.5666 4.18407C12.0042 4.62165 12.25 5.21515 12.25 5.83398V6.41732",stroke:"#191919","stroke-linecap":"round","stroke-linejoin":"round"})}),(0,u.jsx)("span",{className:aJ().actionTxt,onClick:()=>{if(n)D.ZP.warning("正在生成中，请稍后");else if(3===t.outputType){let l=JSON.parse(t.prompt),n={comfyApp:{workFlowUuid:t.comfyAppVersionUuid,prompt:l},generateType:28,source:0};o(n)}else{let l=JSON.parse(t.paramJson);l.generateType=l.taskType,delete l.taskType,o(l,t.modelKey)}},children:"再次生成"})]}):null,(0,u.jsxs)("span",{className:aJ().actionSpan,onClick:()=>{B(t.generateId)},children:[(0,u.jsx)(h.J,{className:"icon-lib3-del",fontSize:14}),(0,u.jsx)("span",{className:aJ().actionTxt,children:"全部删除"})]}),2===t.outputType||(null===(k=t.videos)||void 0===k?void 0:k.length)?(0,u.jsxs)("span",{className:aJ().actionSpan,onClick:()=>{Q(t)},children:[(0,u.jsx)(h.J,{className:"icon-lib3-share",fontSize:14}),(0,u.jsx)("span",{className:aJ().actionTxt,children:"全部分享"})]}):null,t.images.length>0?(0,u.jsxs)("span",{className:aJ().actionSpan,onClick:()=>{U(t)},children:[(0,u.jsx)(h.J,{className:"icon-lib3-share",fontSize:14}),(0,u.jsx)("span",{className:aJ().actionTxt,children:"全部分享"})]}):null]})]},t.generateId)})}):(0,u.jsx)("div",{className:"h-full flex justify-center items-center",children:(0,u.jsx)(a0.H,{text:"暂无数据"})})})};var lh=lv,lf=o(54351),lM=o(57521),lj=o(63880);let lN=t=>{let{list:l,spinning:o}=t;return o?(0,u.jsx)("div",{className:ak().contentBox,children:(0,u.jsx)(aX,{list:l,spinning:o})}):null},lb=()=>{var t;let{isVip:l}=(0,k.RR)(),[o,n]=(0,z.NK)(),[d,c]=(0,p.useState)({seed:-1,aspectRatio:"",batchSize:1,prompt:"",model:7,negPrompt:"",quality:"medium"}),[w,T]=(0,p.useState)(6),[E,U]=(0,p.useState)({image:"",denoisingStrength:.6}),[Y,B]=(0,p.useState)(200),[P,W]=(0,p.useState)([]),[R,Z]=(0,p.useState)(),[F,G]=(0,p.useState)(!1),[V,J]=(0,p.useState)(""),[H,X]=(0,p.useState)(!1),[K,q]=(0,p.useState)(0),[$,ee]=(0,p.useState)(!0),[et,ei]=(0,p.useState)(),[ea,eo]=(0,p.useState)(null),[en,es]=(0,p.useState)([]),[er,ed]=(0,p.useState)({model:50,needRefined:1}),[ec,eu]=(0,p.useState)({model:51,needRefined:1,image:""}),[em,eg]=(0,p.useState)({model:60,needRefined:1,aspectRatio:0}),[ep,ev]=(0,p.useState)("1"),[eh,ef]=(0,p.useState)(1),[eM,ej]=(0,p.useState)(1),[eN,eb]=(0,p.useState)(1),eI=(0,p.useRef)(),ey=(0,p.useRef)(1),{acceleratorCard:ew,setAcceleratorCard:eA}=(0,Q.commercialStore)(),eD=(0,p.useRef)(ew),[eT,ez]=(0,p.useState)(),[e_,eC]=M.default.useModal(),{isTourOpen:eS,setIsTourOpen:ek}=(0,Q.AiInFo)();(0,p.useEffect)(()=>{eD.current=ew},[ew]),(0,p.useEffect)(()=>{ey.current=eM},[eM]);let eL=(0,v.useRouter)(),eE=(0,S.T)(),eU=()=>1===K?7===d.model?{source:0,generateType:32,lib4O:{model:d.model,type:en.length>0?1:0,prompt:d.prompt,aspectRatio:d.aspectRatio,imageCount:d.batchSize,quality:d.quality,imageUrlList:en}}:{source:0,generateType:20,text2imgFlux:{...d}}:1===eh?{source:0,generateType:27,text2VideoStep:{...em,prompt:d.prompt}}:"1"===ep?{source:0,generateType:25,text2VideoMm:{...er,prompt:d.prompt}}:{source:0,generateType:26,img2VideoMm:{...ec,prompt:d.prompt}},eO=(0,Q.useCurrentUser)(),eQ=(0,p.useMemo)(()=>!!eO,[eO]);(0,p.useEffect)(()=>{!l&&eQ?O.BP.getSd3Times().then(t=>{var l;(null===(l=t)||void 0===l?void 0:l.data)&&X(!0)}):l&&(X(!1),ej(2))},[eQ,l]);let eY=()=>!!eQ||(o.open(),!1),[eB,eP]=(0,p.useState)({current:1,pageSize:20,total:0}),[eW,eR]=(0,p.useState)(!1),[eZ,eF]=(0,p.useState)(!0),eG=(0,p.useRef)(null),[eV,eJ]=(0,p.useState)(!0),eH=function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!t&&(!eZ||eW))return;let l=t?1:eB.current,o=!t;o?eR(!0):eJ(!0),O.BP.getSd3History({outputType:ea,pageNo:l,pageSize:eB.pageSize,fromTime:"2024-01-01 00:00:00",toTime:(0,i5.oi)()}).then(n=>{var d,c,u,p,v;if(!n)return;t?W((null===(v=n)||void 0===v?void 0:v.list)||[]):W(t=>{var l;return[...t,...(null===(l=n)||void 0===l?void 0:l.list)||[]]}),eP(t=>({...t,current:l,total:n.total||0}));let h=t?(null===(c=n)||void 0===c?void 0:null===(d=c.list)||void 0===d?void 0:d.length)||0:P.length+((null===(p=n)||void 0===p?void 0:null===(u=p.list)||void 0===u?void 0:u.length)||0),M=h<(n.total||0);eF(M),o?eR(!1):eJ(!1)}).catch(()=>{o?eR(!1):eJ(!1)})},eX=()=>{O.BP.getSd3History({outputType:ea,pageNo:1,pageSize:1,fromTime:"2024-01-01 00:00:00",toTime:(0,i5.oi)()}).then(t=>{if(!t||!t.list||0===t.list.length)return;let l=t.list[0],o=P.some(t=>t.generateId===l.generateId);o||W(t=>[l,...t])}).catch(t=>{console.error("获取新数据失败:",t)})},eK=(0,p.useCallback)(()=>{let t=eG.current;if(!t)return;let{scrollTop:l,scrollHeight:o,clientHeight:n}=t;o-l-n<200&&!eW&&eZ&&(eB.current*eB.pageSize<eB.total?eP(t=>({...t,current:t.current+1})):eF(!1))},[eW,eZ,eB]),eq=(0,p.useMemo)(()=>A().debounce(eK,200),[eK]);(0,p.useEffect)(()=>{eB.current>1&&eH(!1)},[eB.current]),(0,p.useEffect)(()=>{eQ&&eH(!0)},[ea]);let e$=(0,p.useRef)(null),e0=(0,p.useRef)(0),e1=()=>{if(eI.current){let t={generateId:eI.current};ew.id&&ew.time&&(t.userCouponId=ew.id),O.BP.vipSpeedup(t).then(t=>{if(C.v3.includes(String(t.code))){(0,lj.jU)({failurePrompt:[t.msg]});return}eb(2),D.ZP.success("加速成功")})}},{SpeedAccelerationComponent:e4}=(0,L.Z)({queueNum:(null===(t=eT)||void 0===t?void 0:t.queueNum)||0,vipSpeedup:e1,sence:"LIB_APP"}),e2=(t,l,o)=>{O.BP.getSd3Progress({generateId:t,source:0}).then(t=>{var n,d,c,u;if(o&&Z(t),e$.current&&(clearTimeout(e$.current),e$.current=null),(null===(n=t)||void 0===n?void 0:n.status)<2||(null===(d=t)||void 0===d?void 0:d.status)===8){e$.current=setTimeout(()=>{e2(t.generateId,l,!1)},3e3);return}if((null===(c=t)||void 0===c?void 0:c.status)===2||(null===(u=t)||void 0===u?void 0:u.status)===5){J(t.prompt),ei(l),(0,lj.XK)({type:"refresh_vip_info",data:null}),eX(),G(!1);return}G(!1)})},e3=t=>{let{id:l}=t;O.BP.generateStatus(l).then(t=>{var o,n,d,c,u;if(e$.current&&(clearTimeout(e$.current),e$.current=null),!(null===(o=t)||void 0===o?void 0:o.data)&&e0.current<5){e$.current=setTimeout(()=>{e2({id:l}),e0.current+=1},3e3);return}if(e0.current&&(e0.current=0),(null===(d=t)||void 0===d?void 0:null===(n=d.data)||void 0===n?void 0:n.subStatus)<2){ez(t.data),e$.current=setTimeout(()=>{e3({id:t.data.generateId})},3e3);return}if((null===(u=t)||void 0===u?void 0:null===(c=u.data)||void 0===c?void 0:c.subStatus)===2){D.ZP.success("生图成功"),ez(),(0,lj.XK)({type:"refresh_vip_info",data:null}),(0,lj.XK)({type:"generate_image_done",data:null});let t=setTimeout(()=>{eX(),G(!1),t&&clearTimeout(t)},2e3);return}G(!1)})},e5=async(t,l)=>{let n,c;if(!eQ){o.open();return}if(F)return;if(t)n=t,c=65,l&&(c=l);else{var u,p,v,h,M,N,I,w,A,T,z,S;if(n=eU(),1===K||2===K&&"1"===ep||1===eh){if(!d.prompt){D.ZP.warning("提示词为空，请输入内容后点击");return}if(d.prompt&&d.prompt.length>2e3){D.ZP.warning("prompt提示词长度超出2000，请重新输入");return}}if(2===K&&"2"===ep&&(null===(p=n)||void 0===p?void 0:null===(u=p.img2VideoMm)||void 0===u?void 0:u.image)===""){D.ZP.warning("请上传首帧画面");return}if(!1===eY())return;if(1===K){if(7===(c=null===(h=n)||void 0===h?void 0:null===(v=h.text2imgFlux)||void 0===v?void 0:v.model)||8===c||9===c){let t;if(en.length>0){let l=[];en.map(t=>{l.push({type:"image_url",image_url:{url:t}})}),t=[{type:"text",text:d.prompt},...l]}else t=d.prompt;n={source:0,generateType:32,lib4O:{model:d.model,type:en.length>0?1:0,prompt:d.prompt,aspectRatio:d.aspectRatio,imageCount:d.batchSize,quality:d.quality,imageUrlList:en}}}}else if(2===K){if(1===eh){if(c=null===(N=n)||void 0===N?void 0:null===(M=N.text2VideoStep)||void 0===M?void 0:M.model,""!==d.prompt&&(null===(w=n)||void 0===w?void 0:null===(I=w.text2VideoStep)||void 0===I?void 0:I.needRefined)===1){let t=await O.BP.getPrompt({prompts:d.prompt});n.text2VideoStep.prompt=t||""}}else"1"===ep?c=null===(T=n)||void 0===T?void 0:null===(A=T.text2VideoMm)||void 0===A?void 0:A.model:"2"===ep&&(c=null===(S=n)||void 0===S?void 0:null===(z=S.img2VideoMm)||void 0===z?void 0:z.model)}}G(!0),Z(),eE({e:"sdp.generate.req",var:{"gen-img-req-param":n,"gen-img-type":"sd3"},page:6,t:1});let k=localStorage.getItem("isTourOpen");k?ek(!1):ek(!0),(0,lM.j)(),0===K?(n.taskQueuePriority=ey.current,O.BP.rawOpus(n).then(t=>{if(C.v3.includes(String(t.code))){(0,lj.jU)({isShowChargeEntry:!1,failurePrompt:[t.msg],billingReferer:[19]}),G(!1);return}if(!t.code&&t.data)eI.current=t.data,eb(n.taskQueuePriority),(0,lj.XK)({type:"refresh_vip_info",data:{wipeRawRail:!0}}),e3({id:t.data});else{D.ZP.error("生成失败"),G(!1);return}})):O.BP.sendSd3(n).then(t=>{var l;if(C.v3.includes(String(t.code))){(0,lj.jU)({isShowChargeEntry:!1,failurePrompt:[t.msg],billingReferer:[19]}),G(!1);return}if(!t.code&&(null===(l=t.data)||void 0===l?void 0:l.generateId))eI.current=t.data,(0,lj.XK)({type:"refresh_vip_info",data:{wipeRawRail:!0}}),e2(t.data.generateId,c,!0);else{D.ZP.error("生成失败"),G(!1);return}})},e8=t=>{let l=t?2:1;ey.current=l,ej(l)};(0,p.useEffect)(()=>{eQ&&(eL.query.uuid?q(0):O.BP.getHomePage().then(t=>{var l,o;(null===(l=t)||void 0===l?void 0:l.enterPage)&&q(null===(o=t)||void 0===o?void 0:o.enterPage)}))},[]);let e6={height:"calc(95vh - 30px)"};return ey.current,(0,p.useEffect)(()=>{if(eQ){switch(K){case 0:eE({e:"svd.ai.entry.click"});break;case 1:eE({e:"svd.advanced.entry.click"});break;case 2:eE({e:"svd.video.entry.click"})}O.BP.getProcessList({source:0}).then(t=>{t&&t.length>0&&(G(!0),0===K?e3({id:t[t.length-1].generateId}):e2(t[t.length-1].generateId,t[t.length-1].modelKey,!0))})}},[K]),(0,u.jsxs)("div",{className:"relative mx-auto overflow-hidden border-t-[1px] border-t-[#F1F1F1] dark:border-t-[#2A2D3D]",children:[(0,u.jsx)("div",{children:(0,u.jsxs)("div",{className:"flex flex-row",style:e6,children:[(0,u.jsx)("div",{className:"overflow-y-auto overflow-x-hidden",children:(0,u.jsx)(lf.Z,{activeType:K,setType:q})}),(0,u.jsx)("div",{className:"overflow-y-auto pt-[10px] pb-[90px] overflow-x-hidden border-r-[1px] border-l-[1px] ".concat(ak().tabsWrap),children:0===K?(0,u.jsx)(ax,{drawImg:e5,spinning:F,setTaskQueuePriority:e8,queuePriority:ey.current}):(0,u.jsx)(aO,{className:"flex-none",power:Y,sdParams:d,setModelType:T,drawImg:e5,spinning:F,showOnceText:H,modelType:w,typeAi:K,setGptImg:es,getParams:eU,onChange:(t,l)=>{"string"==typeof t?c({...d,[t]:l}):c(t)}})}),(0,u.jsxs)("div",{className:"flex-1 pl-[24px] overflow-y-auto pr-[24px] overflow-x-hidden",onScroll:eq,ref:eG,children:[(0,u.jsx)("div",{className:"mb-[12px] ".concat(ak().seleWrap),children:(0,u.jsx)(N.default,{defaultValue:null,options:[{value:null,label:"类型:全部"},{value:3,label:"AI 应用"},{value:2,label:"视频生成"},{value:1,label:"高级生图"}],style:{width:120},suffixIcon:(0,u.jsx)(h.J,{fontSize:14,className:"icon-Chevron_Down ".concat(ak().selectIcon)}),onChange:(t,l)=>{eo(t)}})}),0===K&&F&&eQ&&(0,u.jsx)(aP,{taskQueuePriority:eN,vipSpeedup:e1,loadingData:eT}),0!=K&&(0,u.jsx)(lN,{list:R,spinning:F}),eV&&eQ?(0,u.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,u.jsx)("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):(0,u.jsx)(lh,{list:P,isLogin:eQ,drawImg:e5,spinning:F}),eW&&eQ&&(0,u.jsx)("div",{className:"text-center py-4",children:(0,u.jsx)(I.default,{})}),!eZ&&P.length>0&&(0,u.jsx)("div",{className:"text-center py-4 text-gray-500",children:"没有更多数据了"})]})]})}),n,e4()]})};var lI=t=>(0,u.jsx)(T.I,{metaHeaderProps:{title:"LiblibAI\xb7哩布哩布AI - 在线免费生图",keywords:"LiblibAI\xb7哩布哩布AI - 在线免费生图",description:"LiblibAI\xb7哩布哩布AI - 在线免费生图"},...t,sidebarDefaultCollapsed:!0,topbarProps:{hideSidebarToggle:!1,hideSearchInput:!0,showVipButton:!0,hideUploadButton:!0,showPowerBtn:!0},children:(0,u.jsx)(lb,{})})},49818:function(t,l,o){"use strict";o.d(l,{B:function(){return c}});var n=o(12294),d=o(3554);let c=(0,n.Ue)((t,l)=>({iframeRef:null,showGallery:!1,currentWorkflowId:"",originWorkflowId:"",queuePriority:1,workflowName:"",pattern:"onlyCheck",inputConfig:new Map,workflowModelId:void 0,workflowModelInfo:void 0,trialsNumber:0,async setWorkflowModelId(o){t({workflowModelId:o});let{syncTrialCount:n}=l(),c=await d.j8.getModelInfoByUuid(o,!1);c&&(t({workflowModelInfo:c}),n())},syncTrialCount(){let{workflowModelInfo:o}=l();o&&d.j8.getVersionCount({modelId:o.id,modelVersionId:o.versions[0].id}).then(l=>{l.code||t({trialsNumber:l.data})}).catch(()=>{})},setInputConfig(l){t({inputConfig:l})},outputConfig:new Map,setOutputConfig(l){t({outputConfig:l})},setPattern(l){t({pattern:l})},setWorkflowName(l){t({workflowName:l})},setIframeRef(l){t({iframeRef:l})},setQueuePriority(l){t({queuePriority:l})},setWorkflowId(l){t({currentWorkflowId:l})},setShowGallery(l){t({showGallery:l})},setOriginWorkflowId(l){t({originWorkflowId:l})},sendMessageToComfy(t){var o,n,d;let{iframeRef:c}=l();if(console.log("sendMessageToComfy  发送消息",t),!(null===(o=t)||void 0===o?void 0:o.type)||!(null===(d=c)||void 0===d?void 0:null===(n=d.contentWindow)||void 0===n?void 0:n.postMessage))return!1;c.contentWindow.postMessage({to:"comfy",...t},"*")}}))},24882:function(t,l,o){"use strict";o.d(l,{M:function(){return h},t:function(){return v}});var n=o(12294),d=o(35179),c=o(3554),u=o(97453);let p=(t,l)=>({openBatchOperate:!1,batchDownload:!1,setBatchDownload(l){t({batchDownload:l})},activeType:d.Z.IMG,setActiveType(l){t({activeType:l})},checksNumber:0,switchBatchOperate(o){if(t({openBatchOperate:o}),!o){let{initSelect:t}=l();t()}},initSelect(){t({checksNumber:0}),t({selectedFiles:{}})},selectedFiles:{},onCheckAll(o){let{activeType:n,initSelect:c,imgList:u,videoList:p}=l();if(o){if(n===d.Z.IMG){let l={};u.forEach(t=>{l[t.id]={url:t.imageUrl,width:t.width,height:t.height,id:t.id,originImageUrl:t.originImageUrl}}),t({selectedFiles:l}),t({checksNumber:u.length})}else if(n===d.Z.VIDEO){let l={};p.forEach(t=>{l[t.id]=t.videoUrl}),t({selectedFiles:l}),t({checksNumber:p.length})}}else c()},setSelectedFiles(o,n,d,c,u){let{selectedFiles:p,checksNumber:v}=l(),h={...p};h[o]?(delete h[o],v-=1):(h[o]={url:n,width:d,height:c,id:o,originImageUrl:u},v+=1),t({checksNumber:v}),t({selectedFiles:h})},imgList:[],setImgList(l){t({imgList:l})},imgConfig:{pageNo:1,pageSize:80,total:0},setImgConfig(o){let{imgConfig:n}=l();t({imgConfig:{...n,...o}})},getImgList:async o=>{var n,d;let{imgConfig:p,setImgConfig:v,getImgList:h}=l();c.BP.getComfyHistory({pageNo:(null===(n=o)||void 0===n?void 0:n.pageNo)||p.pageNo,pageSize:(null===(d=o)||void 0===d?void 0:d.pageSize)||p.pageSize,fromTime:"2024-01-01 00:00:00",toTime:(0,u.oi)()}).then(l=>{var o,n,d;if(console.log("图片记录",null===(o=l)||void 0===o?void 0:o.list),null===(n=l)||void 0===n?void 0:n.list){if(!(null===(d=l.list)||void 0===d?void 0:d.length)&&l.pageSize&&l.total&&l.total!==p.total){let t=Math.ceil(l.total/l.pageSize);v({total:l.total,pageNo:t}),h({pageNo:t,pageSize:l.pageSize})}else t({imgList:l.list}),v({total:l.total||0,pageNo:l.pageNo||1})}}).catch(t=>{})},getTeamImgList:async o=>{var n,d,p;let{imgConfig:v,setImgConfig:h,getTeamImgList:M}=l();c.BP.getTeamComfyHistory({pageNo:(null===(n=o)||void 0===n?void 0:n.pageNo)||v.pageNo,pageSize:(null===(d=o)||void 0===d?void 0:d.pageSize)||v.pageSize,fromTime:"2024-01-01 00:00:00",toTime:(0,u.oi)(),teamId:null===(p=o)||void 0===p?void 0:p.teamId,imageSource:3}).then(l=>{var o,n,d;if(console.log("图片记录",null===(o=l)||void 0===o?void 0:o.list),null===(n=l)||void 0===n?void 0:n.list){if(!(null===(d=l.list)||void 0===d?void 0:d.length)&&l.pageSize&&l.total&&l.total!==v.total){let t=Math.ceil(l.total/l.pageSize);h({total:l.total,pageNo:t}),M({pageNo:t,pageSize:l.pageSize})}else t({imgList:l.list}),h({total:l.total||0,pageNo:l.pageNo||1})}}).catch(t=>{})},videoList:[],videoConfig:{pageNo:1,pageSize:80,total:0},setVideoConfig(o){let{videoConfig:n}=l();t({videoConfig:{...n,...o}})},getVideoList:async o=>{var n,d;let{videoConfig:p,setVideoConfig:v,getVideoList:h}=l();c.BP.getComfyVideoHistory({pageNo:(null===(n=o)||void 0===n?void 0:n.pageNo)||p.pageNo,pageSize:(null===(d=o)||void 0===d?void 0:d.pageSize)||p.pageSize,fromTime:"2024-01-01 00:00:00",toTime:(0,u.oi)()}).then(l=>{var o,n,d;if(console.log("视频记录",null===(o=l)||void 0===o?void 0:o.list),null===(n=l)||void 0===n?void 0:n.list){if(!(null===(d=l.list)||void 0===d?void 0:d.length)&&l.pageSize&&l.total&&l.total!==p.total){let t=Math.ceil(l.total/l.pageSize);v({total:l.total,pageNo:t}),h({pageNo:t,pageSize:l.pageSize})}else t({videoList:l.list}),v({total:l.total||0,pageNo:l.pageNo||1})}}).catch(t=>{})}}),v=(0,n.Ue)(p),h=(0,n.Ue)(p)},33524:function(t,l,o){"use strict";o.d(l,{e:function(){return n}});let n=t=>/\.mp3|\.wav|\.opus|\.oga|\.ogg|\.flac/i.test(t)},55205:function(t){t.exports={contextMenu:"CustomContextMenu_contextMenu__RhwsP",fadeIn:"CustomContextMenu_fadeIn__kneB_",menuItem:"CustomContextMenu_menuItem__WzzR9"}},47944:function(t){t.exports={empty:"Empty_empty__rRQM6",emptyIcon:"Empty_emptyIcon__Eq6ol",emptyText:"Empty_emptyText__34VTk"}},69527:function(t){t.exports={shareImgModal:"download_shareImgModal__nv2Oz",header:"download_header__SGnre",subtitle:"download_subtitle__cYFvz","dialog-footer":"download_dialog-footer__PNIlq","download-btn":"download_download-btn__y6lRw","download-common":"download_download-common___f3bQ","download-ai":"download_download-ai__tqKBN","download-img-box":"download_download-img-box__xHPyO","download-img":"download_download-img__8hFfY","download-img-outbox":"download_download-img-outbox__C2aor","waterMark-box":"download_waterMark-box__EPnxX",libwatermark:"download_libwatermark__a8VDH"}},35966:function(t){t.exports={editorListScrollbar:"download-button_editorListScrollbar__6O8YN",editorImageSelectWrap:"download-button_editorImageSelectWrap__p__mh",editorImageSelectModal:"download-button_editorImageSelectModal__OhybS"}},17236:function(t){t.exports={editorListScrollbar:"editor-upload_editorListScrollbar__mzsB3",videoContent:"editor-upload_videoContent__Bdq_X",editorImageSelectWrap:"editor-upload_editorImageSelectWrap__sFYpm",editorImageSelectModal:"editor-upload_editorImageSelectModal__rpF8B",footerUploadBtn:"editor-upload_footerUploadBtn__Dx0UV",uploadBtn:"editor-upload_uploadBtn__Jxky8",mod:"editor-upload_mod__7T5eK",imgBox:"editor-upload_imgBox__zphoY",imgWrap:"editor-upload_imgWrap__tWaqu",customImage:"editor-upload_customImage__kXa_6",selectCover:"editor-upload_selectCover__8T1Ad",selectIcon:"editor-upload_selectIcon__f8DTg",selectedIcon:"editor-upload_selectedIcon__tl3_I",showFullIcon:"editor-upload_showFullIcon___0_Gn",deleteIcon:"editor-upload_deleteIcon__y47A9",noneBox:"editor-upload_noneBox__ujp9G",editorUploadDragger:"editor-upload_editorUploadDragger__gxatM",hasHistoryUploadDragger:"editor-upload_hasHistoryUploadDragger__T9NkZ"}},77073:function(t){t.exports={commonCard:"modal-part_commonCard__94V_3",modelName:"modal-part_modelName__u_LMF",actionGroup:"modal-part_actionGroup__YyobF",actionBtn:"modal-part_actionBtn__wqM9v",selectedCard:"modal-part_selectedCard__aTYYA",simpleCard:"modal-part_simpleCard__ofP6V",modalSearch:"modal-part_modalSearch__TeoE9",modalSearchDark:"modal-part_modalSearchDark__4lsUE",searchSuffix:"modal-part_searchSuffix__pJyBM",modelSidebar:"modal-part_modelSidebar__BUHXu",activeNav:"modal-part_activeNav__SSF6F",sidebarSection:"modal-part_sidebarSection__SBHRl",modelSidebarDark:"modal-part_modelSidebarDark__auw8N",secondCategoryTag:"modal-part_secondCategoryTag__Jup62",secondCategoryTagItem:"modal-part_secondCategoryTagItem__x2sXK",activeTag:"modal-part_activeTag__2rSac",secondCategoryTagDark:"modal-part_secondCategoryTagDark__TMgLF",TopCategoryTag:"modal-part_TopCategoryTag__DPWdj",TopCategoryTagItem:"modal-part_TopCategoryTagItem__fA31x",TopCategoryTagDark:"modal-part_TopCategoryTagDark__jWdfI",TabSelect:"modal-part_TabSelect__Oboik",TabSelectItem:"modal-part_TabSelectItem__B_vcA",TabSelectDark:"modal-part_TabSelectDark__nOb_s",modelSelectBox:"modal-part_modelSelectBox__K2vO9",modelSelectBoxDark:"modal-part_modelSelectBoxDark__F7kRX",switchContainer:"modal-part_switchContainer__eEImg",switchItem:"modal-part_switchItem__EnpKE",active:"modal-part_active__LfNOQ",disabled:"modal-part_disabled__lct_g"}},78323:function(t){t.exports={businessSpeedAbtest:"Business_businessSpeedAbtest__uExUZ"}},1111:function(t){t.exports={speedBoxWrap:"speed_c_speedBoxWrap__kzEdi",speedBox:"speed_c_speedBox__77_CC",title:"speed_c_title___yCjH",tips:"speed_c_tips__TZhPX",tipsLeft:"speed_c_tipsLeft__NNjhB",tipsCenter:"speed_c_tipsCenter__q49oE",tipsRight:"speed_c_tipsRight__Ven7J",tipn:"speed_c_tipn__1UInS",closeBox:"speed_c_closeBox__tlT1a",countWrap:"speed_c_countWrap__dldh3",conut:"speed_c_conut__QdcZq",countLine:"speed_c_countLine__2zyfn",numt:"speed_c_numt__SluZJ",countTip:"speed_c_countTip__vras7",coTip:"speed_c_coTip__93_SC",conutTip:"speed_c_conutTip__ko4k3",getBtn:"speed_c_getBtn__7QXck",getTip:"speed_c_getTip__ZgGrd",speedbg:"speed_c_speedbg__6smYN"}},37787:function(t){t.exports={speedBox:"speed_speedBox__n00KU",title:"speed_title__8t_JQ",tips:"speed_tips__Cbe47",countWrap:"speed_countWrap__TotJn",countTipWrap:"speed_countTipWrap__FywWU",coTip:"speed_coTip__yz6XR",conutTip:"speed_conutTip__lIz_R",countLine:"speed_countLine__tZsXV",conut:"speed_conut__s6yxS",numt:"speed_numt__oheuH",closeBox:"speed_closeBox__WLOU9",getBtn:"speed_getBtn__zu3O2",getTip:"speed_getTip__ehWxo",speedBoxAbtest:"speed_speedBoxAbtest__Gj9DT",highlight:"speed_highlight__ZRSBm",tipsLeft:"speed_tipsLeft__ffouI",tipsCenter:"speed_tipsCenter__0WgRT",tipsRight:"speed_tipsRight__ETby0",countTip:"speed_countTip__oRKN9",tipn:"speed_tipn__V5SUY",speedbg:"speed_speedbg__9tnq7"}},9115:function(t){t.exports={modelWrap:"models-modal_modelWrap__tZSoL"}},10885:function(t){t.exports={head:"ModelApiLeft_head__9pH1r",powerWrap:"ModelApiLeft_powerWrap__DR_T8",apiName:"ModelApiLeft_apiName__DAbFt",toolWrap:"ModelApiLeft_toolWrap__xfU9b",ndWrap:"ModelApiLeft_ndWrap__O67qd",ndhead:"ModelApiLeft_ndhead__f_YY8",ndcontent:"ModelApiLeft_ndcontent__ENm1V",rawImg:"ModelApiLeft_rawImg__03pwb",lightIcon:"ModelApiLeft_lightIcon__3v5uY",rawImgWrap:"ModelApiLeft_rawImgWrap__yw7yv",disableRawImg:"ModelApiLeft_disableRawImg__JZXHY",unpower:"ModelApiLeft_unpower__7DV2H",LimitedTime:"ModelApiLeft_LimitedTime__Ss6Zg"}},77512:function(t){t.exports={modelWrap:"ModelsModal_modelWrap__9R3we",modeContWrap:"ModelsModal_modeContWrap__z4O9X",emptyWrap:"ModelsModal_emptyWrap__FCqMJ",emptyIcon:"ModelsModal_emptyIcon__CjFsY",emptyText:"ModelsModal_emptyText__PvY67",mdSearch:"ModelsModal_mdSearch__h8x5m",bdColor:"ModelsModal_bdColor__HEiDe",cardBg:"ModelsModal_cardBg__GhhNu",cardText:"ModelsModal_cardText__ljIDB",cardBtnBg:"ModelsModal_cardBtnBg__sekvh",fgTit:"ModelsModal_fgTit__XK2av",fgTitAct:"ModelsModal_fgTitAct__soy9d",modelSelectHeader:"ModelsModal_modelSelectHeader__BVn4D",modelSelectTitle:"ModelsModal_modelSelectTitle___OFt1",modelSelectDark:"ModelsModal_modelSelectDark__uaKNz",searchSuffix:"ModelsModal_searchSuffix__9T1hA",modelSidebar:"ModelsModal_modelSidebar__u9g9X",activeNav:"ModelsModal_activeNav__mZTKn",sidebarSection:"ModelsModal_sidebarSection__wxB9o",modelSidebarDark:"ModelsModal_modelSidebarDark__vRcT8"}},67921:function(t){t.exports={bg:"common_bg__y_W8I",bgPopover:"common_bgPopover__mLiOs",windowBg:"common_windowBg__vlABJ",mgBack:"common_mgBack__73xZg",mgBackAct:"common_mgBackAct__OypgF",mgb:"common_mgb__78m9f",bvg:"common_bvg__L7so1"}},50493:function(t){t.exports={liblibfont:"fields_liblibfont__r0wrb",manintSelect:"fields_manintSelect__M5thL",ColorWrap:"fields_ColorWrap__tez1f",imgMask:"fields_imgMask__gUF6g",imgMaskTit:"fields_imgMaskTit__JZKTq",imgWrap:"fields_imgWrap__TI0qh",uploadBox:"fields_uploadBox__zud7U",arrSelect:"fields_arrSelect__ie9n_",seWr:"fields_seWr__Q_WNH",textarea:"fields_textarea__5vm1s",maskbg:"fields_maskbg__KAqjC",errLora:"fields_errLora__PwILa",selectIcon:"fields_selectIcon__WDRfG",selectdropdown:"fields_selectdropdown__NhNCe",uploadModbg:"fields_uploadModbg__2IFvH"}},53048:function(t){t.exports={inutnum:"inputNumber_inutnum__uT38n",Sliders:"inputNumber_Sliders__DKS68",SliderDarks:"inputNumber_SliderDarks__ptWQ_",darkInput:"inputNumber_darkInput__LGWVL"}},97095:function(t){t.exports={prew:"FloatingLayer_prew__Goi7Q",videoBox:"FloatingLayer_videoBox__PFKr5",shareImgModal:"FloatingLayer_shareImgModal__NdDdH",videoWrap:"FloatingLayer_videoWrap__sTkyC",closeWrap:"FloatingLayer_closeWrap__R5wxa"}},91877:function(t){t.exports={imgRow:"multimedia_imgRow__LyS0Q",videoList:"multimedia_videoList__eHE5e",tagWrapperVideo:"multimedia_tagWrapperVideo__LfNQp",imageList:"multimedia_imageList__FBKK5",tagWrapper:"multimedia_tagWrapper__diM_E",otherFileList:"multimedia_otherFileList__F2UuR",textContent:"multimedia_textContent__4KLl_",audioContent:"multimedia_audioContent__icV0Y",audioBg:"multimedia_audioBg__laRWe",audioTitle:"multimedia_audioTitle__4IAyj",audioTitleText:"multimedia_audioTitleText__6nPgK",progressBar:"multimedia_progressBar__ymghq",progressBarInner:"multimedia_progressBarInner__2I82s",waveWrapper:"multimedia_waveWrapper__rbcq7",wave:"multimedia_wave__dxn2J",progressBarActive:"multimedia_progressBarActive__TCYpM",waveMove:"multimedia_waveMove__k297C",activeWave:"multimedia_activeWave__TOcI7"}},12181:function(t){t.exports={historyList:"ImageLoading_historyList__FjXDP",imgRow:"ImageLoading_imgRow__2Pt0U",prompt:"ImageLoading_prompt__oEVO9",promptCont:"ImageLoading_promptCont__VGdTw",size:"ImageLoading_size__fs83E",imgLabel:"ImageLoading_imgLabel__v_vOw",imgModel:"ImageLoading_imgModel__r4LJ6",mixModelWrap:"ImageLoading_mixModelWrap__1MRFV",mixModel:"ImageLoading_mixModel__aUvZP",mixModelName:"ImageLoading_mixModelName__yUjFP",imageList:"ImageLoading_imageList__NPo_t",tagWrapper:"ImageLoading_tagWrapper__NFgIt",imgF1:"ImageLoading_imgF1__WUy_X",imgF2:"ImageLoading_imgF2__mflaM",imgF3:"ImageLoading_imgF3__XUf4m",imgF4:"ImageLoading_imgF4__7wwvL",imgF5:"ImageLoading_imgF5__5zoA5",imgF6:"ImageLoading_imgF6__sDSSj",imgF7:"ImageLoading_imgF7__Mttbh",loadingInfo:"ImageLoading_loadingInfo__zpLoP",action:"ImageLoading_action__4Y4wV",actionSpan:"ImageLoading_actionSpan__Y_Q1p",actionTxt:"ImageLoading_actionTxt__tmScd",blackBg:"ImageLoading_blackBg___P_N9"}},88696:function(t){t.exports={pageTitle:"Imghistory_pageTitle__lrgNH",contentBox:"Imghistory_contentBox__FbNQj",head:"Imghistory_head__acP2W",headLabel:"Imghistory_headLabel__8XRKT",prompt:"Imghistory_prompt__0aj_x",text:"Imghistory_text__pumvG",imgBox:"Imghistory_imgBox__z3FsB",imgRow:"Imghistory_imgRow__YCB9z",imageList:"Imghistory_imageList__uYhfO",tagWrapper:"Imghistory_tagWrapper__HK4uk",videoList:"Imghistory_videoList__M_BBp",tagWrapperVideo:"Imghistory_tagWrapperVideo__HEHW1",tagV:"Imghistory_tagV__Ceoky",tagP:"Imghistory_tagP__Er3oT",historyList:"Imghistory_historyList___OU5S",Spanr:"Imghistory_Spanr__7KRK4",videoLabel:"Imghistory_videoLabel__83oln",imgLabel:"Imghistory_imgLabel__QxyUv",AiLabel:"Imghistory_AiLabel__nMzvZ",newheadLabel:"Imghistory_newheadLabel__XRumd",time:"Imghistory_time__byw_U",size:"Imghistory_size__MG4CY",action:"Imghistory_action__2EZUX",actionSpan:"Imghistory_actionSpan__gclLJ",actionTxt:"Imghistory_actionTxt__JtrCh",mod:"Imghistory_mod__jtrWr",textWrapper:"Imghistory_textWrapper__FKAW5",ellipsisText:"Imghistory_ellipsisText__zVRbZ",expanded:"Imghistory_expanded__WzrPx",buttonsWrapper:"Imghistory_buttonsWrapper__0YbAv",expandBtn:"Imghistory_expandBtn__q63sK",copyBtn:"Imghistory_copyBtn__IzyN0",imgRowWrap:"Imghistory_imgRowWrap__rzNtg",imgRows:"Imghistory_imgRows__i70Yt",imgLoding:"Imghistory_imgLoding__nnbQP",rotate:"Imghistory_rotate__3eVGq",headv:"Imghistory_headv__9aslN"}},56795:function(t){t.exports={inputBox:"InputText_inputBox__HtYvw",header:"InputText_header__cpFCG",uploadImgBox:"InputText_uploadImgBox__viKqb",imgDelete:"InputText_imgDelete__tiu1W",imgFooter:"InputText_imgFooter__RnhfW",inputTextarea:"InputText_inputTextarea__u9dmW",inPd:"InputText_inPd__USgUQ",inputCheck:"InputText_inputCheck__HQjst",inputBg:"InputText_inputBg__sAQ_7",textColor:"InputText_textColor__g8fOI",inputCheckTit:"InputText_inputCheckTit__OG5AK"}},88401:function(t){t.exports={navWrap:"ToolNav_navWrap__zQOr6",toolNavTitle:"ToolNav_toolNavTitle__E5GuK",toolNavLine:"ToolNav_toolNavLine__PVXu1",toolNavItem:"ToolNav_toolNavItem__gQD0K",toolNavActive:"ToolNav_toolNavActive__f4G34"}},84788:function(t){t.exports={bannerImg:"lib3_bannerImg__jw1rf",bannerFont:"lib3_bannerFont__wVaen",bannerTextImg:"lib3_bannerTextImg__8RNcK",v3Text:"lib3_v3Text__sKWQi",inputleft:"lib3_inputleft__1BXm0",froms:"lib3_froms__Cx4Kn",fromRow:"lib3_fromRow__U9m8i",fromSelect:"lib3_fromSelect__Mjx3W",fromLable:"lib3_fromLable__dZvyS",rawImg:"lib3_rawImg__NVET4",rawImgWrap:"lib3_rawImgWrap__dRM2V",disableRawImg:"lib3_disableRawImg__zgypd",lightIcon:"lib3_lightIcon__xJ_i2",power:"lib3_power__6Sc_w",unpower:"lib3_unpower__Oztbi",LimitedTime:"lib3_LimitedTime__SUNYm",inputBox:"lib3_inputBox__kHBdn",header:"lib3_header__3meZv",resultDownloadIcon:"lib3_resultDownloadIcon__8XS_4",modelImg:"lib3_modelImg__ViyhD",modeltit:"lib3_modeltit__GeFq_",changeType:"lib3_changeType__a0I_0",modelImgBorder:"lib3_modelImgBorder__cY9E_",TipsImgButton:"lib3_TipsImgButton__muXdg",TipsImgButtonWrap:"lib3_TipsImgButtonWrap__6_998",TipsTxt:"lib3_TipsTxt__r5adE",uploadBtn:"lib3_uploadBtn__uAAYf",deleteIcon:"lib3_deleteIcon__qA6sZ",reRole:"lib3_reRole__PGpzu",reRoleSpan:"lib3_reRoleSpan__6gMka",uploadWrap:"lib3_uploadWrap__JdX3b",uploadModbg:"lib3_uploadModbg___bjnO",wait:"lib3_wait__rKEfQ",tabsWrap:"lib3_tabsWrap__tjF4O",ndWrap:"lib3_ndWrap__WPgHR",ndhead:"lib3_ndhead__2RLoS",ndcontent:"lib3_ndcontent__I1nhH",seleWrap:"lib3_seleWrap__3kH61",selectIcon:"lib3_selectIcon__tfMtU",gptImgWrap:"lib3_gptImgWrap__3RnIc",uploadimg:"lib3_uploadimg__WELgp",gptTip:"lib3_gptTip__k_Ar0",gptuploadBox:"lib3_gptuploadBox__SXRqW",gptBtnWrap:"lib3_gptBtnWrap__FuuNu",gptImgBtn:"lib3_gptImgBtn__1zsXu",popWrap:"lib3_popWrap__L5qDL",gptImgWr:"lib3_gptImgWr__HXfJx",gptImgContWrap:"lib3_gptImgContWrap__GdMdM",gptImg:"lib3_gptImg__v7Mvo",gptdeleteIcon:"lib3_gptdeleteIcon__yW3dw",changeImg:"lib3_changeImg__oQOQZ",changopc:"lib3_changopc__czEVP",progressBox:"lib3_progressBox__hDb74",speedBox:"lib3_speedBox__q8lOb",bar:"lib3_bar__QaAH_",progressBar:"lib3_progressBar__03HSV",progressWrap:"lib3_progressWrap__E_jEx"}},91958:function(t){t.exports="https://liblibai-web-static.liblib.cloud/liblibai_v4_online/static/_next/static/images/bg_preset_modal_card.6a48ad63b3a21c37a994e8d2dc0405a3.png"},54514:function(t){t.exports="data:image/png;base64,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"},45470:function(t){t.exports="https://liblibai-web-static.liblib.cloud/liblibai_v4_online/static/_next/static/images/common-vip.4789d1b4e1b0015ced759e33db560a2a.svg"},40691:function(t){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI3BhaW50MF9hbmd1bGFyXzEzNDhfNDAxNV9jbGlwX3BhdGgpIiBkYXRhLWZpZ21hLXNraXAtcGFyc2U9InRydWUiPjxnIHRyYW5zZm9ybT0ibWF0cml4KDAuMDEgMCAwIDAuMDEgMTIgMTIpIj48Zm9yZWlnbk9iamVjdCB4PSItMTIxMy4zMyIgeT0iLTEyMTMuMzMiIHdpZHRoPSIyNDI2LjY3IiBoZWlnaHQ9IjI0MjYuNjciPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJiYWNrZ3JvdW5kOmNvbmljLWdyYWRpZW50KGZyb20gOTBkZWcscmdiYSgyNTUsIDI1NSwgMjU1LCAwLjAwMDEpIDBkZWcscmdiYSg0OSwgMTA3LCAyNTUsIDEpIDM2MGRlZyk7aGVpZ2h0OjEwMCU7d2lkdGg6MTAwJTtvcGFjaXR5OjEiPjwvZGl2PjwvZm9yZWlnbk9iamVjdD48L2c+PC9nPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTIgMTlDMTUuODY2IDE5IDE5IDE1Ljg2NiAxOSAxMkMxOSA4LjEzNDAxIDE1Ljg2NiA1IDEyIDVDOC4xMzQwMSA1IDUgOC4xMzQwMSA1IDEyQzUgMTUuODY2IDguMTM0MDEgMTkgMTIgMTlaTTEyIDIyQzE3LjUyMjggMjIgMjIgMTcuNTIyOCAyMiAxMkMyMiA2LjQ3NzE1IDE3LjUyMjggMiAxMiAyQzYuNDc3MTUgMiAyIDYuNDc3MTUgMiAxMkMyIDE3LjUyMjggNi40NzcxNSAyMiAxMiAyMloiIGRhdGEtZmlnbWEtZ3JhZGllbnQtZmlsbD0ieyYjMzQ7dHlwZSYjMzQ7OiYjMzQ7R1JBRElFTlRfQU5HVUxBUiYjMzQ7LCYjMzQ7c3RvcHMmIzM0OzpbeyYjMzQ7Y29sb3ImIzM0Ozp7JiMzNDtyJiMzNDs6MS4wLCYjMzQ7ZyYjMzQ7OjEuMCwmIzM0O2ImIzM0OzoxLjAsJiMzNDthJiMzNDs6OS45OTk5OTk3NDczNzg3NTE2ZS0wNX0sJiMzNDtwb3NpdGlvbiYjMzQ7OjAuMH0seyYjMzQ7Y29sb3ImIzM0Ozp7JiMzNDtyJiMzNDs6MC4xOTU4MzMzNDAyODcyMDg1NiwmIzM0O2cmIzM0OzowLjQyMTAwMDAwMzgxNDY5NzI3LCYjMzQ7YiYjMzQ7OjEuMCwmIzM0O2EmIzM0OzoxLjB9LCYjMzQ7cG9zaXRpb24mIzM0OzoxLjB9XSwmIzM0O3N0b3BzVmFyJiMzNDs6W3smIzM0O2NvbG9yJiMzNDs6eyYjMzQ7ciYjMzQ7OjEuMCwmIzM0O2cmIzM0OzoxLjAsJiMzNDtiJiMzNDs6MS4wLCYjMzQ7YSYjMzQ7OjkuOTk5OTk5NzQ3Mzc4NzUxNmUtMDV9LCYjMzQ7cG9zaXRpb24mIzM0OzowLjB9LHsmIzM0O2NvbG9yJiMzNDs6eyYjMzQ7ciYjMzQ7OjAuMTk1ODMzMzQwMjg3MjA4NTYsJiMzNDtnJiMzNDs6MC40MjEwMDAwMDM4MTQ2OTcyNywmIzM0O2ImIzM0OzoxLjAsJiMzNDthJiMzNDs6MS4wfSwmIzM0O3Bvc2l0aW9uJiMzNDs6MS4wfV0sJiMzNDt0cmFuc2Zvcm0mIzM0Ozp7JiMzNDttMDAmIzM0OzoyMC4wLCYjMzQ7bTAxJiMzNDs6MC4wLCYjMzQ7bTAyJiMzNDs6Mi4wLCYjMzQ7bTEwJiMzNDs6MC4wLCYjMzQ7bTExJiMzNDs6MjAuMCwmIzM0O20xMiYjMzQ7OjIuMH0sJiMzNDtvcGFjaXR5JiMzNDs6MS4wLCYjMzQ7YmxlbmRNb2RlJiMzNDs6JiMzNDtOT1JNQUwmIzM0OywmIzM0O3Zpc2libGUmIzM0Ozp0cnVlfSIvPgo8Y2lyY2xlIGN4PSIyMC41IiBjeT0iMTIiIHI9IjEuNSIgZmlsbD0idXJsKCNwYWludDFfbGluZWFyXzEzNDhfNDAxNSkiLz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0icGFpbnQwX2FuZ3VsYXJfMTM0OF80MDE1X2NsaXBfcGF0aCI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMiAxOUMxNS44NjYgMTkgMTkgMTUuODY2IDE5IDEyQzE5IDguMTM0MDEgMTUuODY2IDUgMTIgNUM4LjEzNDAxIDUgNSA4LjEzNDAxIDUgMTJDNSAxNS44NjYgOC4xMzQwMSAxOSAxMiAxOVpNMTIgMjJDMTcuNTIyOCAyMiAyMiAxNy41MjI4IDIyIDEyQzIyIDYuNDc3MTUgMTcuNTIyOCAyIDEyIDJDNi40NzcxNSAyIDIgNi40NzcxNSAyIDEyQzIgMTcuNTIyOCA2LjQ3NzE1IDIyIDEyIDIyWiIvPjwvY2xpcFBhdGg+PGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzEzNDhfNDAxNSIgeDE9IjIwLjUiIHkxPSIxMC41IiB4Mj0iMjAuNSIgeTI9IjEzLjUiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iIzNDNzNGRiIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMzMjZCRkYiLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4K"},45089:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUeSURBVHgBrVZLbFVVFN17n3Pfo4W2lNIfpEJIRRD7AStQikYmhBFx4G/o0IFh4lwZGCcOiM6cOhE/CVGjMcQEUilt0aJtKWrQmFDsF1La9+h7fffcs13nFhsUpEC7kvfOvfece9fZv7UP0wNgz+j5ZhfZnZ50K3tXJWwiEkqYaD5RP8bWTPgFvnJp897R5b7F95tsnejdR0pHWKRSfeKVxTFpoqqJECXK7FRBLAxy9eR5xqj2XdzU+ctDEe6d668p5t3rbEwjKXsFCVY6Vk5UwqiJp8VR8VyIE9B7WO28qjfCN9dK8mVP7cHcsoTtkz90qbpXMJVlBkFqGT4O64gWCUDsyPvUQlFyYROqi1am80k6FiLNnB3Y1HH1fwlbp3v3kKNjKRFeZuw8uI+F8kzSiydXfGlhbHjLszPp+txgXVwoVGWUt4Fju4V18LULXhFsLlibuNK5y02Hfr+LcPd4d63nzDt4UoZbLEZE8BIzXbSj0x8NdBydp/uga/rXiry72eFZmwOZikkJyeuCNJR/PcRtt8I6+88Lju1bYK9AXOAOOA0+gls+Hqrv/I4eAD21O0K8zrT+1T3rxbSKBg/hx2J4Ku7C3OmwTtK4jfc+Lyz1WGCUyCBWlkW/GG54MLI7MbT5uYuq0u/hzZC9XpAEvlS1c6xnyxJhIvwqTDewTBA/EJpzg/UHTtEj4hLKQkSuqkNIQRcSKkO8IyVsGT3fwkqNcKDBaJEsxpTbz2mFsLW2H5svqrALlmLM7rjWXyNkpJMULiRjAhmuu3+q2DNNK8QAd8RE/s9Qu0KwFC4uK9N6qBQ1I+1DjJFAKHXWC7RKSArRdQGhv/2Di9dbuPFxJIpF+itKQrCtKVolVFo3m/PqEChoCczxNouk0SpcQjBgK2J4qb7rD1ol9DYdKIiB9AW3GlgIMbKaZiXgAy2tOlD6sDBCocfpvTD5Qqg/hr2QJ/v09I+NtEponRhca0zkTJwkxkjCGVlA8sgk6sQEl0L1bYn8dlolSNZH6p3zJnSRJMnGJg/38s9pOYBQQx06/wytErigVcZKap2HpV5LOdShdiNDDXuUBfTNiL7QfKWvklaIXSOfZpwU0bjZldDODCzMRzQjw7X7B5Awk4gi6lMtrqvXVtK7tEL4um01iBeaJmIXRsfF39CQ07yEgH4IhTGoQ0OSZu3h9qne1+gR0XLz+2oq3lqnNuu8d1BTNKPYTYS5pX7YMnH+FGToycCOZEZLY4Ps/WCwofMEPQSemD5XITFvsBKZSJy4GNGz7AZu1/dS5YmlN8B0C4UDdQsikLaqN9sm+t5/6saFpuWIjutxaZ85s35NUSqNRh4x87G36EGZmEazS8eMfx8xxntehA68h6xFfdLt3khBgcL4CbrXNzi2jY7U7xsM6yFYfOjsWUNbyd6orinjYi5KJBK74ExSbsWWEtPUEE19xR3z9yQMaJvsOwyCE8S6ntJ2lTZkxDdYnVoestkO1X0b7br8kl1TXbBronVmbn7axtUZycyjzk3WeCpCxuK5kbpD+Tu/f5eYDdbvP50kcgRtc0zDhoKkU5B2DT8UTvqMjtPbWD1CmaSEu+uUqSjzMpsgDomWxxS3buya/C/ZPQkDwgl6uPEABICP4fPXFolTqtSN+E89s6Ywo+NuQXMbKzwUQ0vl4nL5/ByOhtc/w8nvXt+2dB8MNew/ieFk21TfQRyFj4K1Hdy7oU4bwnxFbrvOVhUwZePHNlwt9vPLCS2DvwGYJL1kT0uy/wAAAABJRU5ErkJggg=="},81758:function(t){t.exports="data:image/png;base64,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"},95259:function(t){t.exports="data:image/png;base64,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"},46977:function(t){t.exports="data:image/png;base64,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"},37024:function(t){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgaWQ9IkZyYW1lIj4KPHBhdGggaWQ9IlVuaW9uIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuNDAwMDIgMS4zOTk5QzcuMTYyOTEgMS4zOTk5IDYuOTQ4MDQgMS41Mzk1NCA2Ljg1MTc0IDEuNzU2MjJMNC42MzkzMyA2LjczNDE0SDMuNDAyNzFDMi4zNTk0NSA2LjcxODg3IDEuNTM0NjggNy41NjM4MyAxLjQwNTMyIDguNTIwMTVDMS40MDE3MSA4LjU0NjgxIDEuMzk5OSA4LjU3MzY4IDEuMzk5OSA4LjYwMDU4VjEyLjgwMDZDMS4zOTk5IDEyLjgyNzUgMS40MDE3MSAxMi44NTQzIDEuNDA1MzIgMTIuODgxQzEuNTQwMDkgMTMuODc3MyAyLjM5ODA0IDE0LjYxNTUgMy40MDI3NCAxNC42MDA2SDQuOTk5OUM1LjAwOTQ1IDE0LjYwMDYgNS4wMTg5NSAxNC42MDA0IDUuMDI4NCAxNC41OTk5SDExLjk2OUMxMi44NjQ3IDE0LjYwODIgMTMuNjMwNSAxMy45NTY0IDEzLjc2NTEgMTMuMDcwNUwxMy43NjUyIDEzLjA2OTlMMTQuNTkzMSA3LjY3MDg1TDE0LjU5MzIgNy42Njk5NUMxNC42NzI1IDcuMTQ3ODEgMTQuNTE4NCA2LjYxNzIyIDE0LjE3MTkgNi4yMTg3MkwxNC4xNzE5IDYuMjE4NjlDMTMuODI2MiA1LjgyMTE1IDEzLjMyMzcgNS41OTUwMiAxMi43OTY5IDUuNTk5OTFIOS44MDAwMlYzLjc5OTkxQzkuODAwMDIgMi40NzQ0MiA4LjcyNTUzIDEuMzk5OSA3LjQwMDAyIDEuMzk5OVpNNS42MDAwMiA3LjUyNzI0TDcuNzY0ODUgMi42NTYzNkM4LjI0OTIyIDIuODEwNzYgOC42MDAwMiAzLjI2NDM2IDguNjAwMDIgMy43OTk5MVY2LjE5OTkxQzguNjAwMDIgNi41MzEyOCA4Ljg2ODY1IDYuNzk5OTEgOS4yMDAwMiA2Ljc5OTkxSDEyLjhWNi43OTk5NUwxMi44MDY4IDYuNzk5ODdDMTIuOTgyOCA2Ljc5Nzg3IDEzLjE1MDkgNi44NzMyOCAxMy4yNjY0IDcuMDA2MTRDMTMuMzgxOCA3LjEzODgzIDEzLjQzMzEgNy4zMTU0NiAxMy40MDY5IDcuNDg5MzRMMTMuNDA2OCA3LjQ4OTg4TDEyLjU3OSAxMi44ODlMMTIuNTc4OCAxMi44OUMxMi41MzQgMTMuMTg1OCAxMi4yNzggMTMuNDAzMyAxMS45Nzg4IDEzLjRWMTMuMzk5OUgxMS45NzJINS42MDAwMlY3LjUyNzI0Wk0yLjU5OTkgMTIuNzU0NVY4LjY0NjIyQzIuNjczNDMgOC4yMjg5OSAzLjAzNzE3IDcuOTI3ODYgMy4zODcyOSA3LjkzNDA1TDMuMzg3MjkgNy45MzQxNEgzLjM5NzlINC4zOTk5VjEzLjQwMDZIMy4zOTc5VjEzLjQwMDVMMy4zODcyOSAxMy40MDA3QzMuMDAwMzMgMTMuNDA3NSAyLjY2Nzg5IDEzLjEzMjEgMi41OTk5IDEyLjc1NDVaIiBmaWxsPSIjOTk5OTk5Ii8+CjwvZz4KPC9zdmc+Cg=="},66692:function(t){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgaWQ9IkZyYW1lIj4KPHBhdGggaWQ9IlZlY3RvciIgZD0iTTkuMiA2LjE5OTk1VjMuNzk5OTVDOS4yIDIuODA1ODMgOC4zOTQxMyAxLjk5OTk0IDcuNCAxLjk5OTk0TDUgNy4zOTk5NVYxMy45OTk5SDExLjk3MkMxMi41NzA0IDE0LjAwNjcgMTMuMDgyMyAxMy41NzE2IDEzLjE3MiAxMi45Nzk5TDE0IDcuNTc5OTVDMTQuMDUyOCA3LjIzMTg1IDEzLjk1MDEgNi44NzgxMiAxMy43MTkxIDYuNjEyNDVDMTMuNDg4MSA2LjM0Njc4IDEzLjE1MjEgNi4xOTU5NSAxMi44IDYuMTk5OTVIOS4yWiIgc3Ryb2tlPSIjMTczRUZGIiBzdHJva2Utd2lkdGg9IjEuMzMzMzMiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggaWQ9IlZlY3Rvcl8yIiBkPSJNNSA3LjMzMzM5SDMuMzk4QzIuNjk1MTEgNy4zMjA5NSAyLjA5NDIzIDcuOTAzMTkgMiA4LjU5OTgyVjEyLjc5OThDMi4wOTQyMyAxMy40OTY1IDIuNjk1MTEgMTQuMDEyMyAzLjM5OCAxMy45OTk4SDVWNy4zMzMzOVoiIGZpbGw9IiMxNzNFRkYiIHN0cm9rZT0iIzE3M0VGRiIgc3Ryb2tlLXdpZHRoPSIxLjMzMzMzIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjwvZz4KPC9zdmc+Cg=="},85210:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABqSURBVHgB7dWxEYAgDEbh4IWjdUUm0A3ESVjRloNCYQVSeMf7qr9NmicCAGtzYiTnvLfWrr5V9Y4xPmJAxUgpJTnnjr5rrf3wUwxs8nNmHwwhpO9zY3vvkwDAQElmURIAq6MksygJAGDOCywrOh4pPoDvAAAAAElFTkSuQmCC"},42868:function(t){t.exports="https://liblibai-web-static.liblib.cloud/liblibai_v4_online/static/_next/static/images/libwatermark.61b486c773ff551431325f950896a08d.png"},83482:function(t){t.exports="https://liblibai-web-static.liblib.cloud/liblibai_v4_online/static/_next/static/images/ai-toolbox-l.4d16a6e1a9ba2481a34d07af5d951a38.svg"},62692:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIBSURBVHgB7ZghbMJAFIZfCQoJSEhQYMFi0aBxqwDNJkhwY55kmyehk1iwaCwaFAEkWCSsf7MmhF3Ze3ctYUm/pGnTa3P/vXvv3rsjiomJuYkV1NButzun0+nZsqwCRSnAstbn89kZDodvynbVy1ar9ere+sVikbLZLEXJarWi/X6PxxdX5Md1e1L1kzsqO51OU7fbpXswGAwgtOM+/hKYUP3gmrxQKpXoXmQyGa9PVVuCHpwkGXA8Hmk+n3t+tN1ufV/y/Dafz1O5XKZqtUomaAtcLBbkOI4n8hoIxYVvJpMJNRoNbaFaAsfjMc1mM9a3h8OBRqORd6/X6yRF7IPT6ZQt7hJYEgOTIhIIf0NHumBgmHYJIoGwnilBfhsEWyCs50epCX7kc2ELlE7NLbAscWELDMN6PpvNhv0tW+But6OwwJLD5eFTHVtgmGUX0iAXtsBcLkdhIRksW2CY5ReKCC5sgUj2qVSKTEHtJykc2AIhzrZtMgWVjQRRFFcqFarVaqQLqhlp2SVeZprNplbZhIFJrQe06kF0hEhE8fBXhvFdA9bXQbuixlThQuJHnoZQP9sgELDWIfJNg8toT3IpNCr+Z6pz96hrSUI3BeUXjkBUbUEnC5/L5fK91+tR1Bt4GOIn0L5U7YGHR+75TN8V+hS04w8LzBYMojqXiYmJYfAN8hjLAAFYiX8AAAAASUVORK5CYII="},4284:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHoSURBVHgB7Zihb8JAFMZf2RRqCVgIDgs4UBNYsNiSgGb/wYLDziM6hwaNhSnA4kiwIGaQsPuaNSHkOt67axuW9Jc0Ta7X3nfv7t17fUQpKSl/4oQ96Pf7g/P5/OY4ToniFOA4u8vl4o3H46Hu+ZOusdfrvavbSL38QvGDMV5rtdr3arX6un2Y0b2hhLmUMGrMga5dK1CZvEQJEzZmhh6cZ7Igm81SvV6ncrlMhUKB8vm83344HGi/39Nms6HFYkE2GAusVqvkuq4v8hYIxYU+7XabptOpsVAjgZ1Oh5rNJqtvLpejbrfr32ezGUkR78FWq8UWdw0siYlJEQlsNBr+QKZgYlh2CSKBsJ4tYfs2DLZAWC/wUhsCz+fCFlipVCgqcCxxYQuMwnoBxWKR3ZctEAdxVODI4fLwoY4tEOErKhAGubAFSj56D8lk2QK32y1FBZIILmyBy+WSTqcT2XI8HkWJA1sgxHmeR7Ygs5Eg8uL1ek3z+ZxMQTYjTbvEx8xkMjFKmzAxqfWAUT6IgeCJSB7uRZhga8D6Jhhn1FgqXEgiEKchNIg2QcoPz7d1Lqt/kmuhcfE/Q536R91RwqAEomsPqyx8UMIoo3zq2rW1GdRIVK3E+S0cxVqfwWqpcYaqeDSilJQUOT9gHKx6BQ/mEwAAAABJRU5ErkJggg=="},13903:function(t){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgaWQ9Im1vdXNlLXBvaW50ZXIiPgo8ZyBpZD0iT3V0bGluZWQiPgo8cGF0aCBkPSJNMS42NzkwNyAxLjY3ODU4QzIuMDA3MjYgMS4zNTAzOSAyLjQ1MjM4IDEuMTY2MDIgMi45MTY1IDEuMTY2MDJDMy4yMzg2NyAxLjE2NjAyIDMuNDk5ODQgMS40MjcxOCAzLjQ5OTg0IDEuNzQ5MzVDMy40OTk4NCAyLjA3MTUyIDMuMjM4NjcgMi4zMzI2OCAyLjkxNjUgMi4zMzI2OEMyLjc2MTc5IDIuMzMyNjggMi42MTM0MiAyLjM5NDE0IDIuNTA0MDIgMi41MDM1NEMyLjM5NDYzIDIuNjEyOTMgMi4zMzMxNyAyLjc2MTMxIDIuMzMzMTcgMi45MTYwMkMyLjMzMzE3IDMuMjM4MTggMi4wNzIgMy40OTkzNSAxLjc0OTg0IDMuNDk5MzVDMS40Mjc2NyAzLjQ5OTM1IDEuMTY2NSAzLjIzODE4IDEuMTY2NSAyLjkxNjAyQzEuMTY2NSAyLjQ1MTg5IDEuMzUwODggMi4wMDY3NyAxLjY3OTA3IDEuNjc4NThaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNC42NjY1IDEuNzQ5MzVDNC42NjY1IDEuNDI3MTggNC45Mjc2NyAxLjE2NjAyIDUuMjQ5ODQgMS4xNjYwMkg1LjgzMzE3QzYuMTU1MzQgMS4xNjYwMiA2LjQxNjUgMS40MjcxOCA2LjQxNjUgMS43NDkzNUM2LjQxNjUgMi4wNzE1MiA2LjE1NTM0IDIuMzMyNjggNS44MzMxNyAyLjMzMjY4SDUuMjQ5ODRDNC45Mjc2NyAyLjMzMjY4IDQuNjY2NSAyLjA3MTUyIDQuNjY2NSAxLjc0OTM1WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTcuNTgzMTcgMS43NDkzNUM3LjU4MzE3IDEuNDI3MTggNy44NDQzNCAxLjE2NjAyIDguMTY2NSAxLjE2NjAySDguNzQ5ODRDOS4wNzIgMS4xNjYwMiA5LjMzMzE3IDEuNDI3MTggOS4zMzMxNyAxLjc0OTM1QzkuMzMzMTcgMi4wNzE1MiA5LjA3MiAyLjMzMjY4IDguNzQ5ODQgMi4zMzI2OEg4LjE2NjVDNy44NDQzNCAyLjMzMjY4IDcuNTgzMTcgMi4wNzE1MiA3LjU4MzE3IDEuNzQ5MzVaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMTAuNDk5OCAxLjc0OTM1QzEwLjQ5OTggMS40MjcxOCAxMC43NjEgMS4xNjYwMiAxMS4wODMyIDEuMTY2MDJDMTEuNTQ3MyAxLjE2NjAyIDExLjk5MjQgMS4zNTAzOSAxMi4zMjA2IDEuNjc4NThDMTIuNjQ4OCAyLjAwNjc3IDEyLjgzMzIgMi40NTE4OSAxMi44MzMyIDIuOTE2MDJDMTIuODMzMiAzLjIzODE4IDEyLjU3MiAzLjQ5OTM1IDEyLjI0OTggMy40OTkzNUMxMS45Mjc3IDMuNDk5MzUgMTEuNjY2NSAzLjIzODE4IDExLjY2NjUgMi45MTYwMkMxMS42NjY1IDIuNzYxMzEgMTEuNjA1IDIuNjEyOTMgMTEuNDk1NiAyLjUwMzU0QzExLjM4NjMgMi4zOTQxNCAxMS4yMzc5IDIuMzMyNjggMTEuMDgzMiAyLjMzMjY4QzEwLjc2MSAyLjMzMjY4IDEwLjQ5OTggMi4wNzE1MiAxMC40OTk4IDEuNzQ5MzVaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMS43NDk4NCA0LjY2NjAyQzIuMDcyIDQuNjY2MDIgMi4zMzMxNyA0LjkyNzE4IDIuMzMzMTcgNS4yNDkzNVY1LjgzMjY4QzIuMzMzMTcgNi4xNTQ4NSAyLjA3MiA2LjQxNjAyIDEuNzQ5ODQgNi40MTYwMkMxLjQyNzY3IDYuNDE2MDIgMS4xNjY1IDYuMTU0ODUgMS4xNjY1IDUuODMyNjhWNS4yNDkzNUMxLjE2NjUgNC45MjcxOCAxLjQyNzY3IDQuNjY2MDIgMS43NDk4NCA0LjY2NjAyWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTEyLjI0OTggNC42NjYwMkMxMi41NzIgNC42NjYwMiAxMi44MzMyIDQuOTI3MTggMTIuODMzMiA1LjI0OTM1VjYuNDE2MDJDMTIuODMzMiA2LjczODE4IDEyLjU3MiA2Ljk5OTM1IDEyLjI0OTggNi45OTkzNUMxMS45Mjc3IDYuOTk5MzUgMTEuNjY2NSA2LjczODE4IDExLjY2NjUgNi40MTYwMlY1LjI0OTM1QzExLjY2NjUgNC45MjcxOCAxMS45Mjc3IDQuNjY2MDIgMTIuMjQ5OCA0LjY2NjAyWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03LjYxMDE3IDYuNDc2MTNDNy40NTIyNSA2LjQxMzgzIDcuMjc5NTkgNi4zOTg4NyA3LjExMzI3IDYuNDMzMTFDNi45NDU5NCA2LjQ2NzU2IDYuNzkyMzkgNi41NTAzIDYuNjcxNTkgNi42NzExQzYuNTUwNzkgNi43OTE5IDYuNDY4MDUgNi45NDU0NSA2LjQzMzYgNy4xMTI3OEM2LjM5OTM2IDcuMjc5MSA2LjQxNDMyIDcuNDUxNzcgNi40NzY2MiA3LjYwOTY4TDguNTE3OTcgMTIuODU4OUM4LjU4Mzk1IDEzLjAyNzcgOC43MDA3NSAxMy4xNzE5IDguODUyMjMgMTMuMjcxNUM5LjAwMzcxIDEzLjM3MTEgOS4xODIzOCAxMy40MjEyIDkuMzYzNTYgMTMuNDE0OUM5LjU0NDczIDEzLjQwODUgOS43MTk0NyAxMy4zNDYxIDkuODYzNjIgMTMuMjM2MUMxMC4wMDc4IDEzLjEyNjIgMTAuMTE0MiAxMi45NzQyIDEwLjE2ODIgMTIuODAxMUwxMC43OTEgMTAuNzkxNkwxMC43OTE2IDEwLjc5MTFMMTIuODAxNiAxMC4xNjc3QzEyLjk3NDcgMTAuMTEzNyAxMy4xMjY3IDEwLjAwNzMgMTMuMjM2NiA5Ljg2MzE0QzEzLjM0NjYgOS43MTg5OCAxMy40MDkgOS41NDQyNCAxMy40MTU0IDkuMzYzMDdDMTMuNDIxNyA5LjE4MTkgMTMuMzcxNiA5LjAwMzIyIDEzLjI3MiA4Ljg1MTc0QzEzLjE3MjQgOC43MDAyNiAxMy4wMjgyIDguNTgzNDYgMTIuODU5NCA4LjUxNzQ4TDcuNjEwMTcgNi40NzYxM1pNNy44MDM2NCA3LjgwMzE1TDkuMzAxODEgMTEuNjU1Nkw5LjY3NjQ5IDEwLjQ0NjZDOS42NzY0NSAxMC40NDY3IDkuNjc2NTMgMTAuNDQ2NSA5LjY3NjQ5IDEwLjQ0NjZDOS43MzI1NiAxMC4yNjU0IDkuODMyMDYgMTAuMTAwMyA5Ljk2NjE0IDkuOTY2MjRDMTAuMTAwMiA5LjgzMjE4IDEwLjI2NDkgOS43MzI4MSAxMC40NDYgOS42NzY3M0MxMC40NDU5IDkuNjc2NzggMTAuNDQ2MiA5LjY3NjY4IDEwLjQ0NiA5LjY3NjczTDExLjY1NjMgOS4zMDE0Mkw3LjgwMzY0IDcuODAzMTVaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMS43NDk4NCA3LjU4MjY4QzIuMDcyIDcuNTgyNjggMi4zMzMxNyA3Ljg0Mzg1IDIuMzMzMTcgOC4xNjYwMlY4Ljc0OTM1QzIuMzMzMTcgOS4wNzE1MiAyLjA3MiA5LjMzMjY4IDEuNzQ5ODQgOS4zMzI2OEMxLjQyNzY3IDkuMzMyNjggMS4xNjY1IDkuMDcxNTIgMS4xNjY1IDguNzQ5MzVWOC4xNjYwMkMxLjE2NjUgNy44NDM4NSAxLjQyNzY3IDcuNTgyNjggMS43NDk4NCA3LjU4MjY4WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTEuNzQ5ODQgMTAuNDk5M0MyLjA3MiAxMC40OTkzIDIuMzMzMTcgMTAuNzYwNSAyLjMzMzE3IDExLjA4MjdDMi4zMzMxNyAxMS4yMzc0IDIuMzk0NjMgMTEuMzg1OCAyLjUwNDAyIDExLjQ5NTJDMi42MTM0MiAxMS42MDQ2IDIuNzYxNzkgMTEuNjY2IDIuOTE2NSAxMS42NjZDMy4yMzg2NyAxMS42NjYgMy40OTk4NCAxMS45MjcyIDMuNDk5ODQgMTIuMjQ5M0MzLjQ5OTg0IDEyLjU3MTUgMy4yMzg2NyAxMi44MzI3IDIuOTE2NSAxMi44MzI3QzIuNDUyMzcgMTIuODMyNyAyLjAwNzI2IDEyLjY0ODMgMS42NzkwNyAxMi4zMjAxQzEuMzUwODggMTEuOTkxOSAxLjE2NjUgMTEuNTQ2OCAxLjE2NjUgMTEuMDgyN0MxLjE2NjUgMTAuNzYwNSAxLjQyNzY3IDEwLjQ5OTMgMS43NDk4NCAxMC40OTkzWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTQuNjY2NSAxMi4yNDkzQzQuNjY2NSAxMS45MjcyIDQuOTI3NjcgMTEuNjY2IDUuMjQ5ODQgMTEuNjY2SDYuNDE2NUM2LjczODY3IDExLjY2NiA2Ljk5OTg0IDExLjkyNzIgNi45OTk4NCAxMi4yNDkzQzYuOTk5ODQgMTIuNTcxNSA2LjczODY3IDEyLjgzMjcgNi40MTY1IDEyLjgzMjdINS4yNDk4NEM0LjkyNzY3IDEyLjgzMjcgNC42NjY1IDEyLjU3MTUgNC42NjY1IDEyLjI0OTNaIiBmaWxsPSJ3aGl0ZSIvPgo8L2c+CjwvZz4KPC9zdmc+Cg=="},26847:function(t){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgaWQ9Im1vdXNlLXBvaW50ZXIiPgo8ZyBpZD0iT3V0bGluZWQiPgo8cGF0aCBkPSJNMS42Nzk1NiAxLjY3ODU4QzIuMDA3NzQgMS4zNTAzOSAyLjQ1Mjg2IDEuMTY2MDIgMi45MTY5OSAxLjE2NjAyQzMuMjM5MTYgMS4xNjYwMiAzLjUwMDMzIDEuNDI3MTggMy41MDAzMyAxLjc0OTM1QzMuNTAwMzMgMi4wNzE1MiAzLjIzOTE2IDIuMzMyNjggMi45MTY5OSAyLjMzMjY4QzIuNzYyMjggMi4zMzI2OCAyLjYxMzkxIDIuMzk0MTQgMi41MDQ1MSAyLjUwMzU0QzIuMzk1MTIgMi42MTI5MyAyLjMzMzY2IDIuNzYxMzEgMi4zMzM2NiAyLjkxNjAyQzIuMzMzNjYgMy4yMzgxOCAyLjA3MjQ5IDMuNDk5MzUgMS43NTAzMyAzLjQ5OTM1QzEuNDI4MTYgMy40OTkzNSAxLjE2Njk5IDMuMjM4MTggMS4xNjY5OSAyLjkxNjAyQzEuMTY2OTkgMi40NTE4OSAxLjM1MTM3IDIuMDA2NzcgMS42Nzk1NiAxLjY3ODU4WiIgZmlsbD0iIzJGMzY0MCIvPgo8cGF0aCBkPSJNNC42NjY5OSAxLjc0OTM1QzQuNjY2OTkgMS40MjcxOCA0LjkyODE2IDEuMTY2MDIgNS4yNTAzMyAxLjE2NjAySDUuODMzNjZDNi4xNTU4MiAxLjE2NjAyIDYuNDE2OTkgMS40MjcxOCA2LjQxNjk5IDEuNzQ5MzVDNi40MTY5OSAyLjA3MTUyIDYuMTU1ODIgMi4zMzI2OCA1LjgzMzY2IDIuMzMyNjhINS4yNTAzM0M0LjkyODE2IDIuMzMyNjggNC42NjY5OSAyLjA3MTUyIDQuNjY2OTkgMS43NDkzNVoiIGZpbGw9IiMyRjM2NDAiLz4KPHBhdGggZD0iTTcuNTgzNjYgMS43NDkzNUM3LjU4MzY2IDEuNDI3MTggNy44NDQ4MyAxLjE2NjAyIDguMTY2OTkgMS4xNjYwMkg4Ljc1MDMzQzkuMDcyNDkgMS4xNjYwMiA5LjMzMzY2IDEuNDI3MTggOS4zMzM2NiAxLjc0OTM1QzkuMzMzNjYgMi4wNzE1MiA5LjA3MjQ5IDIuMzMyNjggOC43NTAzMyAyLjMzMjY4SDguMTY2OTlDNy44NDQ4MyAyLjMzMjY4IDcuNTgzNjYgMi4wNzE1MiA3LjU4MzY2IDEuNzQ5MzVaIiBmaWxsPSIjMkYzNjQwIi8+CjxwYXRoIGQ9Ik0xMC41MDAzIDEuNzQ5MzVDMTAuNTAwMyAxLjQyNzE4IDEwLjc2MTUgMS4xNjYwMiAxMS4wODM3IDEuMTY2MDJDMTEuNTQ3OCAxLjE2NjAyIDExLjk5MjkgMS4zNTAzOSAxMi4zMjExIDEuNjc4NThDMTIuNjQ5MyAyLjAwNjc3IDEyLjgzMzcgMi40NTE4OSAxMi44MzM3IDIuOTE2MDJDMTIuODMzNyAzLjIzODE4IDEyLjU3MjUgMy40OTkzNSAxMi4yNTAzIDMuNDk5MzVDMTEuOTI4MiAzLjQ5OTM1IDExLjY2NyAzLjIzODE4IDExLjY2NyAyLjkxNjAyQzExLjY2NyAyLjc2MTMxIDExLjYwNTUgMi42MTI5MyAxMS40OTYxIDIuNTAzNTRDMTEuMzg2NyAyLjM5NDE0IDExLjIzODQgMi4zMzI2OCAxMS4wODM3IDIuMzMyNjhDMTAuNzYxNSAyLjMzMjY4IDEwLjUwMDMgMi4wNzE1MiAxMC41MDAzIDEuNzQ5MzVaIiBmaWxsPSIjMkYzNjQwIi8+CjxwYXRoIGQ9Ik0xLjc1MDMzIDQuNjY2MDJDMi4wNzI0OSA0LjY2NjAyIDIuMzMzNjYgNC45MjcxOCAyLjMzMzY2IDUuMjQ5MzVWNS44MzI2OEMyLjMzMzY2IDYuMTU0ODUgMi4wNzI0OSA2LjQxNjAyIDEuNzUwMzMgNi40MTYwMkMxLjQyODE2IDYuNDE2MDIgMS4xNjY5OSA2LjE1NDg1IDEuMTY2OTkgNS44MzI2OFY1LjI0OTM1QzEuMTY2OTkgNC45MjcxOCAxLjQyODE2IDQuNjY2MDIgMS43NTAzMyA0LjY2NjAyWiIgZmlsbD0iIzJGMzY0MCIvPgo8cGF0aCBkPSJNMTIuMjUwMyA0LjY2NjAyQzEyLjU3MjUgNC42NjYwMiAxMi44MzM3IDQuOTI3MTggMTIuODMzNyA1LjI0OTM1VjYuNDE2MDJDMTIuODMzNyA2LjczODE4IDEyLjU3MjUgNi45OTkzNSAxMi4yNTAzIDYuOTk5MzVDMTEuOTI4MiA2Ljk5OTM1IDExLjY2NyA2LjczODE4IDExLjY2NyA2LjQxNjAyVjUuMjQ5MzVDMTEuNjY3IDQuOTI3MTggMTEuOTI4MiA0LjY2NjAyIDEyLjI1MDMgNC42NjYwMloiIGZpbGw9IiMyRjM2NDAiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03LjYxMDY2IDYuNDc2MTNDNy40NTI3NCA2LjQxMzgzIDcuMjgwMDggNi4zOTg4NyA3LjExMzc2IDYuNDMzMTFDNi45NDY0MyA2LjQ2NzU2IDYuNzkyODcgNi41NTAzIDYuNjcyMDggNi42NzExQzYuNTUxMjggNi43OTE5IDYuNDY4NTQgNi45NDU0NSA2LjQzNDA5IDcuMTEyNzhDNi4zOTk4NSA3LjI3OTEgNi40MTQ4MSA3LjQ1MTc3IDYuNDc3MTEgNy42MDk2OEw4LjUxODQ2IDEyLjg1ODlDOC41ODQ0NCAxMy4wMjc3IDguNzAxMjQgMTMuMTcxOSA4Ljg1MjcyIDEzLjI3MTVDOS4wMDQyIDEzLjM3MTEgOS4xODI4NyAxMy40MjEyIDkuMzY0MDUgMTMuNDE0OUM5LjU0NTIyIDEzLjQwODUgOS43MTk5NiAxMy4zNDYxIDkuODY0MTEgMTMuMjM2MUMxMC4wMDgzIDEzLjEyNjIgMTAuMTE0NyAxMi45NzQyIDEwLjE2ODcgMTIuODAxMUwxMC43OTE1IDEwLjc5MTZMMTAuNzkyMSAxMC43OTExTDEyLjgwMjEgMTAuMTY3N0MxMi45NzUxIDEwLjExMzcgMTMuMTI3MiAxMC4wMDczIDEzLjIzNzEgOS44NjMxNEMxMy4zNDcxIDkuNzE4OTggMTMuNDA5NSA5LjU0NDI0IDEzLjQxNTggOS4zNjMwN0MxMy40MjIyIDkuMTgxOSAxMy4zNzIxIDkuMDAzMjIgMTMuMjcyNSA4Ljg1MTc0QzEzLjE3MjkgOC43MDAyNiAxMy4wMjg3IDguNTgzNDYgMTIuODU5OCA4LjUxNzQ4TDcuNjEwNjYgNi40NzYxM1pNNy44MDQxMyA3LjgwMzE1TDkuMzAyMyAxMS42NTU2TDkuNjc2OTggMTAuNDQ2NkM5LjY3Njk0IDEwLjQ0NjcgOS42NzcwMiAxMC40NDY1IDkuNjc2OTggMTAuNDQ2NkM5LjczMzA1IDEwLjI2NTQgOS44MzI1NSAxMC4xMDAzIDkuOTY2NjMgOS45NjYyNEMxMC4xMDA3IDkuODMyMTggMTAuMjY1NCA5LjczMjgxIDEwLjQ0NjUgOS42NzY3M0MxMC40NDY0IDkuNjc2NzggMTAuNDQ2NyA5LjY3NjY4IDEwLjQ0NjUgOS42NzY3M0wxMS42NTY4IDkuMzAxNDJMNy44MDQxMyA3LjgwMzE1WiIgZmlsbD0iIzJGMzY0MCIvPgo8cGF0aCBkPSJNMS43NTAzMyA3LjU4MjY4QzIuMDcyNDkgNy41ODI2OCAyLjMzMzY2IDcuODQzODUgMi4zMzM2NiA4LjE2NjAyVjguNzQ5MzVDMi4zMzM2NiA5LjA3MTUyIDIuMDcyNDkgOS4zMzI2OCAxLjc1MDMzIDkuMzMyNjhDMS40MjgxNiA5LjMzMjY4IDEuMTY2OTkgOS4wNzE1MiAxLjE2Njk5IDguNzQ5MzVWOC4xNjYwMkMxLjE2Njk5IDcuODQzODUgMS40MjgxNiA3LjU4MjY4IDEuNzUwMzMgNy41ODI2OFoiIGZpbGw9IiMyRjM2NDAiLz4KPHBhdGggZD0iTTEuNzUwMzMgMTAuNDk5M0MyLjA3MjQ5IDEwLjQ5OTMgMi4zMzM2NiAxMC43NjA1IDIuMzMzNjYgMTEuMDgyN0MyLjMzMzY2IDExLjIzNzQgMi4zOTUxMiAxMS4zODU4IDIuNTA0NTEgMTEuNDk1MkMyLjYxMzkxIDExLjYwNDYgMi43NjIyOCAxMS42NjYgMi45MTY5OSAxMS42NjZDMy4yMzkxNiAxMS42NjYgMy41MDAzMyAxMS45MjcyIDMuNTAwMzMgMTIuMjQ5M0MzLjUwMDMzIDEyLjU3MTUgMy4yMzkxNiAxMi44MzI3IDIuOTE2OTkgMTIuODMyN0MyLjQ1Mjg2IDEyLjgzMjcgMi4wMDc3NCAxMi42NDgzIDEuNjc5NTYgMTIuMzIwMUMxLjM1MTM3IDExLjk5MTkgMS4xNjY5OSAxMS41NDY4IDEuMTY2OTkgMTEuMDgyN0MxLjE2Njk5IDEwLjc2MDUgMS40MjgxNiAxMC40OTkzIDEuNzUwMzMgMTAuNDk5M1oiIGZpbGw9IiMyRjM2NDAiLz4KPHBhdGggZD0iTTQuNjY2OTkgMTIuMjQ5M0M0LjY2Njk5IDExLjkyNzIgNC45MjgxNiAxMS42NjYgNS4yNTAzMyAxMS42NjZINi40MTY5OUM2LjczOTE2IDExLjY2NiA3LjAwMDMzIDExLjkyNzIgNy4wMDAzMyAxMi4yNDkzQzcuMDAwMzMgMTIuNTcxNSA2LjczOTE2IDEyLjgzMjcgNi40MTY5OSAxMi44MzI3SDUuMjUwMzNDNC45MjgxNiAxMi44MzI3IDQuNjY2OTkgMTIuNTcxNSA0LjY2Njk5IDEyLjI0OTNaIiBmaWxsPSIjMkYzNjQwIi8+CjwvZz4KPC9nPgo8L3N2Zz4K"},748:function(t){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyIDcuNUw5IDEwLjVMNiA3LjUiIHN0cm9rZT0iI0IyQjJCMiIvPgo8L3N2Zz4K"},46068:function(t){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAxMiAxMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iNiIgY3k9IjYiIHI9IjUuNSIgZmlsbD0iIzAzMDMwMSIgc3Ryb2tlPSJ3aGl0ZSIvPgo8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfMTYwNV8yMzAxMSkiPgo8cmVjdCB3aWR0aD0iNS44MTgzOSIgaGVpZ2h0PSIwLjk2OTczMiIgcng9IjAuNDg0ODY2IiB0cmFuc2Zvcm09Im1hdHJpeCgwLjcwNzA3IDAuNzA3MTQzIC0wLjcwNzA3IDAuNzA3MTQzIDQuMjg1NjQgMy41OTk2MSkiIGZpbGw9IndoaXRlIi8+CjxyZWN0IHdpZHRoPSI1LjgxODM5IiBoZWlnaHQ9IjAuOTY5NzMyIiByeD0iMC40ODQ4NjYiIHRyYW5zZm9ybT0ibWF0cml4KDAuNzA3MDg4IC0wLjcwNzEyNiAwLjcwNzA4OCAwLjcwNzEyNiAzLjYwMDEgNy43MTM4NykiIGZpbGw9IndoaXRlIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDBfMTYwNV8yMzAxMSI+CjxyZWN0IHdpZHRoPSI1IiBoZWlnaHQ9IjUiIGZpbGw9IndoaXRlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzLjUgMy41KSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo="}},function(t){var l=function(l){return t(t.s=l)};t.O(0,[3866,2812,5417,4282,6023,7905,9506,4741,1059,436,6116,1633,4749,7538,755,4875,4658,8943,8799,2739,3354,5014,8596,4321,9405,886,5195,7539,6155,1127,7748,7011,7415,8533,8505,2110,2866,830,613,6281,4009,1055,9774,2888,179],function(){return l(29209)}),_N_E=t.O()}]);


console.log('asfdsadfadsfasdfa')